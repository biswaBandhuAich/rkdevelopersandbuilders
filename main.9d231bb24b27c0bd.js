"use strict";(self.webpackChunkflat_booking_app=self.webpackChunkflat_booking_app||[]).push([[590],{820:(zs,cr,Qe)=>{var E=Qe(528);let F=null,En=1;const Ht=Symbol("SIGNAL");function et(t){const e=F;return F=t,e}function It(t){if((!Xr(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==En)){if(!t.producerMustRecompute(t)&&!ur(t))return t.dirty=!1,void(t.lastCleanEpoch=En);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=En}}function ur(t){tt(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(It(n),r!==n.version))return!0}return!1}function Ft(t,e){if(function $n(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),tt(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Ft(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];tt(i),i.producerIndexOfThis[r]=e}}function Xr(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let pi=null;function xe(t){return"function"==typeof t}function dr(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zn=dr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function er(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof zn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{qs(s)}catch(o){e=e??[],o instanceof zn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zn(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qs(e);else{if(e instanceof gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&er(n,e)}remove(e){const{_finalizers:n}=this;n&&er(n,e),e instanceof gt&&e._removeParent(this)}}gt.EMPTY=(()=>{const t=new gt;return t.closed=!0,t})();const mi=gt.EMPTY;function hc(t){return t instanceof gt||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function qs(t){xe(t)?t():t.unsubscribe()}const gi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gs={setTimeout(t,e,...n){const{delegate:r}=Gs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Gs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qa(t){Gs.setTimeout(()=>{const{onUnhandledError:e}=gi;if(!e)throw t;e(t)})}function _i(){}const fc=bs("C",void 0,void 0);function bs(t,e,n){return{kind:t,value:e,error:n}}let Zr=null;function ws(t){if(gi.useDeprecatedSynchronousErrorHandling){const e=!Zr;if(e&&(Zr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Zr;if(Zr=null,n)throw r}}else t()}class bo extends gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hc(e)&&e.add(this)):this.destination=Wa}static create(e,n,r){return new Tr(e,n,r)}next(e){this.isStopped?Ga(function Ws(t){return bs("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ga(function yi(t){return bs("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ga(fc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ks=Function.prototype.bind;function Ys(t,e){return Ks.call(t,e)}class Vi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Qs(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Qs(r)}else Qs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Qs(n)}}}class Tr extends bo{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ys(e.next,s),error:e.error&&Ys(e.error,s),complete:e.complete&&Ys(e.complete,s)}):i=e}this.destination=new Vi(i)}}function Qs(t){gi.useDeprecatedSynchronousErrorHandling?function Eo(t){gi.useDeprecatedSynchronousErrorHandling&&Zr&&(Zr.errorThrown=!0,Zr.error=t)}(t):qa(t)}function Ga(t,e){const{onStoppedNotification:n}=gi;n&&Gs.setTimeout(()=>n(t,e))}const Wa={closed:!0,next:_i,error:function pc(t){throw t},complete:_i},Qi="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cr(t){return t}function Xs(...t){return sa(t)}function sa(t){return 0===t.length?Cr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ot=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function S(t){return t&&t instanceof bo||function mc(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&hc(t)}(n)?n:new Tr(n,r,i);return ws(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ka(r))((i,s)=>{const o=new Tr({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Qi](){return this}pipe(...n){return sa(n)(this)}toPromise(n){return new(n=Ka(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ka(t){var e;return null!==(e=t??gi.Promise)&&void 0!==e?e:Promise}const T=dr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let D=(()=>{class t extends Ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new G(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new T}next(n){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?mi:(this.currentObservers=null,s.push(n),new gt(()=>{this.currentObservers=null,er(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ot;return n.source=this,n}}return t.create=(e,n)=>new G(e,n),t})();class G extends D{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:mi}}class M extends D{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function me(t){return xe(t?.lift)}function ve(t){return e=>{if(me(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,r,i){return new Jr(t,e,n,r,i)}class Jr extends bo{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function fe(t,e){return ve((n,r)=>{let i=0;n.subscribe(Ie(r,s=>{r.next(t.call(e,s,i++))}))})}class O extends Error{constructor(e,n){super(function ei(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function fr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Is(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const $I=Te({__forward_ref__:Te});function Xt(t){return t.__forward_ref__=Xt,t.toString=function(){return at(this())},t}function Oe(t){return Qu(t)?t():t}function Qu(t){return"function"==typeof t&&t.hasOwnProperty($I)&&t.__forward_ref__===Xt}function Zf(t){return t&&!!t.\u0275providers}const _c=Te({\u0275cmp:Te}),$t=Te({\u0275dir:Te}),Xu=Te({\u0275pipe:Te}),hy=Te({\u0275mod:Te}),Xi=Te({\u0275fac:Te}),Ya=Te({__NG_ELEMENT_ID__:Te}),fy=Te({__NG_ENV_ID__:Te});function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function tp(t,e){throw new O(-201,!1)}function ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qa(t){return Ju(t,ed)||Ju(t,by)}function Ju(t,e){return t.hasOwnProperty(e)?t[e]:null}function Xa(t){return t&&(t.hasOwnProperty(vc)||t.hasOwnProperty(np))?t[vc]:null}const ed=Te({\u0275prov:Te}),vc=Te({\u0275inj:Te}),by=Te({ngInjectableDef:Te}),np=Te({ngInjectorDef:Te});var mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mt||{});let Ec;function Za(){return Ec}function wn(t){const e=Ec;return Ec=t,e}function td(t,e,n){const r=Qa(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&mt.Optional?null:void 0!==e?e:void tp()}const lt=globalThis;class ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oa={},Zi="__NG_DI_FLAG__",eo="ngTempTokenPath",Iy=/\n/gm,sp="__source";let tl;function wo(t){const e=tl;return tl=t,e}function id(t,e=mt.Default){if(void 0===tl)throw new O(-203,!1);return null===tl?td(t,void 0,e):tl.get(t,e&mt.Optional?null:void 0,e)}function L(t,e=mt.Default){return(Za()||id)(Oe(t),e)}function ie(t,e=mt.Default){return L(t,Ur(e))}function Ur(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sd(t){const e=[];for(let n=0;n<t.length;n++){const r=Oe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new O(900,!1);let i,s=mt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=ap(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function Ic(t,e){return t[Zi]=e,t.prototype[Zi]=e,t}function ap(t){return t[Zi]}function Ts(t){return{toString:t}.toString()}var ad=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ad||{}),Ei=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ei||{});const Ui={},Et=[];var ge=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ge||{});function ld(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function cd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];lp(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ud(t){return 3===t||4===t||6===t}function lp(t){return 64===t.charCodeAt(0)}function aa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Tc(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Tc(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const dd="ng-template";function Dy(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==ld(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function hd(t){return 4===t.type&&t.value!==dd}function Sy(t,e,n){return e===(4!==t.type||n?t.value:dd)}function cp(t,e,n){let r=4;const i=t.attrs||[],s=function Cc(t){for(let e=0;e<t.length;e++)if(ud(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Sy(t,l,n)||""===l&&1===e.length){if(Ji(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Dy(t.attrs,u,n)){if(Ji(r))return!1;o=!0}continue}const m=up(8&r?"class":l,i,hd(t),n);if(-1===m){if(Ji(r))return!1;o=!0;continue}if(""!==u){let g;g=m>s?"":i[m+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==ld(y,u,0)||2&r&&u!==g){if(Ji(r))return!1;o=!0}}}}else{if(!o&&!Ji(r)&&!Ji(l))return!1;if(o&&Ji(l))continue;o=!1,r=l|1&r}}return Ji(r)||o}function Ji(t){return 0==(1&t)}function up(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function hp(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ay(t,e,n=!1){for(let r=0;r<e.length;r++)if(cp(t,e[r],n))return!0;return!1}function fp(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Dc(t,e){return t?":not("+e.trim()+")":e}function pp(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ji(o)&&(e+=Dc(s,i),i=""),r=o,s=s||!Ji(r);n++}return""!==i&&(e+=Dc(s,i)),e}function pr(t){return Ts(()=>{const e=xy(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ad.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ei.Emulated,styles:t.styles||Et,_:null,schemas:t.schemas||null,tView:null,id:""};pd(n);const r=t.dependencies;return n.directiveDefs=md(r,!1),n.pipeDefs=md(r,!0),n.id=function _p(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function JI(t){return ct(t)||xn(t)}function gp(t){return null!==t}function Zt(t){return Ts(()=>({type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fd(t,e){if(null==t)return Ui;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let s,o,a=ge.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ge.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Me(t){return Ts(()=>{const e=xy(t);return pd(e),e})}function ct(t){return t[_c]||null}function xn(t){return t[$t]||null}function mr(t){return t[Xu]||null}function Sr(t,e){const n=t[hy]||null;if(!n&&!0===e)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function xy(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ui,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fd(t.inputs,e),outputs:fd(t.outputs),debugInfo:null}}function pd(t){t.features?.forEach(e=>e(t))}function md(t,e){if(!t)return null;const n=e?mr:JI;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(gp)}const an=0,ae=1,Pe=2,pn=3,es=4,tr=5,ts=6,Io=7,Jt=8,gr=9,to=10,He=11,Sc=12,Ry=13,la=14,rn=15,Ac=16,ns=17,rs=18,xc=19,My=20,To=21,gd=22,ca=23,We=25,Py=1,Bi=7,rl=9,On=10;var Ny=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ny||{});function Br(t){return Array.isArray(t)&&"object"==typeof t[Py]}function jr(t){return Array.isArray(t)&&!0===t[Py]}function ky(t){return 0!=(4&t.flags)}function il(t){return t.componentOffset>-1}function sl(t){return 1==(1&t.flags)}function _r(t){return!!t.template}function Rc(t){return 0!=(512&t[Pe])}function no(t,e){return t.hasOwnProperty(Xi)?t[Xi]:null}class oT{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ed(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function Ar(){return Uy}function Uy(t){return t.type.prototype.ngOnChanges&&(t.setInput=aT),By}function By(){const t=wp(this),e=t?.current;if(e){const n=t.previous;if(n===Ui)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function aT(t,e,n,r,i){const s=this.declaredInputs[r],o=wp(t)||function Pc(t,e){return t[Mc]=e}(t,{previous:Ui,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new oT(u&&u.currentValue,n,l===Ui),Ed(t,e,i,n)}Ar.ngInherit=!0;const Mc="__ngSimpleChanges__";function wp(t){return t[Mc]||null}const ji=function(t,e,n){},Ip="svg";let jy=!1;function Bt(t){for(;Array.isArray(t);)t=t[an];return t}function wd(t,e){return Bt(e[t])}function Fn(t,e){return Bt(e[t.index])}function Nc(t,e){return t.data[e]}function bi(t,e){const n=e[t];return Br(n)?n:n[an]}function ll(t){return 128==(128&t[Pe])}function Ds(t,e){return null==e?null:t[e]}function Hy(t){t[ns]=0}function Dp(t){1024&t[Pe]||(t[Pe]|=1024,ll(t)&&kc(t))}function Sp(t){return!!(9216&t[Pe]||t[ca]?.dirty)}function Ap(t){Sp(t)?kc(t):64&t[Pe]&&(function Tp(){return jy}()?(t[Pe]|=1024,kc(t)):t[to].changeDetectionScheduler?.notify())}function kc(t){t[to].changeDetectionScheduler?.notify();let e=da(t);for(;null!==e&&!(8192&e[Pe])&&(e[Pe]|=8192,ll(e));)e=da(e)}function Id(t,e){if(256==(256&t[Pe]))throw new O(911,!1);null===t[To]&&(t[To]=[]),t[To].push(e)}function da(t){const e=t[pn];return jr(e)?e[pn]:e}const Be={lFrame:Qy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Cd(){return Be.bindingsEnabled}function cl(){return null!==Be.skipHydrationRootTNode}function q(){return Be.lFrame.lView}function it(){return Be.lFrame.tView}function Ss(t){return Be.lFrame.contextLView=t,t[Jt]}function Co(t){return Be.lFrame.contextLView=null,t}function jt(){let t=Gy();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gy(){return Be.lFrame.currentTNode}function is(t,e){const n=Be.lFrame;n.currentTNode=t,n.isParent=e}function Np(){return Be.lFrame.isParent}function kp(){Be.lFrame.isParent=!1}function As(){return Be.lFrame.bindingIndex++}function wi(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Fp(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,Oc(e)}function Oc(t){Be.lFrame.currentDirectiveIndex=t}function xd(){return Be.lFrame.currentQueryIndex}function Rd(t){Be.lFrame.currentQueryIndex=t}function Ky(t){const e=t[ae];return 2===e.type?e.declTNode:1===e.type?t[tr]:null}function Yy(t,e,n){if(n&mt.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&mt.Host||(i=Ky(s),null===i||(s=s[la],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Be.lFrame=Md();return r.currentTNode=e,r.lView=t,!0}function Up(t){const e=Md(),n=t[ae];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Md(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?Qy(t):e}function Qy(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xy(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Pd=Xy;function Bp(){const t=Xy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nr(){return Be.lFrame.selectedIndex}function fa(t){Be.lFrame.selectedIndex=t}function qt(){const t=Be.lFrame;return Nc(t.tView,t.selectedIndex)}function ul(){Be.lFrame.currentNamespace=Ip}let zp=!0;function Fc(){return zp}function ro(t){zp=t}function Lc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function dl(t,e,n){Jy(t,e,3,n)}function Nd(t,e,n,r){(3&t[Pe])===n&&Jy(t,e,n,r)}function qp(t,e){let n=t[Pe];(3&n)===e&&(n&=16383,n+=1,t[Pe]=n)}function Jy(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[ns]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[ns]+=65536),(a<s||-1==s)&&(vT(t,n,e,l),t[ns]=(4294901760&t[ns])+l+2),l++}function kd(t,e){ji(4,t,e);const n=et(null);try{e.call(t)}finally{et(n),ji(5,t,e)}}function vT(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Pe]>>14<t[ns]>>16&&(3&t[Pe])===e&&(t[Pe]+=16384,kd(a,s)):kd(a,s)}const hl=-1;class fl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Gp(t){return t!==hl}function Vc(t){return 32767&t}function pa(t,e){let n=function TT(t){return t>>16}(t),r=e;for(;n>0;)r=r[la],n--;return r}let Wp=!0;function Od(t){const e=Wp;return Wp=t,e}const ev=255,tv=5;let nv=0;const xs={};function Fd(t,e){const n=rv(t,e);if(-1!==n)return n;const r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Kp(r.data,t),Kp(e,null),Kp(r.blueprint,null));const i=ml(t,e),s=t.injectorIndex;if(Gp(i)){const o=Vc(i),a=pa(i,e),l=a[ae].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Kp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rv(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ml(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=tm(i),null===r)return hl;if(n++,i=i[la],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return hl}function Uc(t,e,n){!function CT(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ya)&&(r=n[Ya]),null==r&&(r=n[Ya]=nv++);const i=r&ev;e.data[t+(i>>tv)]|=1<<i}(t,e,n)}function Ld(t,e,n){if(n&mt.Optional||void 0!==t)return t;tp()}function iv(t,e,n,r){if(n&mt.Optional&&void 0===r&&(r=null),!(n&(mt.Self|mt.Host))){const i=t[gr],s=wn(void 0);try{return i?i.get(e,r,n&mt.Optional):td(e,r,n&mt.Optional)}finally{wn(s)}}return Ld(r,0,n)}function Yp(t,e,n,r=mt.Default,i){if(null!==t){if(2048&e[Pe]&&!(r&mt.Self)){const o=function AT(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Pe]&&!(512&o[Pe]);){const a=Qp(s,o,n,r|mt.Self,xs);if(a!==xs)return a;let l=s.parent;if(!l){const u=o[My];if(u){const h=u.get(n,xs,r);if(h!==xs)return h}l=tm(o),o=o[la]}s=l}return i}(t,e,n,r,xs);if(o!==xs)return o}const s=Qp(t,e,n,r,xs);if(s!==xs)return s}return iv(e,n,r,i)}function Qp(t,e,n,r,i){const s=function Zp(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ya)?t[Ya]:void 0;return"number"==typeof e?e>=0?e&ev:ST:e}(n);if("function"==typeof s){if(!Yy(e,t,r))return r&mt.Host?Ld(i,0,r):iv(e,n,r,i);try{let o;if(o=s(r),null!=o||r&mt.Optional)return o;tp()}finally{Pd()}}else if("number"==typeof s){let o=null,a=rv(t,e),l=hl,u=r&mt.Host?e[rn][tr]:null;for((-1===a||r&mt.SkipSelf)&&(l=-1===a?ml(t,e):e[a+8],l!==hl&&Bc(r,!1)?(o=e[ae],a=Vc(l),e=pa(l,e)):a=-1);-1!==a;){const h=e[ae];if(Jp(s,a,h.data)){const m=Xp(a,e,n,o,r,u);if(m!==xs)return m}l=e[a+8],l!==hl&&Bc(r,e[ae].data[a+8]===u)&&Jp(s,a,e)?(o=h,a=Vc(l),e=pa(l,e)):a=-1}}return i}function Xp(t,e,n,r,i,s){const o=e[ae],a=o.data[t+8],h=Vd(a,o,n,null==r?il(a)&&Wp:r!=o&&0!=(3&a.type),i&mt.Host&&s===a);return null!==h?gl(e,o,h,a):xs}function Vd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,h=s>>20,g=i?a+h:t.directiveEnd;for(let y=r?a:a+h;y<g;y++){const b=o[y];if(y<l&&n===b||y>=l&&b.type===n)return y}if(i){const y=o[l];if(y&&_r(y)&&y.type===n)return l}return null}function gl(t,e,n,r){let i=t[n];const s=e.data;if(function ET(t){return t instanceof fl}(i)){const o=i;o.resolving&&function Jf(t,e){throw e&&e.join(" > "),new O(-200,t)}(function Rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(s[n]));const a=Od(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?wn(o.injectImpl):null;Yy(t,r,mt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function yT(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Uy(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&wn(u),Od(a),o.resolving=!1,Pd()}}return i}function Jp(t,e,n){return!!(n[e+(t>>tv)]&1<<t)}function Bc(t,e){return!(t&mt.Self||t&mt.Host&&e)}class Gn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Yp(this._tNode,this._lView,e,Ur(r),n)}}function ST(){return new Gn(jt(),q())}function rr(t){return Ts(()=>{const e=t.prototype.constructor,n=e[Xi]||em(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Xi]||em(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function em(t){return Qu(t)?()=>{const e=em(Oe(t));return e&&e()}:no(t)}function tm(t){const e=t[ae],n=e.type;return 2===n?e.declTNode:1===n?t[tr]:null}const Hi="__parameters__";function yl(t,e,n){return Ts(()=>{const r=function $c(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,h){const m=l.hasOwnProperty(Hi)?l[Hi]:Object.defineProperty(l,Hi,{value:[]})[Hi];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Do(t,e){t.forEach(n=>Array.isArray(n)?Do(n,e):e(n))}function Ud(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ni(t,e,n){let r=bl(t,e);return r>=0?t[1|r]=n:(r=~r,function uv(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function nm(t,e){const n=bl(t,e);if(n>=0)return t[1|n]}function bl(t,e){return function dv(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ya=Ic(yl("Optional"),8),Hd=Ic(yl("SkipSelf"),4),Ln=new ee(""),$d=new ee("",-1),Wc=new ee("");class zd{get(e,n=oa){if(n===oa){const r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}}function Kc(...t){return{\u0275providers:lm(0,t),\u0275fromNgModule:!0}}function lm(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Do(e,o=>{const a=o;qd(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&cm(i,s),n}function cm(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];um(i,s=>{e(s,r)})}}function qd(t,e,n,r){if(!(t=Oe(t)))return!1;let i=null,s=Xa(t);const o=!s&&ct(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Xa(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)qd(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Do(s.imports,h=>{qd(h,e,n,r)&&(u||=[],u.push(h))})}finally{}void 0!==u&&cm(u,e)}if(!a){const u=no(i)||(()=>new i);e({provide:i,useFactory:u,deps:Et},i),e({provide:Wc,useValue:i,multi:!0},i),e({provide:Ln,useValue:()=>L(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=t;um(l,h=>{e(h,u)})}}}return i!==t&&void 0!==t.providers}function um(t,e){for(let n of t)Zf(n)&&(n=n.\u0275providers),Array.isArray(n)?um(n,e):e(n)}const BT=Te({provide:String,useValue:Te});function dm(t){return null!==t&&"object"==typeof t&&BT in t}function c(t){return"function"==typeof t}const p=new ee(""),_={},v={};let C;function R(){return void 0===C&&(C=new zd),C}class ${}class ue extends ${get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gd(e,o=>this.processProvider(o)),this.records.set($d,so(void 0,this)),i.has("environment")&&this.records.set($,so(void 0,this));const s=this.records.get(p);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Wc,Et,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=wo(this),r=wn(void 0);try{return e()}finally{wo(n),wn(r)}}get(e,n=oa,r=mt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fy))return e[fy](this);r=Ur(r);const s=wo(this),o=wn(void 0);try{if(!(r&mt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function bv(t){return"function"==typeof t||"object"==typeof t&&t instanceof ee}(e)&&Qa(e);l=u&&this.injectableDefInScope(u)?so(ye(e),_):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&mt.Self?R():this.parent).get(e,n=r&mt.Optional&&n===oa?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[eo]=a[eo]||[]).unshift(at(e)),s)throw a;return function od(t,e,n,r){const i=t[eo];throw e[sp]&&i.unshift(e[sp]),t.message=function Cy(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):at(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Iy,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[eo]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{wn(o),wo(s)}}resolveInjectorInitializers(){const e=wo(this),n=wn(void 0);try{const i=this.get(Ln,Et,mt.Self);for(const s of i)s()}finally{wo(e),wn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let n=c(e=Oe(e))?e:Oe(e&&e.provide);const r=function mn(t){return dm(t)?so(void 0,t.useValue):so($i(t),_)}(e);if(!c(e)&&!0===e.multi){let i=this.records.get(n);i||(i=so(void 0,_,!0),i.factory=()=>sd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===_&&(n.value=v,n.value=n.factory()),"object"==typeof n.value&&n.value&&function hm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Oe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ye(t){const e=Qa(t),n=null!==e?e.factory:no(t);if(null!==n)return n;if(t instanceof ee)throw new O(204,!1);if(t instanceof Function)return function be(t){if(t.length>0)throw new O(204,!1);const n=function QI(t){return t&&(t[ed]||t[by])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new O(204,!1)}function $i(t,e,n){let r;if(c(t)){const i=Oe(t);return no(i)||ye(i)}if(dm(t))r=()=>Oe(t.useValue);else if(function f(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...sd(t.deps||[]));else if(function vv(t){return!(!t||!t.useExisting)}(t))r=()=>L(Oe(t.useExisting));else{const i=Oe(t&&(t.useClass||t.provide));if(!function Ev(t){return!!t.deps}(t))return no(i)||ye(i);r=()=>new i(...sd(t.deps))}return r}function so(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Gd(t,e){for(const n of t)Array.isArray(n)?Gd(n,e):n&&Zf(n)?Gd(n.\u0275providers,e):e(n)}function oo(t,e){t instanceof ue&&t.assertNotDestroyed();const r=wo(t),i=wn(void 0);try{return e()}finally{wo(r),wn(i)}}function gP(t,e=null,n=null,r){const i=_P(t,e,n,r);return i.resolveInjectorInitializers(),i}function _P(t,e=null,n=null,r,i=new Set){const s=[n||Et,Kc(t)];return r=r||("object"==typeof t?void 0:at(t)),new ue(s,e||R(),r||null,i)}let HT,ri=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=oa;static#t=this.NULL=new zd;static create(n,r){if(Array.isArray(n))return gP({name:""},r,n,"");{const i=n.name??"";return gP({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=ce({token:t,providedIn:"any",factory:()=>L($d)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();const Dv=new ee("",{providedIn:"root",factory:()=>pq}),pq="ng",vP=new ee(""),Rs=new ee("",{providedIn:"platform",factory:()=>"unknown"}),Kd=new ee(""),$T=new ee("",{providedIn:"root",factory:()=>function Il(){if(void 0!==HT)return HT;if(typeof document<"u")return document;throw new O(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function as(t){return t instanceof Function?t():t}function Rv(t){return 128==(128&t.flags)}var Dl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dl||{});const Tq=/^>|^->|<!--|-->|--!>|<!-$/g,Cq=/(<|>)/g,Dq="\u200b$1\u200b";const KT=new Map;let Sq=0;const QT="__ngContext__";function ii(t,e){Br(e)?(t[QT]=e[xc],function xq(t){KT.set(t[xc],t)}(e)):t[QT]=e}let XT;function ZT(t,e){return XT(t,e)}function Qd(t,e,n,r,i){if(null!=r){let s,o=!1;jr(r)?s=r:Br(r)&&(o=!0,r=r[an]);const a=Bt(r);0===t&&null!==n?null==i?jP(e,n,a):Yc(e,n,a,i||null,!0):1===t&&null!==n?Yc(e,n,a,i||null,!0):2===t?function Lv(t,e,n){const r=Ov(t,e);r&&function qq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Kq(t,e,n,r,i){const s=n[Bi];s!==Bt(n)&&Qd(e,t,r,s,i);for(let a=On;a<n.length;a++){const l=n[a];Vv(l[ae],l,t,e,r,s)}}(e,t,s,n,i)}}function JT(t,e){return t.createComment(function xP(t){return t.replace(Tq,e=>e.replace(Cq,Dq))}(e))}function Nv(t,e,n){return t.createElement(e,n)}function VP(t,e){Vv(t,e,e[He],2,null,null)}function UP(t,e){const n=t[rl],r=n.indexOf(e);n.splice(r,1)}function Em(t,e){if(t.length<=On)return;const n=On+e,r=t[n];if(r){const i=r[Ac];null!==i&&i!==t&&UP(i,r),e>0&&(t[n-1][es]=r[es]);const s=Bd(t,On+e);!function Vq(t,e){VP(t,e),e[an]=null,e[tr]=null}(r[ae],r);const o=s[rs];null!==o&&o.detachView(s[ae]),r[pn]=null,r[es]=null,r[Pe]&=-129}return r}function kv(t,e){if(!(256&e[Pe])){const n=e[He];n.destroyNode&&Vv(t,e,n,3,null,null),function Bq(t){let e=t[Sc];if(!e)return eC(t[ae],t);for(;e;){let n=null;if(Br(e))n=e[Sc];else{const r=e[On];r&&(n=r)}if(!n){for(;e&&!e[es]&&e!==t;)Br(e)&&eC(e[ae],e),e=e[pn];null===e&&(e=t),Br(e)&&eC(e[ae],e),n=e&&e[es]}e=n}}(e)}}function eC(t,e){if(!(256&e[Pe])){e[Pe]&=-129,e[Pe]|=256,e[ca]&&function nn(t){if(tt(t),Xr(t))for(let e=0;e<t.producerNode.length;e++)Ft(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[ca]),function zq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof fl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];ji(4,a,l);try{l.call(a)}finally{ji(5,a,l)}}else{ji(4,i,s);try{s.call(i)}finally{ji(5,i,s)}}}}}(t,e),function $q(t,e){const n=t.cleanup,r=e[Io];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Io]=null);const i=e[To];if(null!==i){e[To]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[ae].type&&e[He].destroy();const n=e[Ac];if(null!==n&&jr(e[pn])){n!==e[pn]&&UP(n,e);const r=e[rs];null!==r&&r.detachView(t)}!function Rq(t){KT.delete(t[xc])}(e)}}function tC(t,e,n){return function BP(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[an];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ei.None||s===Ei.Emulated)return null}return Fn(r,n)}}(t,e.parent,n)}function Yc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jP(t,e,n){t.appendChild(e,n)}function HP(t,e,n,r,i){null!==r?Yc(t,e,n,r,i):jP(t,e,n)}function Ov(t,e){return t.parentNode(e)}function $P(t,e,n){return qP(t,e,n)}let nC,qP=function zP(t,e,n){return 40&t.type?Fn(t,n):null};function Fv(t,e,n,r){const i=tC(t,r,e),s=e[He],a=$P(r.parent||e[tr],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)HP(s,i,n[l],a,!1);else HP(s,i,n,a,!1);void 0!==nC&&nC(s,r,e,n,i)}function bm(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return rC(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return bm(t,r);{const i=t[e.index];return jr(i)?rC(-1,i):Bt(i)}}if(32&n)return ZT(e,t)()||Bt(t[e.index]);{const r=WP(t,e);return null!==r?Array.isArray(r)?r[0]:bm(da(t[rn]),r):bm(t,e.next)}}return null}function WP(t,e){return null!==e?t[rn][tr].projection[e.projection]:null}function rC(t,e){const n=On+t+1;if(n<e.length){const r=e[n],i=r[ae].firstChild;if(null!==i)return bm(r,i)}return e[Bi]}function iC(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&ii(Bt(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)iC(t,e,n.child,r,i,s,!1),Qd(e,t,i,a,s);else if(32&l){const u=ZT(n,r);let h;for(;h=u();)Qd(e,t,i,h,s);Qd(e,t,i,a,s)}else 16&l?YP(t,e,r,n,i,s):Qd(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vv(t,e,n,r,i,s){iC(n,r,t.firstChild,e,i,s,!1)}function YP(t,e,n,r,i,s){const o=n[rn],l=o[tr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Qd(e,t,i,l[u],s);else{let u=l;const h=o[pn];Rv(r)&&(u.flags|=128),iC(t,e,u,h,i,s,!0)}}function QP(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function XP(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&cd(t,e,r),null!==i&&QP(t,e,i),null!==s&&function Qq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class tN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Sl(t){return t instanceof tN?t.changingThisBreaksApplicationSecurity:t}class dC{}let dN=()=>null;function vC(t,e,n=!1){return dN(t,e,n)}class RG{}class gN{}class PG{resolveComponentFactory(e){throw function MG(t){const e=Error(`No component factory found for ${at(t)}.`);return e.ngComponent=t,e}(e)}}let Am=(()=>{class t{static#e=this.NULL=new PG}return t})();function NG(){return nh(jt(),q())}function nh(t,e){return new In(Fn(t,e))}let In=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=NG}return t})();function kG(t){return t instanceof In?t.nativeElement:t}class IC{}let Ea=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function OG(){const t=q(),n=bi(jt().index,t);return(Br(n)?n:t)[He]}()}return t})(),FG=(()=>{class t{static#e=this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>null})}return t})();const TC={};function Wv(t){return!!CC(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function CC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class vN{constructor(){}supports(e){return Wv(e)}create(e){return new HG(e)}}const jG=(t,e)=>e;class HG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||jG}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<bN(r,i,s)?n:r,a=bN(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,h=l-i;if(u!=h){for(let g=0;g<u;g++){const y=g<s.length?s[g]:s[g]=0,b=y+g;h<=b&&b<u&&(s[g]=y+1)}s[o.previousIndex]=h-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Wv(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function BG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $G(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new EN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $G{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new zG,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class wN{constructor(){}supports(e){return e instanceof Map||CC(e)}create(){return new qG}}class qG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||CC(e)))throw new O(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new GG(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class GG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IN(){return new DC([new vN])}let DC=(()=>{class t{static#e=this.\u0275prov=ce({token:t,providedIn:"root",factory:IN});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||IN()),deps:[[t,new Hd,new ya]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new O(901,!1)}}return t})();function TN(){return new Kv([new wN])}let Kv=(()=>{class t{static#e=this.\u0275prov=ce({token:t,providedIn:"root",factory:TN});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||TN()),deps:[[t,new Hd,new ya]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new O(901,!1)}}return t})();function xm(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Bt(s)),jr(s)&&CN(s,r);const o=n.type;if(8&o)xm(t,e,n.child,r);else if(32&o){const a=ZT(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=WP(e,n);if(Array.isArray(a))r.push(...a);else{const l=da(e[rn]);xm(l[ae],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function CN(t,e){for(let n=On;n<t.length;n++){const r=t[n],i=r[ae].firstChild;null!==i&&xm(r[ae],r,i,e)}t[Bi]!==t[an]&&e.push(t[Bi])}let DN=[];const XG={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{kc(t.lView)},consumerOnSignalRead(){this.lView[ca]=this}};function SN(t){return xN(t[Sc])}function AN(t){return xN(t[es])}function xN(t){for(;null!==t&&!jr(t);)t=t[es];return t}function SC(t){return t.ngOriginalError}class ba{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&SC(e);for(;n&&SC(n);)n=SC(n);return n||null}}const MN=new ee("",{providedIn:"root",factory:()=>ie(ba).handleError.bind(void 0)}),NN=new ee("",{providedIn:"root",factory:()=>!1}),nt={};function Xe(t=1){LN(it(),q(),nr()+t,!1)}function LN(t,e,n,r){if(!r)if(3==(3&e[Pe])){const s=t.preOrderCheckHooks;null!==s&&dl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Nd(e,s,0,n)}fa(n)}function B(t,e=mt.Default){const n=q();return null===n?L(t,e):Yp(jt(),n,Oe(t),e)}function UN(t,e,n,r,i,s){const o=et(null);try{let a=null;i&ge.SignalBased&&(a=e[r][Ht]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&ge.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),null!==t.setInput?t.setInput(e,a,s,n,r):Ed(e,a,r,s)}finally{et(o)}}function Qv(t,e,n,r,i,s,o,a,l,u,h){const m=e.blueprint.slice();return m[an]=i,m[Pe]=204|r,(null!==u||t&&2048&t[Pe])&&(m[Pe]|=2048),Hy(m),m[pn]=m[la]=t,m[Jt]=n,m[to]=o||t&&t[to],m[He]=a||t&&t[He],m[gr]=l||t&&t[gr]||null,m[tr]=s,m[xc]=function Aq(){return Sq++}(),m[ts]=h,m[My]=u,m[rn]=2==e.type?t[rn]:m,m}function rh(t,e,n,r,i){let s=t.data[e];if(null===s)s=function AC(t,e,n,r,i){const s=Gy(),o=Np(),l=t.data[e]=function h5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return cl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function gT(){return Be.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ha(){const t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return is(s,!0),s}function Rm(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BN(t,e,n,r,i){const s=nr(),o=2&r;try{fa(-1),o&&e.length>We&&LN(t,e,We,!1),ji(o?2:0,i),n(r,i)}finally{fa(s),ji(o?3:1,i)}}function xC(t,e,n){if(ky(e)){const r=et(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{et(r)}}}function RC(t,e,n){Cd()&&(function v5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;il(n)&&function D5(t,e,n){const r=Fn(e,t),i=jN(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Xv(t,Qv(t,i,null,o,r,e,null,t[to].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fd(n,e),ii(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=gl(e,t,a,n);ii(u,e),null!==o&&S5(0,a-i,u,l,0,o),_r(l)&&(bi(n.index,e)[Jt]=gl(e,t,a,n))}}(t,e,n,Fn(n,e)),64==(64&n.flags)&&GN(t,e,n))}function MC(t,e,n=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function jN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=PC(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function PC(t,e,n,r,i,s,o,a,l,u,h){const m=We+r,g=m+i,y=function o5(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:nt);return n}(m,g),b="function"==typeof u?u():u;return y[ae]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}let HN=()=>null;function $N(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=ge.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let u=s;if(null!==i){if(!i.hasOwnProperty(s))continue;u=i[s]}0===t?zN(r,n,u,a,l):zN(r,n,u,a)}return r}function zN(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],void 0!==i&&s.push(i)}function ls(t,e,n,r,i,s,o,a){const l=Fn(e,n);let h,u=e.inputs;!a&&null!=u&&(h=u[r])?(LC(t,n,h,r,i),il(e)&&function m5(t,e){const n=bi(e,t);16&n[Pe]||(n[Pe]|=64)}(n,e.index)):3&e.type&&(r=function p5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function NC(t,e,n,r){if(Cd()){const i=null===r?null:{"":-1},s=function b5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Ay(e,o.selectors,!1))if(r||(r=[]),_r(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),kC(t,e,a.length)}else r.unshift(o),kC(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&qN(t,e,n,o,i,a),i&&function w5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new O(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=aa(n.mergedAttrs,n.attrs)}function qN(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Uc(Fd(n,e),t,r[u].type);!function T5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const h=r[u];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,l=Rm(t,e,r.length,null);for(let u=0;u<r.length;u++){const h=r[u];n.mergedAttrs=aa(n.mergedAttrs,h.hostAttrs),C5(t,n,e,l,h),I5(l,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const m=h.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function f5(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,u=null;for(let h=e.directiveStart;h<i;h++){const m=s[h],g=n?n.get(m):null,b=g?g.outputs:null;l=$N(0,m.inputs,h,l,g?g.inputs:null),u=$N(1,m.outputs,h,u,b);const w=null===l||null===o||hd(e)?null:A5(l,h,o);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,s)}function GN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Lp(){return Be.lFrame.currentDirectiveIndex}();try{fa(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Oc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&E5(l,u)}}finally{fa(-1),Oc(o)}}function E5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function kC(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function I5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_r(e)&&(n[""]=t)}}function C5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=no(i.type)),o=new fl(s,_r(i),B);t.blueprint[r]=o,n[r]=o,function _5(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function y5(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Rm(t,n,i.hostVars,nt),i)}function xo(t,e,n,r,i,s){const o=Fn(t,e);!function OC(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ge(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[He],o,s,t.value,n,r,i)}function S5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)UN(r,n,o[a++],o[a++],o[a++],o[a++])}function A5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function WN(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function KN(t,e){const n=t.contentQueries;if(null!==n){const r=et(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=t.data[o];Rd(n[i]),a.contentQueries(2,e[o],o)}}}finally{et(r)}}}function Xv(t,e){return t[Sc]?t[Ry][es]=e:t[Sc]=e,t[Ry]=e,e}function FC(t,e,n){Rd(0);const r=et(null);try{e(t,n)}finally{et(r)}}function YN(t){return t[Io]||(t[Io]=[])}function QN(t){return t.cleanup||(t.cleanup=[])}function Zv(t,e){const n=t[gr],r=n?n.get(ba,null):null;r&&r.handleError(e)}function LC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=n[s++];UN(t.data[o],e[o],r,a,l,i)}}function Jv(t,e=!0,n=0){const r=t[to],i=r.rendererFactory;i.begin?.();try{!function x5(t,e){VC(t,e);let n=0;for(;Sp(t);){if(100===n)throw new O(103,!1);n++,VC(t,1)}}(t,n)}catch(o){throw e&&Zv(t,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function R5(t,e,n,r){const i=e[Pe];if(256==(256&i))return;e[to].inlineEffectRunner?.flush(),Up(e);let o=null,a=null;(function M5(t){return 2!==t.type})(t)&&(a=function KG(t){return t[ca]??function YG(t){const e=DN.pop()??Object.create(XG);return e.lView=t,e}(t)}(e),o=function ht(t){return t&&(t.nextProducerIndex=0),et(t)}(a));try{Hy(e),function Ad(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&BN(t,e,n,2,r);const l=3==(3&i);if(l){const m=t.preOrderCheckHooks;null!==m&&dl(e,m,null)}else{const m=t.preOrderHooks;null!==m&&Nd(e,m,0,null),qp(e,0)}if(function P5(t){for(let e=SN(t);null!==e;e=AN(e)){if(!(e[Pe]&Ny.HasTransplantedViews))continue;const n=e[rl];for(let r=0;r<n.length;r++){Dp(n[r])}}}(e),JN(e,0),null!==t.contentQueries&&KN(t,e),l){const m=t.contentCheckHooks;null!==m&&dl(e,m)}else{const m=t.contentHooks;null!==m&&Nd(e,m,1),qp(e,1)}!function s5(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)fa(~i);else{const s=i,o=n[++r],a=n[++r];Fp(o,s),a(2,e[s])}}}finally{fa(-1)}}(t,e);const u=t.components;null!==u&&tk(e,u,0);const h=t.viewQuery;if(null!==h&&FC(2,h,r),l){const m=t.viewCheckHooks;null!==m&&dl(e,m)}else{const m=t.viewHooks;null!==m&&Nd(e,m,2),qp(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[gd]){for(const m of e[gd])m();e[gd]=null}e[Pe]&=-73}catch(l){throw kc(e),l}finally{null!==a&&(function Jn(t,e){if(et(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xr(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ft(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,o),function QG(t){t.lView[ca]!==t&&(t.lView=null,DN.push(t))}(a)),Bp()}}function JN(t,e){for(let n=SN(t);null!==n;n=AN(n))for(let r=On;r<n.length;r++)ek(n[r],e)}function N5(t,e,n){ek(bi(e,t),n)}function ek(t,e){ll(t)&&VC(t,e)}function VC(t,e){const r=t[ae],i=t[Pe],s=t[ca];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!ur(s)),s&&(s.dirty=!1),t[Pe]&=-9217,o)R5(r,t,r.template,t[Jt]);else if(8192&i){JN(t,1);const a=r.components;null!==a&&tk(t,a,1)}}function tk(t,e,n){for(let r=0;r<e.length;r++)N5(t,e[r],n)}function Mm(t){for(t[to].changeDetectionScheduler?.notify();t;){t[Pe]|=64;const e=da(t);if(Rc(t)&&!e)return t;t=e}return null}class Pm{get rootNodes(){const e=this._lView,n=e[ae];return xm(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return 256==(256&this._lView[Pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[pn];if(jr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Em(e,r),Bd(n,r))}this._attachedToViewContainer=!1}kv(this._lView[ae],this._lView)}onDestroy(e){Id(this._lView,e)}markForCheck(){Mm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pe]&=-129}reattach(){Ap(this._lView),this._lView[Pe]|=128}detectChanges(){this._lView[Pe]|=1024,Jv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,VP(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,Ap(this._lView)}}let Al=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=k5}return t})();function k5(t){return function O5(t,e,n){if(il(t)&&!n){const r=bi(t.index,e);return new Pm(r,r)}return 47&t.type?new Pm(e[rn],e):null}(jt(),q(),16==(16&t))}let eE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=U5;static#t=this.__NG_ENV_ID__=n=>n}return t})();class V5 extends eE{constructor(e){super(),this._lView=e}onDestroy(e){return Id(this._lView,e),()=>function Td(t,e){if(null===t[To])return;const n=t[To].indexOf(e);-1!==n&&t[To].splice(n,1)}(this._lView,e)}}function U5(){return new V5(q())}const nk=new Set;function Qc(t){nk.has(t)||(nk.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function UC(t){return e=>{setTimeout(t,void 0,e)}}const bt=class q5 extends D{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=UC(s),i&&(i=UC(i)),o&&(o=UC(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof gt&&e.add(a),a}};function rk(...t){}class Ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function G5(){const t="function"==typeof lt.requestAnimationFrame;let e=lt[t?"requestAnimationFrame":"setTimeout"],n=lt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Y5(t){const e=()=>{!function K5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jC(t),t.isCheckStableRunning=!0,BC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Q5(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return ik(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),sk(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return ik(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),sk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,jC(t),BC(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ve.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(Ve.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,W5,rk,rk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const W5={};function BC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ik(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sk(t){t._nesting--,BC(t)}class ok{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var Xc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Xc||{});const ak={destroy(){}};function ck(t,e){!e&&function Wd(t){if(!Za()&&!function nl(){return tl}())throw new O(-203,!1)}();const n=e?.injector??ie(ri);if(!function Tl(t){return"browser"===(t??ie(ri)).get(Rs)}(n))return ak;Qc("NgAfterNextRender");const r=n.get(Nm),i=r.handler??=new dk,s=e?.phase??Xc.MixedReadWrite,o=()=>{i.unregister(l),a()},a=n.get(eE).onDestroy(o),l=new uk(n,s,()=>{o(),t()});return i.register(l),{destroy:o}}class uk{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Ve),this.errorHandler=e.get(ba,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class dk{constructor(){this.executingCallbacks=!1,this.buckets={[Xc.EarlyRead]:new Set,[Xc.Write]:new Set,[Xc.MixedReadWrite]:new Set,[Xc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Nm=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t})}return t})();function J5(t,e){const n=bi(e,t),r=n[ae];!function eW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[an];null!==i&&null===n[ts]&&(n[ts]=vC(i,n[gr])),HC(r,n,n[Jt])}function HC(t,e,n){Up(e);try{const r=t.viewQuery;null!==r&&FC(1,r,n);const i=t.template;null!==i&&BN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&KN(t,e),t.staticViewQueries&&FC(2,t.viewQuery,n);const s=t.components;null!==s&&function tW(t,e){for(let n=0;n<e.length;n++)J5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Pe]&=-5,Bp()}}function tE(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Is(i,a):2==s&&(r=Is(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class hk extends Am{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ct(e);return new km(n,this.ngModule)}}function fk(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class rW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ur(r);const i=this.injector.get(e,TC,r);return i!==TC||n===TC?i:this.parentInjector.get(e,n,r)}}class km extends gN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=fk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function mp(t){return t.map(pp).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof $?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new rW(e,s):e,a=o.get(IC,null);if(null===a)throw new O(407,!1);const m={rendererFactory:a,sanitizer:o.get(FG,null),inlineEffectRunner:null,afterRenderEventManager:o.get(Nm,null),changeDetectionScheduler:o.get(dC,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?function a5(t,e,n,r){const s=r.get(NN,!1)||n===Ei.ShadowDom,o=t.selectRootElement(e,s);return function l5(t){HN(t)}(o),o}(g,r,this.componentDef.encapsulation,o):Nv(g,y,function nW(t){const e=t.toLowerCase();return"svg"===e?Ip:"math"===e?"math":null}(y));let w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let I=null;null!==b&&(I=vC(b,o,!0));const x=PC(0,null,null,1,0,null,null,null,null,null,null),A=Qv(null,x,null,w,null,null,m,g,o,null,I);let N,z;Up(A);try{const se=this.componentDef;let _e,Je=null;se.findHostDirectiveDefs?(_e=[],Je=new Map,se.findHostDirectiveDefs(se,_e,Je),_e.push(se)):_e=[se];const Mt=function sW(t,e){const n=t[ae],r=We;return t[r]=e,rh(n,r,2,"#host",null)}(A,b),Fi=function oW(t,e,n,r,i,s,o){const a=i[ae];!function aW(t,e,n,r){for(const i of t)e.mergedAttrs=aa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(tE(e,e.mergedAttrs,!0),null!==n&&XP(r,n,e))}(r,t,e,o);let l=null;null!==e&&(l=vC(e,i[gr]));const u=s.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const m=Qv(i,jN(n),null,h,i[t.index],t,s,u,null,null,l);return a.firstCreatePass&&kC(a,t,r.length-1),Xv(i,m),i[t.index]=m}(Mt,b,se,_e,A,m,g);z=Nc(x,We),b&&function cW(t,e,n,r){if(r)cd(t,n,["ng-version","17.1.3"]);else{const{attrs:i,classes:s}=function ZI(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ji(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&cd(t,n,i),s&&s.length>0&&QP(t,n,s.join(" "))}}(g,se,b,r),void 0!==n&&function uW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(z,this.ngContentSelectors,n),N=function lW(t,e,n,r,i,s){const o=jt(),a=i[ae],l=Fn(o,i);qN(a,i,o,n,null,r);for(let h=0;h<n.length;h++)ii(gl(i,a,o.directiveStart+h,o),i);GN(a,i,o),l&&ii(l,i);const u=gl(i,a,o.directiveStart+o.componentOffset,o);if(t[Jt]=i[Jt]=u,null!==s)for(const h of s)h(u,e);return xC(a,o,t),u}(Fi,se,_e,Je,A,[dW]),HC(x,A,null)}finally{Bp()}return new iW(this.componentType,N,nh(z,A),A,z)}}class iW extends RG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Pm(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;LC(s[ae],s,i,e,n),this.previousInputValues.set(e,n),Mm(bi(this._tNode.index,s))}}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function dW(){const t=jt();Lc(q()[ae],t)}function Gt(t){let e=function pk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(_r(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=nE(t.inputs),o.inputTransforms=nE(t.inputTransforms),o.declaredInputs=nE(t.declaredInputs),o.outputs=nE(t.outputs);const a=i.hostBindings;a&&gW(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&pW(t,l),u&&mW(t,u),hW(t,i),fr(t.outputs,i.outputs),_r(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Gt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function fW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=aa(i.hostAttrs,n=aa(n,i.hostAttrs))}}(r)}function hW(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];if(void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function nE(t){return t===Ui?{}:t===Et?[]:t}function pW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function mW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function gW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Om(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}let Ik=()=>null;function ih(t,e){return Ik(t,e)}function Bm(t,e,n,r){const i=e.tView,a=Qv(t,i,n,4096&t[Pe]?4096:16,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null);a[Ac]=t[e.index];const u=t[rs];return null!==u&&(a[rs]=u.createEmbeddedView(i)),HC(i,a,n),a}function sh(t,e){return!e||null===e.firstChild||Rv(t)}function jm(t,e,n,r=!0){const i=e[ae];if(function jq(t,e,n,r){const i=On+r,s=n.length;r>0&&(n[i-1][es]=e),r<s-On?(e[es]=n[i],Ud(n,On+r,e)):(n.push(e),e[es]=null),e[pn]=n;const o=e[Ac];null!==o&&n!==o&&function Hq(t,e){const n=t[rl];e[rn]!==e[pn][pn][rn]&&(t[Pe]|=Ny.HasTransplantedViews),null===n?t[rl]=[e]:n.push(e)}(o,e);const a=e[rs];null!==a&&a.insertView(t),Ap(e),e[Pe]|=128}(i,e,t,n),r){const o=rC(n,t),a=e[He],l=Ov(a,t[Bi]);null!==l&&function Uq(t,e,n,r,i,s){r[an]=i,r[tr]=e,Vv(t,r,n,1,i,s)}(i,t[tr],a,e,l,o)}const s=e[ts];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let Ms=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=$W}return t})();function $W(){return Sk(jt(),q())}const zW=Ms,Ck=class extends zW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nh(this._hostTNode,this._hostLView)}get injector(){return new Gn(this._hostTNode,this._hostLView)}get parentInjector(){const e=ml(this._hostTNode,this._hostLView);if(Gp(e)){const n=pa(e,this._hostLView),r=Vc(e);return new Gn(n[ae].data[r+8],n)}return new Gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Dk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-On}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=ih(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,sh(this._hostTNode,o)),a}createComponent(e,n,r,i,s){const o=e&&!function _a(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}const l=o?e:new km(ct(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const w=(o?u:this.parentInjector).get($,null);w&&(s=w)}const h=ct(l.componentType??{}),m=ih(this._lContainer,h?.id??null),y=l.create(u,i,m?.firstChild??null,s);return this.insertImpl(y.hostView,a,sh(this._hostTNode,m)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function hT(t){return jr(t[pn])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[pn],u=new Ck(l,l[tr],l[pn]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;return jm(o,i,s,r),e.attachToViewContainerRef(),Ud(YC(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Dk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);r&&(Bd(YC(this._lContainer),n),kv(r[ae],r))}detach(e){const n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);return r&&null!=Bd(YC(this._lContainer),n)?new Pm(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Dk(t){return t[8]}function YC(t){return t[8]||(t[8]=[])}function Sk(t,e){let n;const r=e[t.index];return jr(r)?n=r:(n=WN(r,e,null,t),e[t.index]=n,Xv(e,n)),Ak(n,e,t,r),new Ck(n,t,e)}let Ak=function Rk(t,e,n,r){if(t[Bi])return;let i;i=8&n.type?Bt(r):function qW(t,e){const n=t[He],r=n.createComment(""),i=Fn(e,t);return Yc(n,Ov(n,i),r,function Gq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Bi]=i},QC=()=>!1;class Zc{}class Mk{}class XC extends Zc{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hk(this);const i=Sr(e);this._bootstrapComponents=as(i.bootstrap),this._r3Injector=_P(e,n,[{provide:Zc,useValue:this},{provide:Am,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ZC extends Mk{constructor(e){super(),this.moduleType=e}create(e){return new XC(this.moduleType,e,[])}}class Pk extends Zc{constructor(e){super(),this.componentFactoryResolver=new hk(this),this.instance=null;const n=new ue([...e.providers,{provide:Zc,useValue:this},{provide:Am,useValue:this.componentFactoryResolver}],e.parent||R(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function JC(t,e,n=null){return new Pk({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Hm=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new M(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ir(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lt(t,e,n,r,i,s,o,a){const l=q(),u=it(),h=t+We,m=u.firstCreatePass?function ZW(t,e,n,r,i,s,o,a,l){const u=e.consts,h=rh(e,t,4,o||null,Ds(u,a));NC(e,n,h,Ds(u,l)),Lc(e,h);const m=h.tView=PC(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}(h,u,l,e,n,r,i,s,o):u.data[h];is(m,!1);const g=Nk(u,l,m,t);Fc()&&Fv(u,l,g,m),ii(g,l);const y=WN(g,l,g,m);return l[h]=y,Xv(l,y),function xk(t,e,n){return QC(t,e,n)}(y,m,l),sl(m)&&RC(u,l,m),null!=o&&MC(l,m,a),Lt}let Nk=function kk(t,e,n,r){return ro(!0),e[He].createComment("")};function si(t,e,n,r){const i=q();return ir(i,As(),e)&&(it(),xo(qt(),i,t,e,n,r)),si}function fh(t,e,n,r){return ir(t,As(),n)?e+Ge(n)+r:nt}function pE(t,e){return t<<17|e<<2}function Rl(t){return t>>17&32767}function c0(t){return 2|t}function tu(t){return(131068&t)>>2}function u0(t,e){return-131069&t|e<<2}function d0(t){return 1|t}function hO(t,e,n,r){const i=t[n+1],s=null===e;let o=r?Rl(i):tu(i),a=!1;for(;0!==o&&(!1===a||s);){const u=t[o+1];F6(t[o],e)&&(a=!0,t[o+1]=r?d0(u):c0(u)),o=r?Rl(u):tu(u)}a&&(t[n+1]=r?c0(i):d0(i))}function F6(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bl(t,e)>=0}const yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fO(t){return t.substring(yr.key,yr.keyEnd)}function pO(t,e){const n=yr.textEnd;return n===e?-1:(e=yr.keyEnd=function B6(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,yr.key=e,n),bh(t,e,n))}function bh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Tt(t,e,n){const r=q();return ir(r,As(),e)&&ls(it(),qt(),r,t,e,r[He],n,!1),Tt}function h0(t,e,n,r,i){const o=i?"class":"style";LC(t,n,e.inputs[o],o,r)}function qi(t,e){return function ao(t,e,n,r){const i=q(),s=it(),o=wi(2);s.firstUpdatePass&&bO(s,t,o,r),e!==nt&&ir(i,o,e)&&IO(s,s.data[nr()],i,i[He],t,i[o+1]=function Z6(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=at(Sl(t)))),t}(e,n),r,o)}(t,e,null,!0),qi}function Po(t,e){for(let n=function V6(t){return function gO(t){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=t.length}(t),pO(t,bh(t,0,yr.textEnd))}(e);n>=0;n=pO(e,n))ni(t,fO(e),!0)}function EO(t,e){return e>=t.expandoStartIndex}function bO(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[nr()],o=EO(t,n);CO(s,r)&&null===e&&!o&&(e=!1),e=function q6(t,e,n,r){const i=function Vp(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wm(n=f0(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=f0(i,t,e,n,r),null===s){let l=function G6(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==tu(r))return t[Rl(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=f0(null,t,e,l[1],r),l=Wm(l,e.attrs,r),function W6(t,e,n,r){t[Rl(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function K6(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Wm(r,t[s].hostAttrs,n);return Wm(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function k6(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Rl(o),l=tu(o);t[r]=n;let h,u=!1;if(Array.isArray(n)?(h=n[1],(null===h||bl(n,h)>0)&&(u=!0)):h=n,i)if(0!==l){const g=Rl(t[a+1]);t[r+1]=pE(g,a),0!==g&&(t[g+1]=u0(t[g+1],r)),t[a+1]=function P6(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=pE(a,0),0!==a&&(t[a+1]=u0(t[a+1],r)),a=r;else t[r+1]=pE(l,0),0===a?a=r:t[l+1]=u0(t[l+1],r),l=r;u&&(t[r+1]=c0(t[r+1])),hO(t,h,r,!0),hO(t,h,r,!1),function O6(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bl(s,e)>=0&&(n[r+1]=d0(n[r+1]))}(e,h,t,r,s),o=pE(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function f0(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Wm(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Wm(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ni(t,o,!!n||e[++s]))}return void 0===t?null:t}function IO(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],h=function N6(t){return 1==(1&t)}(u)?TO(l,e,n,i,tu(u),o):void 0;mE(h)||(mE(s)||function M6(t){return 2==(2&t)}(u)&&(s=TO(l,null,n,i,a,o)),function Yq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Dl.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Dl.Important),t.setStyle(n,r,i,s))}}(r,o,wd(nr(),n),i,s))}function TO(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),h=u?l[1]:l,m=null===h;let g=n[i+1];g===nt&&(g=m?Et:void 0);let y=m?nm(g,r):h===r?g:void 0;if(u&&!mE(y)&&(y=nm(l,r)),mE(y)&&(a=y,o))return a;const b=t[i+1];i=o?Rl(b):tu(b)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=nm(l,r))}return a}function mE(t){return void 0!==t}function CO(t,e){return 0!=(t.flags&(e?8:16))}function DO(t,e,n){!function lo(t,e,n,r){const i=it(),s=wi(2);i.firstUpdatePass&&bO(i,null,s,r);const o=q();if(n!==nt&&ir(o,s,n)){const a=i.data[nr()];if(CO(a,r)&&!EO(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=Is(l,n||"")),h0(i,a,o,n,r)}else!function X6(t,e,n,r,i,s,o,a){i===nt&&(i=Et);let l=0,u=0,h=0<i.length?i[0]:null,m=0<s.length?s[0]:null;for(;null!==h||null!==m;){const g=l<i.length?i[l+1]:void 0,y=u<s.length?s[u+1]:void 0;let w,b=null;h===m?(l+=2,u+=2,g!==y&&(b=m,w=y)):null===m||null!==h&&h<m?(l+=2,b=h):(u+=2,b=m,w=y),null!==b&&IO(t,e,n,r,b,w,o,a),h=l<i.length?i[l]:null,m=u<s.length?s[u]:null}}(i,a,o,o[He],o[s+1],o[s+1]=function Y6(t,e,n){if(null==n||""===n)return Et;const r=[],i=Sl(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(ni,Po,fh(q(),t,e,n),!0)}function vr(t,e,n){Qc("NgControlFlow");const r=q(),i=As(),s=function g0(t,e){return t[e]}(r,We+t);if(ir(r,i,e)){const a=et(null);try{if(function KC(t,e){const n=Em(t,e);return void 0!==n&&kv(n[ae],n),n}(s,0),-1!==e){const l=function _0(t,e){return Nc(t,e)}(r[ae],We+e),u=ih(s,l.tView.ssrId);jm(s,Bm(r,l,n,{dehydratedView:u}),0,sh(l,u))}}finally{et(a)}}else{const a=function Tk(t,e){const n=On+e;if(n<t.length)return t[n]}(s,0);void 0!==a&&(a[Jt]=n)}}function re(t,e,n,r){const i=q(),s=it(),o=We+t,a=i[He],l=s.firstCreatePass?function v9(t,e,n,r,i,s){const o=e.consts,l=rh(e,t,2,r,Ds(o,i));return NC(e,n,l,Ds(o,s)),null!==l.attrs&&tE(l,l.attrs,!1),null!==l.mergedAttrs&&tE(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],u=RO(s,i,l,a,e,t);i[o]=u;const h=sl(l);return is(l,!0),XP(a,u,l),32!=(32&l.flags)&&Fc()&&Fv(s,i,u,l),0===function fT(){return Be.lFrame.elementDepthCount}()&&ii(u,i),function xp(){Be.lFrame.elementDepthCount++}(),h&&(RC(s,i,l),xC(s,l,i)),null!==r&&MC(i,l),re}function le(){let t=jt();Np()?kp():(t=t.parent,is(t,!1));const e=t;(function Rp(t){return Be.skipHydrationRootTNode===t})(e)&&function Pp(){Be.skipHydrationRootTNode=null}(),function pT(){Be.lFrame.elementDepthCount--}();const n=it();return n.firstCreatePass&&(Lc(n,t),ky(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function wT(t){return 0!=(8&t.flags)}(e)&&h0(n,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function IT(t){return 0!=(16&t.flags)}(e)&&h0(n,e,q(),e.stylesWithoutHost,!1),le}function ft(t,e,n,r){return re(t,e,n,r),le(),ft}let RO=(t,e,n,r,i,s)=>(ro(!0),Nv(r,i,function Zy(){return Be.lFrame.currentNamespace}()));function gE(t,e,n){const r=q(),i=it(),s=t+We,o=i.firstCreatePass?function w9(t,e,n,r,i){const s=e.consts,o=Ds(s,r),a=rh(e,t,8,"ng-container",o);return null!==o&&tE(a,o,!0),NC(e,n,a,Ds(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];is(o,!0);const a=PO(i,r,o,t);return r[s]=a,Fc()&&Fv(i,r,a,o),ii(a,r),sl(o)&&(RC(i,r,o),xC(i,o,r)),null!=n&&MC(r,o),gE}function _E(){let t=jt();const e=it();return Np()?kp():(t=t.parent,is(t,!1)),e.firstCreatePass&&(Lc(e,t),ky(t)&&e.queries.elementEnd(t)),_E}let PO=(t,e,n,r)=>(ro(!0),JT(e[He],""));function Km(){return q()}function yE(t,e,n){const r=q();return ir(r,As(),e)&&ls(it(),qt(),r,t,e,r[He],n,!0),yE}const Ih="en-US";let FO=Ih;function eg(t){return!!t&&"function"==typeof t.then}function l1(t){return!!t&&"function"==typeof t.subscribe}function Wt(t,e,n,r){const i=q(),s=it(),o=jt();return function u1(t,e,n,r,i,s,o){const a=sl(r),u=t.firstCreatePass&&QN(t),h=e[Jt],m=YN(e);let g=!0;if(3&r.type||o){const w=Fn(r,e),I=o?o(w):w,x=m.length,A=o?z=>o(Bt(z[r.index])):r.index;let N=null;if(!o&&a&&(N=function b8(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Io],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,g=!1;else{s=h1(r,e,h,s,!1);const z=n.listen(I,i,s);m.push(s,z),u&&u.push(i,A,x,x+1)}}else s=h1(r,e,h,s,!1);const y=r.outputs;let b;if(g&&null!==y&&(b=y[i])){const w=b.length;if(w)for(let I=0;I<w;I+=2){const se=e[b[I]][b[I+1]].subscribe(s),_e=m.length;m.push(s,se),u&&u.push(i,r.index,_e,-(_e+1))}}}(s,i,i[He],o,t,e,r),Wt}function d1(t,e,n,r){try{return ji(6,e,n),!1!==n(r)}catch(i){return Zv(t,i),!1}finally{ji(7,e,n)}}function h1(t,e,n,r,i){return function s(o){if(o===Function)return r;Mm(t.componentOffset>-1?bi(t.index,e):e);let l=d1(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)l=d1(e,n,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function cn(t=1){return function _T(t){return(Be.lFrame.contextLView=function $y(t,e){for(;t>0;)e=e[la],t--;return e}(t,Be.lFrame.contextLView))[Jt]}(t)}function w8(t,e){let n=null;const r=function dp(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ay(t,s,!0):fp(r,s))return i}else n=i}return n}function tg(t){const e=q()[rn][tr];if(!e.projection){const r=e.projection=function jd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?w8(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Ti(t,e=0,n){const r=q(),i=it(),s=rh(i,We+t,16,null,n||null);null===s.projection&&(s.projection=e),kp(),(!r[ts]||cl())&&32!=(32&s.flags)&&function Wq(t,e,n){YP(e[He],0,e,n,tC(t,n,e),$P(n.parent||e[tr],n,e))}(i,r,s)}function I8(){return this._results[Symbol.iterator]()}class ng{static#e=Symbol.iterator;get changes(){return this._changes??=new bt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=ng.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=I8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function ti(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function PT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let No=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=D8}return t})();const T8=No,C8=class extends T8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=Bm(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Pm(i)}};function D8(){return IE(jt(),q())}function IE(t,e){return 4&t.type?new C8(e,t,nh(t,e)):null}class b0{constructor(e){this.queryList=e,this.matches=null}clone(){return new b0(this.queryList)}setDirty(){this.queryList.setDirty()}}class w0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new w0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==D1(e,n).matches&&this.queries[n].setDirty()}}class w1{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class I0{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new I0(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class T0{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new T0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,S8(n,s)),this.matchTNodeWithReadOption(e,n,Vd(n,e,s,!1,!1))}else r===No?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===In||i===Ms||i===No&&4&n.type)this.addMatch(n.index,-2);else{const s=Vd(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function S8(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function x8(t,e,n,r){return-1===n?function A8(t,e){return 11&t.type?nh(t,e):4&t.type?IE(t,e):null}(e,t):-2===n?function R8(t,e,n){return n===In?nh(e,t):n===No?IE(e,t):n===Ms?Sk(e,t):void 0}(t,e,r):gl(t,t[ae],n,e)}function I1(t,e,n,r){const i=e[rs].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:x8(e,s[u],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function C0(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=I1(t,e,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],h=e[-l];for(let m=On;m<h.length;m++){const g=h[m];g[Ac]===g[pn]&&C0(g[ae],g,u,r)}if(null!==h[rl]){const m=h[rl];for(let g=0;g<m.length;g++){const y=m[g];C0(y[ae],y,u,r)}}}}}return r}function T1(t,e,n){const r=new ng(4==(4&n));(function d5(t,e,n,r){const i=YN(e);i.push(n),t.firstCreatePass&&QN(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[rs]&&(e[rs]=new w0),e[rs].queries.push(new b0(r))}function C1(t,e,n){null===t.queries&&(t.queries=new I0),t.queries.track(new T0(e,n))}function D1(t,e){return t.queries.getByIndex(e)}function ks(t,e,n,r){const i=it();if(i.firstCreatePass){const s=jt();C1(i,new w1(e,n,r),s.index),function P8(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}T1(i,q(),n)}function Os(t,e,n){const r=it();r.firstCreatePass&&(C1(r,new w1(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),T1(r,q(),e)}function Rn(t){const e=q(),n=it(),r=xd();Rd(r+1);const i=D1(n,r);if(t.dirty&&function dT(t){return 4==(4&t[Pe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?C0(n,e,r,[]):I1(n,e,i,r);t.reset(s,kG),t.notifyOnChanges()}return!0}return!1}function Mn(){return function M8(t,e){return t[rs].queries[e].queryList}(q(),xd())}function TE(t){return function al(t,e){return t[e]}(function Op(){return Be.lFrame.contextLView}(),We+t)}function Ke(t,e=""){const n=q(),r=it(),i=t+We,s=r.firstCreatePass?rh(r,i,1,e,null):r.data[i],o=F1(r,n,s,e,t);n[i]=o,Fc()&&Fv(r,n,o,s),is(s,!1)}let F1=(t,e,n,r,i)=>(ro(!0),function Pv(t,e){return t.createText(e)}(e[He],r));function ru(t){return Th("",t,""),ru}function Th(t,e,n){const r=q(),i=fh(r,t,e,n);return i!==nt&&function wa(t,e,n){const r=wd(e,t);!function LP(t,e,n){t.setValue(e,n)}(t[He],r,n)}(r,nr(),i),Th}function D0(t,e,n,r,i){if(t=Oe(t),Array.isArray(t))for(let s=0;s<t.length;s++)D0(t[s],e,n,r,i);else{const s=it(),o=q(),a=jt();let l=c(t)?t:Oe(t.provide);const u=$i(t),h=1048575&a.providerIndexes,m=a.directiveStart,g=a.providerIndexes>>20;if(c(t)||!t.multi){const y=new fl(u,i,B),b=A0(l,e,i?h:h+g,m);-1===b?(Uc(Fd(a,o),s,l),S0(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[b]=y,o[b]=y)}else{const y=A0(l,e,h+g,m),b=A0(l,e,h,h+g),I=b>=0&&n[b];if(i&&!I||!i&&!(y>=0&&n[y])){Uc(Fd(a,o),s,l);const x=function K8(t,e,n,r,i){const s=new fl(t,n,B);return s.multi=[],s.index=e,s.componentProviders=0,q1(s,i,r&&!n),s}(i?W8:G8,n.length,i,r,u);!i&&I&&(n[b].providerFactory=x),S0(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),o.push(x)}else S0(s,t,y>-1?y:b,q1(n[i?b:y],u,!i&&r));!i&&r&&I&&n[b].componentProviders++}}}function S0(t,e,n,r){const i=c(e),s=function d(t){return!!t.useClass}(e);if(i||s){const l=(s?Oe(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=u.indexOf(n);-1===h?u.push(n,[r,l]):u[h+1].push(r,l)}else u.push(n,l)}}}function q1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function A0(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function G8(t,e,n,r){return x0(this.multi,[])}function W8(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=gl(n,n[ae],this.providerFactory.index,r);s=a.slice(0,o),x0(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],x0(i,s);return s}function x0(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function un(t,e=[]){return n=>{n.providersResolver=(r,i)=>function q8(t,e,n){const r=it();if(r.firstCreatePass){const i=_r(t);D0(n,r.data,r.blueprint,i,!0),D0(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let Y8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=lm(0,n.type),i=r.length>0?JC([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:t,providedIn:"environment",factory:()=>new t(L($))})}return t})();function iu(t){Qc("NgStandalone"),t.getStandaloneInjector=e=>e.get(Y8).getOrCreateStandaloneInjector(t)}function DE(t,e,n,r){return function eF(t,e,n,r,i,s){const o=e+n;return ir(t,o,i)?function Ro(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function rg(t,e){const n=t[e];return n===nt?void 0:n}(t,o+1)}(q(),function Hr(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function sF(t,e){return IE(t,e)}class Ml{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const H7=new Ml("17.1.3");let bF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();class $7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let wF=(()=>{class t{compileModuleSync(n){return new ZC(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=as(Sr(n).declarations).reduce((o,a)=>{const l=ct(a);return l&&o.push(new km(l)),o},[]);return new $7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const SF=new ee(""),xE=new ee("");let V0,F0=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,V0||(function gK(t){V0=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(L(Ve),L(L0),L(xE))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})(),L0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return V0?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const U0=new ee("");let B0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ie(U0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(eg(s))n.push(s);else if(l1(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const j0=new ee("");function RF(t,e){return Array.isArray(e)?e.reduce(RF,t):{...t,...e}}let Pl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ie(MN),this.afterRenderEffectManager=ie(Nm),this.componentTypes=[],this.components=[],this.isStable=ie(Hm).hasPendingTasks.pipe(fe(n=>!n)),this._injector=ie($)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof gN;if(!this._injector.get(B0).done)throw!i&&function Cs(t){const e=ct(t)||xn(t)||mr(t);return null!==e&&e.standalone}(n),new O(405,!1);let o;o=i?n:this._injector.get(Am).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function yK(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Zc),u=o.create(ri.NULL,[],r||o.selector,a),h=u.location.nativeElement,m=u.injector.get(SF,null);return m?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),RE(this.components,u),m?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let n=0;do{if(100===n)throw new O(103,!1);const r=0===n;for(let{_lView:i,notifyErrorHandler:s}of this._views)!r&&!PF(i)||this.detectChangesInView(i,s,r);this.afterRenderEffectManager.execute(),n++}while(this._views.some(({_lView:r})=>PF(r)))}detectChangesInView(n,r,i){let s;i?(s=0,n[Pe]|=1024):s=64&n[Pe]?0:1,Jv(n,r,s)}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;RE(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(j0,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>RE(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function PF(t){return Sp(t)}let EK=(()=>{class t{constructor(){this.zone=ie(Ve),this.applicationRef=ie(Pl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bK(){const t=ie(Ve),e=ie(ba);return n=>t.runOutsideAngular(()=>e.handleError(n))}let IK=(()=>{class t{constructor(){this.subscription=new gt,this.initialized=!1,this.zone=ie(Ve),this.pendingTasks=ie(Hm)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ko=new ee("",{providedIn:"root",factory:()=>ie(ko,mt.Optional|mt.SkipSelf)||function TK(){return typeof $localize<"u"&&$localize.locale||Ih}()}),H0=new ee("");let OF=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function X5(t="zone.js",e){return"noop"===t?new ok:"zone.js"===t?new Ve(e):t}(r?.ngZone,function kF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function XW(t,e,n){return new XC(t,e,n)}(n.moduleType,this.injector,function NF(t){return[{provide:Ve,useFactory:t},{provide:Ln,multi:!0,useFactory:()=>{const e=ie(EK,{optional:!0});return()=>e.initialize()}},{provide:Ln,multi:!0,useFactory:()=>{const e=ie(IK);return()=>{e.initialize()}}},{provide:MN,useFactory:bK}]}(()=>i)),o=s.injector.get(ba,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{RE(this._modules,s),a.unsubscribe()})}),function xF(t,e,n){try{const r=n();return eg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(B0);return a.runInitializers(),a.donePromise.then(()=>(function LO(t){"string"==typeof t&&(FO=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ko,Ih)||Ih),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=RF({},r);return function _K(t,e,n){const r=new ZC(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Pl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new O(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(H0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(L(ri))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Nl=null;const FF=new ee("");function LF(t,e,n=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=$0();if(!o||o.injector.get(FF,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function SK(t){if(Nl&&!Nl.get(FF,!1))throw new O(400,!1);(function AF(){!function Es(t){pi=t}(()=>{throw new O(600,!1)})})(),Nl=t;const e=t.get(OF);(function UF(t){t.get(vP,null)?.forEach(n=>n())})(t)}(function VF(t=[],e){return ri.create({name:e,providers:[{provide:p,useValue:"platform"},{provide:H0,useValue:new Set([()=>Nl=null])},...t]})}(a,r))}return function AK(t){const e=$0();if(!e)throw new O(401,!1);return e}()}}function $0(){return Nl?.get(OF)??null}const NK=LF(null,"core",[]);let kK=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(L(Pl))};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({})}return t})();function br(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function dL(t,e=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?e:Number(t)}let hL=null;function kl(){return hL}class uY{}const sn=new ee("");let Q0=(()=>{class t{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>ie(hY),providedIn:"platform"})}return t})();const dY=new ee("");let hY=(()=>{class t extends Q0{constructor(){super(),this._doc=ie(sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kl().getBaseHref(this._doc)}onPopState(n){const r=kl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=kl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function X0(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function fL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ia(t){return t&&"?"!==t[0]?"?"+t:t}let ou=(()=>{class t{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>ie(mL),providedIn:"root"})}return t})();const pL=new ee("");let mL=(()=>{class t extends ou{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ie(sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return X0(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ia(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ia(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ia(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(L(Q0),L(pL,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fY=(()=>{class t extends ou{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=X0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ia(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ia(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(L(Q0),L(pL,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})(),Ah=(()=>{class t{constructor(n){this._subject=new bt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function gY(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(fL(gL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ia(r))}normalize(n){return t.stripTrailingSlash(function mY(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,gL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ia(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ia(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ia;static#t=this.joinWithSlash=X0;static#n=this.stripTrailingSlash=fL;static#r=this.\u0275fac=function(r){return new(r||t)(L(ou))};static#i=this.\u0275prov=ce({token:t,factory:()=>function pY(){return new Ah(L(ou))}(),providedIn:"root"})}return t})();function gL(t){return t.replace(/\/index.html$/,"")}const aD=/\s+/,CL=[];let DL=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=CL,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(aD):CL}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(aD):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(aD).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(B(In),B(Ea))};static#t=this.\u0275dir=Me({type:t,selectors:[["","ngClass",""]],inputs:{klass:[ge.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class nQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lD=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new nQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),AL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{AL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ms),B(No),B(DC))};static#t=this.\u0275dir=Me({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function AL(t,e){t.context.$implicit=e.item}let QE=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new rQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xL("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xL("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ms),B(No))};static#t=this.\u0275dir=Me({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class rQ{constructor(){this.$implicit=null,this.ngIf=null}}function xL(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${at(e)}'.`)}let XE=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,s]=n.split("."),o=-1===i.indexOf("-")?void 0:Dl.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||t)(B(In),B(Kv),B(Ea))};static#t=this.\u0275dir=Me({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),ML=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ms))};static#t=this.\u0275dir=Me({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ar]})}return t})(),fD=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({})}return t})();const NL="browser";function kL(t){return t===NL}function ZE(t){return"server"===t}let NQ=(()=>{class t{static#e=this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>kL(ie(Rs))?new kQ(ie(sn),window):new FQ})}return t})();class kQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function OQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class FQ{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class oX extends uY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gD extends oX{static makeCurrent(){!function cY(t){hL??=t}(new gD)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function aX(){return dg=dg||document.querySelector("base"),dg?dg.getAttribute("href"):null}();return null==n?null:function lX(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){dg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function eQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let dg=null,uX=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();const _D=new ee("");let VL=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(L(_D),L(Ve))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();class UL{constructor(e){this._doc=e}}const yD="ng-app-id";let BL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ZE(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${yD}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(yD),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(yD,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn),L(Dv),L($T,8),L(Rs))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();const vD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ED=/%COMP%/g,pX=new ee("",{providedIn:"root",factory:()=>!0});function HL(t,e){return e.map(n=>n.replace(ED,t))}let bD=(()=>{class t{constructor(n,r,i,s,o,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ZE(a),this.defaultRenderer=new wD(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ei.ShadowDom&&(r={...r,encapsulation:Ei.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof zL?i.applyToHost(n):i instanceof ID&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Ei.Emulated:s=new zL(l,u,r,this.appId,h,o,a,m);break;case Ei.ShadowDom:return new yX(l,u,n,r,o,a,this.nonce,m);default:s=new ID(l,u,r,h,o,a,m)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(L(VL),L(BL),L(Dv),L(pX),L(sn),L(Rs),L(Ve),L($T))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();class wD{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vD[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($L(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($L(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=vD[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=vD[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dl.DashCase|Dl.Important)?e.style.setProperty(n,r,i&Dl.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dl.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=kl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function $L(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class yX extends wD{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=HL(i.id,i.styles);for(const h of u){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ID extends wD{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?HL(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zL extends ID{constructor(e,n,r,i,s,o,a,l){const u=i+"-"+r.id;super(e,n,r,s,o,a,l,u),this.contentAttr=function mX(t){return"_ngcontent-%COMP%".replace(ED,t)}(u),this.hostAttr=function gX(t){return"_nghost-%COMP%".replace(ED,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let vX=(()=>{class t extends UL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();const qL=["alt","control","meta","shift"],EX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let wX=(()=>{class t extends UL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kl().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),qL.forEach(u=>{const h=r.indexOf(u);h>-1&&(r.splice(h,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=EX[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qL.forEach(o=>{o!==i&&(0,bX[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();const WL=[{provide:Rs,useValue:NL},{provide:vP,useValue:function IX(){gD.makeCurrent()},multi:!0},{provide:sn,useFactory:function CX(){return function fq(t){HT=t}(document),document},deps:[]}],DX=LF(NK,"browser",WL),SX=new ee(""),KL=[{provide:xE,useClass:class cX{addToWindow(e){lt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new O(5103,!1);return s},lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),lt.getAllAngularRootElements=()=>e.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(r=>{const i=lt.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?kl().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:SF,useClass:F0,deps:[Ve,L0,xE]},{provide:F0,useClass:F0,deps:[Ve,L0,xE]}],YL=[{provide:p,useValue:"root"},{provide:ba,useFactory:function TX(){return new ba},deps:[]},{provide:_D,useClass:vX,multi:!0,deps:[sn,Ve,Rs]},{provide:_D,useClass:wX,multi:!0,deps:[sn]},bD,BL,VL,{provide:IC,useExisting:bD},{provide:class LQ{},useClass:uX,deps:[]},[]];let QL=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Dv,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(L(SX,12))};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({providers:[...YL,...KL],imports:[fD,kK]})}return t})(),AX=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Rh=Qe(316);const TD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function tV(t){return xe(t?.then)}function nV(t){return xe(t[Qi])}function rV(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function iV(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sV=function PX(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oV(t){return xe(t?.[sV])}function aV(t){return(0,Rh.o7)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Rh.U1)(n.read());if(i)return yield(0,Rh.U1)(void 0);yield yield(0,Rh.U1)(r)}}finally{n.releaseLock()}})}function lV(t){return xe(t?.getReader)}function Si(t){if(t instanceof Ot)return t;if(null!=t){if(nV(t))return function NX(t){return new Ot(e=>{const n=t[Qi]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(TD(t))return function kX(t){return new Ot(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(tV(t))return function OX(t){return new Ot(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qa)})}(t);if(rV(t))return cV(t);if(oV(t))return function FX(t){return new Ot(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(lV(t))return function LX(t){return cV(aV(t))}(t)}throw iV(t)}function cV(t){return new Ot(e=>{(function VX(t,e){var n,r,i,s;return(0,Rh.kH)(this,void 0,void 0,function*(){try{for(n=(0,Rh.mA)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Da(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ol(t,e=0){return ve((n,r)=>{n.subscribe(Ie(r,i=>Da(r,t,()=>r.next(i),e),()=>Da(r,t,()=>r.complete(),e),i=>Da(r,t,()=>r.error(i),e)))})}function Mh(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uV(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ot(n=>{Da(n,e,()=>{const r=t[Symbol.asyncIterator]();Da(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kt(t,e){return e?function zX(t,e){if(null!=t){if(nV(t))return function UX(t,e){return Si(t).pipe(Mh(e),Ol(e))}(t,e);if(TD(t))return function jX(t,e){return new Ot(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(tV(t))return function BX(t,e){return Si(t).pipe(Mh(e),Ol(e))}(t,e);if(rV(t))return uV(t,e);if(oV(t))return function HX(t,e){return new Ot(n=>{let r;return Da(n,e,()=>{r=t[sV](),Da(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if(lV(t))return function $X(t,e){return uV(aV(t),e)}(t,e)}throw iV(t)}(t,e):Si(t)}function dV(t){return t&&xe(t.schedule)}function CD(t){return t[t.length-1]}function hV(t){return xe(CD(t))?t.pop():void 0}function fg(t){return dV(CD(t))?t.pop():void 0}function Ne(...t){return Kt(t,fg(t))}const{isArray:GX}=Array,{getPrototypeOf:WX,prototype:KX,keys:YX}=Object;function fV(t){if(1===t.length){const e=t[0];if(GX(e))return{args:e,keys:null};if(function QX(t){return t&&"object"==typeof t&&WX(t)===KX}(e)){const n=YX(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:XX}=Array;function DD(t){return fe(e=>function ZX(t,e){return XX(e)?t(...e):t(e)}(t,e))}function pV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function tb(...t){const e=fg(t),n=hV(t),{args:r,keys:i}=fV(t);if(0===r.length)return Kt([],e);const s=new Ot(function JX(t,e,n=Cr){return r=>{mV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)mV(e,()=>{const u=Kt(t[l],e);let h=!1;u.subscribe(Ie(r,m=>{s[l]=m,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>pV(i,o):Cr));return n?s.pipe(DD(n)):s}function mV(t,e,n){t?Da(n,t,e):e()}const nb=dr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zr(t,e,n=1/0){return xe(e)?zr((r,i)=>fe((s,o)=>e(r,s,i,o))(Si(t(r,i))),n):("number"==typeof e&&(n=e),ve((r,i)=>function eZ(t,e,n,r,i,s,o,a){const l=[];let u=0,h=0,m=!1;const g=()=>{m&&!l.length&&!u&&e.complete()},y=w=>u<r?b(w):l.push(w),b=w=>{s&&e.next(w),u++;let I=!1;Si(n(w,h++)).subscribe(Ie(e,x=>{i?.(x),s?y(x):e.next(x)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;l.length&&u<r;){const x=l.shift();o?Da(e,o,()=>b(x)):b(x)}g()}catch(x){e.error(x)}}))};return t.subscribe(Ie(e,y,()=>{m=!0,g()})),()=>{a?.()}}(r,i,t,n)))}function Ph(t=1/0){return zr(Cr,t)}function rb(...t){return function tZ(){return Ph(1)}()(Kt(t,fg(t)))}function SD(t){return new Ot(e=>{Si(t()).subscribe(e)})}function ib(t,e){const n=xe(t)?t:()=>t,r=i=>i.error(n());return new Ot(e?i=>e.schedule(r,0,i):r)}const Oo=new Ot(t=>t.complete());function AD(){return ve((t,e)=>{let n=null;t._refCount++;const r=Ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class gV extends Ot{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,me(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gt;const n=this.getSubject();e.add(this.source.subscribe(Ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gt.EMPTY)}return e}refCount(){return AD()(this)}}function Un(t,e){return ve((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ie(r,l=>{i?.unsubscribe();let u=0;const h=s++;Si(t(l,h)).subscribe(i=Ie(r,m=>r.next(e?e(l,m,h,u++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ho(t){return t<=0?()=>Oo:ve((e,n)=>{let r=0;e.subscribe(Ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function au(...t){const e=fg(t);return ve((n,r)=>{(e?rb(t,n,e):rb(t,n)).subscribe(r)})}function xr(t,e){return ve((n,r)=>{let i=0;n.subscribe(Ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function sb(t){return ve((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _V(t=rZ){return ve((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rZ(){return new nb}function Fl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xr((i,s)=>t(i,s,r)):Cr,ho(1),n?sb(e):_V(()=>new nb))}function pg(t,e){return xe(e)?zr(t,e,1):zr(t,1)}function Rr(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ie(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Cr}function Nh(t){return ve((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ie(n,void 0,void 0,o=>{s=Si(t(o,Nh(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ob(t,e){return ve(function iZ(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(Ie(o,h=>{const m=u++;l=a?t(l,h,m):(a=!0,h),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}function xD(t){return t<=0?()=>Oo:ve((e,n)=>{let r=[];e.subscribe(Ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function RD(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function us(t){return ve((e,n)=>{Si(t).subscribe(Ie(n,()=>n.complete(),_i)),!n.closed&&e.subscribe(n)})}const ut="primary",mg=Symbol("RouteTitle");class aZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function kh(t){return new aZ(t)}function lZ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Fo(t,e){const n=t?MD(t):void 0,r=e?MD(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!yV(t[i],e[i]))return!1;return!0}function MD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function yV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function vV(t){return t.length>0?t[t.length-1]:null}function Ll(t){return function eV(t){return!!t&&(t instanceof Ot||xe(t.lift)&&xe(t.subscribe))}(t)?t:eg(t)?Kt(Promise.resolve(t)):Ne(t)}const uZ={exact:function wV(t,e,n){if(!lu(t.segments,e.segments)||!ab(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!wV(t.children[r],e.children[r],n))return!1;return!0},subset:IV},EV={exact:function dZ(t,e){return Fo(t,e)},subset:function hZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>yV(t[n],e[n]))},ignored:()=>!0};function bV(t,e,n){return uZ[n.paths](t.root,e.root,n.matrixParams)&&EV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function IV(t,e,n){return TV(t,e,e.segments,n)}function TV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!lu(i,n)||e.hasChildren()||!ab(i,n,r))}if(t.segments.length===n.length){if(!lu(t.segments,n)||!ab(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!IV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(lu(t.segments,i)&&ab(t.segments,i,r)&&t.children[ut])&&TV(t.children[ut],e,s,r)}}function ab(t,e,n){return e.every((r,i)=>EV[n](t[i].parameters,r.parameters))}class Oh{constructor(e=new en([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=kh(this.queryParams),this._queryParamMap}toString(){return mZ.serialize(this)}}class en{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lb(this)}}class gg{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=kh(this.parameters),this._parameterMap}toString(){return SV(this)}}function lu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Fh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>new PD,providedIn:"root"})}return t})();class PD{parse(e){const n=new DZ(e);return new Oh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${_g(e.root,!0)}`,r=function yZ(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${cb(n)}=${cb(i)}`).join("&"):`${cb(n)}=${cb(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function gZ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const mZ=new PD;function lb(t){return t.segments.map(e=>SV(e)).join("/")}function _g(t,e){if(!t.hasChildren())return lb(t);if(e){const n=t.children[ut]?_g(t.children[ut],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ut&&r.push(`${i}:${_g(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function pZ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ut&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ut&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ut?[_g(t.children[ut],!1)]:[`${i}:${_g(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ut]?`${lb(t)}/${n[0]}`:`${lb(t)}/(${n.join("//")})`}}function CV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cb(t){return CV(t).replace(/%3B/gi,";")}function ND(t){return CV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ub(t){return decodeURIComponent(t)}function DV(t){return ub(t.replace(/\+/g,"%20"))}function SV(t){return`${ND(t.path)}${function _Z(t){return Object.entries(t).map(([e,n])=>`;${ND(e)}=${ND(n)}`).join("")}(t.parameters)}`}const vZ=/^[^\/()?;#]+/;function kD(t){const e=t.match(vZ);return e?e[0]:""}const EZ=/^[^\/()?;=#]+/,wZ=/^[^=?&#]+/,TZ=/^[^&#]+/;class DZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ut]=new en(e,n)),r}parseSegment(){const e=kD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new gg(ub(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function bZ(t){const e=t.match(EZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=kD(this.remaining);i&&(r=i,this.capture(r))}e[ub(n)]=ub(r)}parseQueryParam(e){const n=function IZ(t){const e=t.match(wZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function CZ(t){const e=t.match(TZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=DV(n),s=DV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ut);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ut]:new en([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function AV(t){return t.segments.length>0?new en([],{[ut]:t}):t}function xV(t){const e={};for(const[r,i]of Object.entries(t.children)){const s=xV(i);if(r===ut&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function SZ(t){if(1===t.numberOfChildren&&t.children[ut]){const e=t.children[ut];return new en(t.segments.concat(e.segments),e.children)}return t}(new en(t.segments,e))}function Lh(t){return t instanceof Oh}function RV(t){let e;const i=AV(function n(s){const o={};for(const l of s.children){const u=n(l);o[l.outlet]=u}const a=new en(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function MV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return OD(i,i,i,n,r);const s=function xZ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new NV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new NV(n,e,r)}(e);if(s.toRoot())return OD(i,i,new en([],{}),n,r);const o=function RZ(t,e,n){if(t.isAbsolute)return new hb(e,!0,0);if(!n)return new hb(e,!1,NaN);if(null===n.parent)return new hb(n,!0,0);const r=db(t.commands[0])?0:1;return function MZ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new hb(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?vg(o.segmentGroup,o.index,s.commands):kV(o.segmentGroup,o.index,s.commands);return OD(i,o.segmentGroup,a,n,r)}function db(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yg(t){return"object"==typeof t&&null!=t&&t.outlets}function OD(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),o=t===e?n:PV(t,e,n);const a=AV(xV(o));return new Oh(a,s,i)}function PV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:PV(s,e,n)}),new en(t.segments,r)}class NV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&db(r[0]))throw new O(4003,!1);const i=r.find(yg);if(i&&i!==vV(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hb{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function kV(t,e,n){if(t??=new en([],{}),0===t.segments.length&&t.hasChildren())return vg(t,e,n);const r=function NZ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(yg(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!FV(l,u,o))return s;r+=2}else{if(!FV(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new en(t.segments.slice(0,r.pathIndex),{});return s.children[ut]=new en(t.segments.slice(r.pathIndex),t.children),vg(s,0,i)}return r.match&&0===i.length?new en(t.segments,{}):r.match&&!t.hasChildren()?FD(t,e,n):r.match?vg(t,0,i):FD(t,e,n)}function vg(t,e,n){if(0===n.length)return new en(t.segments,{});{const r=function PZ(t){return yg(t[0])?t[0].outlets:{[ut]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ut)&&t.children[ut]&&1===t.numberOfChildren&&0===t.children[ut].segments.length){const s=vg(t.children[ut],e,n);return new en(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=kV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new en(t.segments,i)}}function FD(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(yg(s)){const l=kZ(s.outlets);return new en(r,l)}if(0===i&&db(n[0])){r.push(new gg(t.segments[e].path,OV(n[0]))),i++;continue}const o=yg(s)?s.outlets[ut]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&db(a)?(r.push(new gg(o,OV(a))),i+=2):(r.push(new gg(o,{})),i++)}return new en(r,{})}function kZ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=FD(new en([],{}),0,r))}),e}function OV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FV(t,e,n){return t==n.path&&Fo(e,n.parameters)}const Eg="imperative";var Ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ct||{});class Lo{constructor(e,n){this.id=e,this.url=n}}class fb extends Lo{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sa extends Lo{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Vs=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Vs||{}),pb=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(pb||{});class Vh extends Lo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uh extends Lo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ct.NavigationSkipped}}class mb extends Lo{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LV extends Lo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OZ extends Lo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FZ extends Lo{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LZ extends Lo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VZ extends Lo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UZ{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BZ{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jZ{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HZ{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $Z{constructor(e){this.snapshot=e,this.type=Ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zZ{constructor(e){this.snapshot=e,this.type=Ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ct.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LD{}class VD{constructor(e){this.url=e}}class qZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bg,this.attachRef=null}}let bg=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new qZ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class UV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=UD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=UD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=BD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return BD(e,this._root).map(n=>n.value)}}function UD(t,e){if(t===e.value)return e;for(const n of e.children){const r=UD(t,n);if(r)return r}return null}function BD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=BD(t,n);if(r.length)return r.unshift(e),r}return[]}class fo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Bh(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class BV extends UV{constructor(e,n){super(e),this.snapshot=n,$D(this,e)}toString(){return this.snapshot.toString()}}function jV(t){const e=function GZ(t){const s=new HD([],{},{},"",{},ut,t,null,{});return new HV("",new fo(s,[]))}(t),n=new M([new gg("",{})]),r=new M({}),i=new M({}),s=new M({}),o=new M(""),a=new jh(n,r,s,o,i,ut,t,e.root);return a.snapshot=e.root,new BV(new fo(a,[]),e)}class jh{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(fe(u=>u[mg]))??Ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>kh(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>kh(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jD(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&zV(i)&&(r.resolve[mg]=i.title),r}class HD{get title(){return this.data?.[mg]}constructor(e,n,r,i,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kh(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HV extends UV{constructor(e,n){super(n),this.url=e,$D(this,n)}toString(){return $V(this._root)}}function $D(t,e){e.value._routerState=t,e.children.forEach(n=>$D(t,n))}function $V(t){const e=t.children.length>0?` { ${t.children.map($V).join(", ")} } `:"";return`${t.value}${e}`}function zD(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Fo(e.params,n.params)||t.paramsSubject.next(n.params),function cZ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Fo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qD(t,e){const n=Fo(t.params,e.params)&&function fZ(t,e){return lu(t,e)&&t.every((n,r)=>Fo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||qD(t.parent,e.parent))}function zV(t){return"string"==typeof t.title||null===t.title}let GD=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.parentContexts=ie(bg),this.location=ie(Ms),this.changeDetector=ie(Al),this.environmentInjector=ie($),this.inputBinder=ie(gb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new WZ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Me({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ar]})}return t})();class WZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jh?this.route:e===bg?this.childContexts:this.parent.get(e,n)}}const gb=new ee("");let qV=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=tb([r.queryParams,r.params,r.data]).pipe(Un(([s,o,a],l)=>(a={...s,...o,...a},0===l?Ne(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function lY(t){const e=ct(t);if(!e)return null;const n=new km(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();function wg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function YZ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wg(t,r,i);return wg(t,r)})}(t,e,n);return new fo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>wg(t,a)),o}}const r=function QZ(t){return new jh(new M(t.url),new M(t.params),new M(t.queryParams),new M(t.fragment),new M(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>wg(t,s));return new fo(r,i)}}const GV="ngNavigationCancelingError";function WV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Lh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KV(!1,Vs.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function KV(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[GV]=!0,n.cancellationCode=e,n}function YV(t){return!!t&&t[GV]}let QV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["ng-component"]],standalone:!0,features:[iu],decls:1,vars:0,template:function(r,i){1&r&&ft(0,"router-outlet")},dependencies:[GD],encapsulation:2})}return t})();function WD(t){const e=t.children&&t.children.map(WD),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ut&&(n.component=QV),n}function Vo(t){return t.outlet||ut}function Ig(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class iJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Bh(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bh(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bh(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Bh(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new zZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new HZ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(zD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ig(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class XV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _b{constructor(e,n){this.component=e,this.route=n}}function sJ(t,e,n){const r=t._root;return Tg(r,e?e._root:null,n,[r.value])}function Hh(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function YI(t){return null!==Qa(t)}(t)?e.get(t):t:r}function Tg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bh(e);return t.children.forEach(o=>{(function aJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function lJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!lu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lu(t.url,e.url)||!Fo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qD(t,e)||!Fo(t.queryParams,e.queryParams);default:return!qD(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new XV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Tg(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _b(a.outlet.component,o))}else o&&Cg(e,a,i),i.canActivateChecks.push(new XV(r)),Tg(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Cg(a,n.getContext(o),i)),i}function Cg(t,e,n){const r=Bh(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Cg(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new _b(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Dg(t){return"function"==typeof t}function ZV(t){return t instanceof nb||"EmptyError"===t?.name}const yb=Symbol("INITIAL_VALUE");function $h(){return Un(t=>tb(t.map(e=>e.pipe(ho(1),au(yb)))).pipe(fe(e=>{for(const n of e)if(!0!==n){if(n===yb)return yb;if(!1===n||n instanceof Oh)return n}return!0}),xr(e=>e!==yb),ho(1)))}function JV(t){return Xs(Rr(e=>{if(Lh(e))throw WV(0,e)}),fe(e=>!0===e))}class KD{constructor(e){this.segmentGroup=e||null}}class YD extends Error{constructor(e){super(),this.urlTree=e}}function zh(t){return ib(new KD(t))}class SJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ne(r);if(i.numberOfChildren>1||!i.children[ut])return ib(new O(4e3,!1));i=i.children[ut]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new YD(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Oh(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new en(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const QD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AJ(t,e,n,r,i){const s=XD(t,e,n);return s.matched?(r=function ZZ(t,e){return t.providers&&!t._injector&&(t._injector=JC(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function TJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Ne(i.map(o=>{const a=Hh(o,t);return Ll(function pJ(t){return t&&Dg(t.canMatch)}(a)?a.canMatch(e,n):oo(t,()=>a(e,n)))})).pipe($h(),JV()):Ne(!0)}(r,e,n).pipe(fe(o=>!0===o?s:{...QD}))):Ne(s)}function XD(t,e,n){if("**"===e.path)return function xJ(t){return{matched:!0,parameters:t.length>0?vV(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...QD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lZ)(n,t,e);if(!i)return{...QD};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function e2(t,e,n,r){return n.length>0&&function PJ(t,e,n){return n.some(r=>vb(t,e,r)&&Vo(r)!==ut)}(t,n,r)?{segmentGroup:new en(e,MJ(r,new en(n,t.children))),slicedSegments:[]}:0===n.length&&function NJ(t,e,n){return n.some(r=>vb(t,e,r))}(t,n,r)?{segmentGroup:new en(t.segments,RJ(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new en(t.segments,t.children),slicedSegments:n}}function RJ(t,e,n,r){const i={};for(const s of n)if(vb(t,e,s)&&!r[Vo(s)]){const o=new en([],{});i[Vo(s)]=o}return{...r,...i}}function MJ(t,e){const n={};n[ut]=e;for(const r of t)if(""===r.path&&Vo(r)!==ut){const i=new en([],{});n[Vo(r)]=i}return n}function vb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class FJ{}class UJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new SJ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){const e=e2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(n=>{const r=new HD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),i=new fo(r,n),s=new HV("",i),o=function AZ(t,e,n=null,r=null){return MV(RV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ut).pipe(Nh(r=>{if(r instanceof YD)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof KD?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=jD(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(fe(s=>s instanceof fo?[s]:[]))}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Kt(i).pipe(pg(s=>{const o=r.children[s],a=function nJ(t,e){const n=t.filter(r=>Vo(r)===e);return n.push(...t.filter(r=>Vo(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),ob((s,o)=>(s.push(...o),s)),sb(null),function sZ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xr((i,s)=>t(i,s,r)):Cr,xD(1),n?sb(e):_V(()=>new nb))}(),zr(s=>{if(null===s)return zh(r);const o=t2(s);return function BJ(t){t.sort((e,n)=>e.value.outlet===ut?-1:n.value.outlet===ut?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Ne(o)}))}processSegment(e,n,r,i,s,o){return Kt(n).pipe(pg(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Nh(l=>{if(l instanceof KD)return Ne(null);throw l}))),Fl(a=>!!a),Nh(a=>{if(ZV(a))return function OJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Ne(new FJ):zh(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function kJ(t,e,n,r){return!!(Vo(t)===r||r!==ut&&vb(e,n,t))&&XD(e,t,n).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):zh(i):zh(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=XD(n,i,s);if(!a)return zh(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,m).pipe(zr(g=>this.processSegment(e,r,n,g.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){const o=AJ(n,r,i,e);return"**"===r.path&&(n.children={}),o.pipe(Un(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Un(({routes:l})=>{const u=r._loadedInjector??e,{consumedSegments:h,remainingSegments:m,parameters:g}=a,y=new HD(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function HJ(t){return t.data||{}}(r),Vo(r),r.component??r._loadedComponent??null,r,function $J(t){return t.resolve||{}}(r)),{segmentGroup:b,slicedSegments:w}=e2(n,h,m,l);if(0===w.length&&b.hasChildren())return this.processChildren(u,l,b).pipe(fe(x=>null===x?null:new fo(y,x)));if(0===l.length&&0===w.length)return Ne(new fo(y,[]));const I=Vo(r)===s;return this.processSegment(u,l,b,w,I?ut:s,!0).pipe(fe(x=>new fo(y,x instanceof fo?[x]:[])))})):zh(n)))}getChildConfig(e,n,r){return n.children?Ne({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function IJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Ne(!0):Ne(i.map(o=>{const a=Hh(o,t);return Ll(function uJ(t){return t&&Dg(t.canLoad)}(a)?a.canLoad(e,n):oo(t,()=>a(e,n)))})).pipe($h(),JV())}(e,n,r).pipe(zr(i=>i?this.configLoader.loadChildren(e,n).pipe(Rr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function DJ(t){return ib(KV(!1,Vs.GuardRejected))}())):Ne({routes:[],injector:e})}}function jJ(t){const e=t.value.routeConfig;return e&&""===e.path}function t2(t){const e=[],n=new Set;for(const r of t){if(!jJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=t2(r.children);e.push(new fo(r.value,i))}return e.filter(r=>!n.has(r))}function n2(t){const e=t.children.map(n=>n2(n)).flat();return[t,...e]}function ZD(t){return Un(e=>{const n=t(e);return n?Kt(n).pipe(fe(()=>e)):Ne(e)})}let r2=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ut);return r}getResolvedTitleForRoute(n){return n.data[mg]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>ie(YJ),providedIn:"root"})}return t})(),YJ=(()=>{class t extends r2{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(L(AX))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qh=new ee("",{providedIn:"root",factory:()=>({})}),Gh=new ee("");let JD=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ie(wF)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ll(n.loadComponent()).pipe(fe(s2),Rr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),RD(()=>{this.componentLoaders.delete(n)})),i=new gV(r,()=>new D).pipe(AD());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function QJ(t,e,n,r){return Ll(t.loadChildren()).pipe(fe(s2),zr(i=>i instanceof Mk||Array.isArray(i)?Ne(i):Kt(e.compileModuleAsync(i))),fe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Gh,[],{optional:!0,self:!0}).flat()),{routes:o.map(WD),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(RD(()=>{this.childrenLoaders.delete(r)})),o=new gV(s,()=>new D).pipe(AD());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s2(t){return function XJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let eS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>ie(ZJ),providedIn:"root"})}return t})(),ZJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const o2=new ee(""),a2=new ee("");function JJ(t,e,n){const r=t.get(a2),i=t.get(sn);return t.get(Ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),function eee(t){return new Promise(e=>{ck(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&oo(t,()=>l({transition:a,from:e,to:n})),o})}let Eb=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new D,this.transitionAbortSubject=new D,this.configLoader=ie(JD),this.environmentInjector=ie($),this.urlSerializer=ie(Fh),this.rootContexts=ie(bg),this.location=ie(Ah),this.inputBindingEnabled=null!==ie(gb,{optional:!0}),this.titleStrategy=ie(r2),this.options=ie(qh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ie(eS),this.createViewTransition=ie(o2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new BZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new UZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new M({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eg,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xr(s=>0!==s.id),fe(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Un(s=>{this.currentTransition=s;let o=!1,a=!1;return Ne(s).pipe(Rr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Un(l=>{const u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Uh(l.id,this.urlSerializer.serialize(l.rawUrl),m,pb.IgnoredSameUrlNavigation)),l.resolve(null),Oo}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ne(l).pipe(Un(m=>{const g=this.transitions?.getValue();return this.events.next(new fb(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?Oo:Promise.resolve(m)}),function zJ(t,e,n,r,i,s){return zr(o=>function LJ(t,e,n,r,i,s,o="emptyOnly"){return new UJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(fe(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Rr(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const g=new LV(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:g,source:y,restoredState:b,extras:w}=l,I=new fb(m,this.urlSerializer.serialize(g),y,b);this.events.next(I);const x=jV(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:x,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Ne(s)}{const m="";return this.events.next(new Uh(l.id,this.urlSerializer.serialize(l.extractedUrl),m,pb.IgnoredByUrlHandlingStrategy)),l.resolve(null),Oo}}),Rr(l=>{const u=new OZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),fe(l=>(this.currentTransition=s={...l,guards:sJ(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function mJ(t,e){return zr(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ne({...n,guardsResult:!0}):function gJ(t,e,n,r){return Kt(t).pipe(zr(i=>function wJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ne(s.map(a=>{const l=Ig(e)??i,u=Hh(a,l);return Ll(function fJ(t){return t&&Dg(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):oo(l,()=>u(t,e,n,r))).pipe(Fl())})).pipe($h()):Ne(!0)}(i.component,i.route,n,e,r)),Fl(i=>!0!==i,!0))}(o,r,i,t).pipe(zr(a=>a&&function cJ(t){return"boolean"==typeof t}(a)?function _J(t,e,n,r){return Kt(e).pipe(pg(i=>rb(function vJ(t,e){return null!==t&&e&&e(new jZ(t)),Ne(!0)}(i.route.parent,r),function yJ(t,e){return null!==t&&e&&e(new $Z(t)),Ne(!0)}(i.route,r),function bJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function oJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>SD(()=>Ne(o.guards.map(l=>{const u=Ig(o.node)??n,h=Hh(l,u);return Ll(function hJ(t){return t&&Dg(t.canActivateChild)}(h)?h.canActivateChild(r,t):oo(u,()=>h(r,t))).pipe(Fl())})).pipe($h())));return Ne(s).pipe($h())}(t,i.path,n),function EJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ne(!0);const i=r.map(s=>SD(()=>{const o=Ig(e)??n,a=Hh(s,o);return Ll(function dJ(t){return t&&Dg(t.canActivate)}(a)?a.canActivate(e,t):oo(o,()=>a(e,t))).pipe(Fl())}));return Ne(i).pipe($h())}(t,i.route,n))),Fl(i=>!0!==i,!0))}(r,s,t,e):Ne(a)),fe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Rr(l=>{if(s.guardsResult=l.guardsResult,Lh(l.guardsResult))throw WV(0,l.guardsResult);const u=new FZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),xr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Vs.GuardRejected),!1)),ZD(l=>{if(l.guards.canActivateChecks.length)return Ne(l).pipe(Rr(u=>{const h=new LZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Un(u=>{let h=!1;return Ne(u).pipe(function qJ(t,e){return zr(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ne(n);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const u of n2(l))o.add(u);let a=0;return Kt(o).pipe(pg(l=>s.has(l)?function GJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!zV(i)&&(s[mg]=i.title),function WJ(t,e,n,r){const i=MD(t);if(0===i.length)return Ne({});const s={};return Kt(i).pipe(zr(o=>function KJ(t,e,n,r){const i=Ig(e)??r,s=Hh(t,i);return Ll(s.resolve?s.resolve(e,n):oo(i,()=>s(e,n)))}(t[o],e,n,r).pipe(Fl(),Rr(a=>{s[o]=a}))),xD(1),function oZ(t){return fe(()=>t)}(s),Nh(o=>ZV(o)?Oo:ib(o)))}(s,t,e,r).pipe(fe(o=>(t._resolvedData=o,t.data=jD(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=jD(l,l.parent,t).resolve,Ne(void 0))),Rr(()=>a++),xD(1),zr(l=>a===o.size?Ne(n):Oo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Rr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",Vs.NoDataFromResolver)}}))}),Rr(u=>{const h=new VZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),ZD(l=>{const u=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Rr(g=>{h.component=g}),fe(()=>{})));for(const g of h.children)m.push(...u(g));return m};return tb(u(l.targetSnapshot.root)).pipe(sb(null),ho(1))}),ZD(()=>this.afterPreactivation()),Un(()=>{const{currentSnapshot:l,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?Kt(h).pipe(fe(()=>s)):Ne(s)}),fe(l=>{const u=function KZ(t,e,n){const r=wg(t,e._root,n?n._root:void 0);return new BV(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},this.currentNavigation.targetRouterState=u,s}),Rr(()=>{this.events.next(new LD)}),((t,e,n,r)=>fe(i=>(new iJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ho(1),Rr({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),us(this.transitionAbortSubject.pipe(Rr(l=>{throw l}))),RD(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Vs.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Nh(l=>{if(a=!0,YV(l))this.events.next(new Vh(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function XZ(t){return YV(t)&&Lh(t.url)}(l)?this.events.next(new VD(l.url)):s.resolve(!1);else{this.events.next(new mb(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Oo}))}))}cancelNavigationTransition(n,r,i){const s=new Vh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tee(t){return t!==Eg}let nee=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>ie(iee),providedIn:"root"})}return t})();class ree{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let iee=(()=>{class t extends ree{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})();static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:()=>ie(see),providedIn:"root"})}return t})(),see=(()=>{class t extends l2{constructor(){super(...arguments),this.location=ie(Ah),this.urlSerializer=ie(Fh),this.options=ie(qh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ie(eS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Oh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof fb)this.stateMemento=this.createStateMemento();else if(n instanceof Uh)this.rawUrlTree=r.initialUrl;else if(n instanceof LV){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof LD?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Vh&&(n.code===Vs.GuardRejected||n.code===Vs.NoDataFromResolver)?this.restoreHistory(r):n instanceof mb?this.restoreHistory(r,!0):n instanceof Sa&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})();static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Sg=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Sg||{});function c2(t,e){t.events.pipe(xr(n=>n instanceof Sa||n instanceof Vh||n instanceof mb||n instanceof Uh),fe(n=>n instanceof Sa||n instanceof Uh?Sg.COMPLETE:n instanceof Vh&&(n.code===Vs.Redirect||n.code===Vs.SupersededByNewNavigation)?Sg.REDIRECTING:Sg.FAILED),xr(n=>n!==Sg.REDIRECTING),ho(1)).subscribe(()=>{e()})}function oee(t){throw t}const aee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ds=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ie(bF),this.stateManager=ie(l2),this.options=ie(qh,{optional:!0})||{},this.pendingTasks=ie(Hm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ie(Eb),this.urlSerializer=ie(Fh),this.location=ie(Ah),this.urlHandlingStrategy=ie(eS),this._events=new D,this.errorHandler=this.options.errorHandler||oee,this.navigated=!1,this.routeReuseStrategy=ie(nee),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ie(Gh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ie(gb,{optional:!0}),this.eventsSubscription=new gt,this.isNgZoneEnabled=ie(Ve)instanceof Ve&&Ve.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Vh&&r.code!==Vs.Redirect&&r.code!==Vs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Sa)this.navigated=!0;else if(r instanceof VD){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tee(i.source)};this.scheduleNavigation(o,Eg,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function uee(t){return!(t instanceof LD||t instanceof VD)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Eg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(WD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let m,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{m=RV(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return MV(m,n,h,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Lh(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Eg,null,r)}navigate(n,r={skipLocationChange:!1}){return function cee(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new O(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...aee}:!1===r?{...lee}:r,Lh(n))return bV(this.currentUrlTree,n,i);const s=this.parseUrl(n);return bV(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((m,g)=>{a=m,l=g});const h=this.pendingTasks.add();return c2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class u2{}let fee=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xr(n=>n instanceof Sa),pg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=JC(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Kt(i).pipe(Ph())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ne(null);const s=i.pipe(zr(o=>null===o?Ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Kt([s,this.loader.loadComponent(r)]).pipe(Ph()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(L(ds),L(wF),L($),L(u2),L(JD))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const nS=new ee("");let d2=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Sa?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Uh&&n.code===pb.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof VV&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new VV(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function VN(){throw new Error("invalid")}()};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();function Uo(t,e){return{\u0275kind:t,\u0275providers:e}}function f2(){const t=ie(ri);return e=>{const n=t.get(Pl);if(e!==n.components[0])return;const r=t.get(ds),i=t.get(p2);1===t.get(rS)&&r.initialNavigation(),t.get(m2,null,mt.Optional)?.setUpPreloading(),t.get(nS,null,mt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const p2=new ee("",{factory:()=>new D}),rS=new ee("",{providedIn:"root",factory:()=>1}),m2=new ee("");function _ee(t){return Uo(0,[{provide:m2,useExisting:fee},{provide:u2,useExisting:t}])}function vee(t){return Uo(9,[{provide:o2,useValue:JJ},{provide:a2,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const g2=new ee("ROUTER_FORROOT_GUARD"),Eee=[Ah,{provide:Fh,useClass:PD},ds,bg,{provide:jh,useFactory:function h2(t){return t.routerState.root},deps:[ds]},JD,[]];let _2=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Eee,[],{provide:Gh,multi:!0,useValue:n},{provide:g2,useFactory:Tee,deps:[[ds,new ya,new Hd]]},{provide:qh,useValue:r||{}},r?.useHash?{provide:ou,useClass:fY}:{provide:ou,useClass:mL},{provide:nS,useFactory:()=>{const t=ie(NQ),e=ie(Ve),n=ie(qh),r=ie(Eb),i=ie(Fh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new d2(i,r,t,e,n)}},r?.preloadingStrategy?_ee(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Cee(r):[],r?.bindToComponentInputs?Uo(8,[qV,{provide:gb,useExisting:qV}]).\u0275providers:[],r?.enableViewTransitions?vee().\u0275providers:[],[{provide:y2,useFactory:f2},{provide:j0,multi:!0,useExisting:y2}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Gh,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(L(g2,8))};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({})}return t})();function Tee(t){return"guarded"}function Cee(t){return["disabled"===t.initialNavigation?Uo(3,[{provide:U0,multi:!0,useFactory:()=>{const e=ie(ds);return()=>{e.setUpLocationChangeListener()}}},{provide:rS,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Uo(2,[{provide:rS,useValue:0},{provide:U0,multi:!0,deps:[ri],useFactory:e=>{const n=e.get(dY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ds),s=e.get(p2);c2(i,()=>{r(!0)}),e.get(Eb).afterPreactivation=()=>(r(!0),s.closed?Ne(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const y2=new ee("");let See=(()=>{class t{constructor(){this.title="flat-booking-app"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ft(0,"router-outlet")},dependencies:[GD]})}return t})();var $e=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}($e||{});const Aa="*";function iS(t,e){return{type:$e.Trigger,name:t,definitions:e,options:{}}}function sS(t,e=null){return{type:$e.Animate,styles:e,timings:t}}function cu(t){return{type:$e.Style,styles:t,offset:null}}function v2(t,e,n){return{type:$e.State,name:t,styles:e,options:n}}function bb(t,e,n=null){return{type:$e.Transition,expr:t,animation:e,options:n}}function xee(t=null){return{type:$e.AnimateChild,options:t}}function Ree(t,e,n=null){return{type:$e.Query,selector:t,animation:e,options:n}}class Ag{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class E2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function b2(t){return new O(3e3,!1)}function Vl(t){switch(t.length){case 0:return new Ag;case 1:return t[0];default:return new E2(t)}}function w2(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),h=u==o,m=h&&a||new Map;l.forEach((g,y)=>{let b=y,w=g;if("offset"!==y)switch(b=t.normalizePropertyName(b,i),w){case"!":w=n.get(y);break;case Aa:w=r.get(y);break;default:w=t.normalizeStyleValue(y,b,w,i)}m.set(b,w)}),h||s.push(m),a=m,o=u}),i.length)throw function rte(t){return new O(3502,!1)}();return s}function aS(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&lS(n,"start",t)));break;case"done":t.onDone(()=>r(n&&lS(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&lS(n,"destroy",t)))}}function lS(t,e,n){const s=cS(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function cS(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function hs(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function I2(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const mte=typeof document>"u"?null:document.documentElement;function uS(t){const e=t.parentNode||t.host||null;return e===mte?null:e}let uu=null,T2=!1;function C2(t,e){for(;e;){if(e===t)return!0;e=uS(e)}return!1}function D2(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let dS=(()=>{class t{validateStyleProperty(n){return function _te(t){uu||(uu=function yte(){return typeof document<"u"?document.body:null}()||{},T2=!!uu.style&&"WebkitAppearance"in uu.style);let e=!0;return uu.style&&!function gte(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in uu.style,!e&&T2&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in uu.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return C2(n,r)}getParentElement(n){return uS(n)}query(n,r,i){return D2(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new Ag(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();class hS{static#e=this.NOOP=new dS}class fS{}const Ete=1e3,pS="ng-enter",wb="ng-leave",Ib="ng-trigger",Tb=".ng-trigger",A2="ng-animating",mS=".ng-animating";function xa(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gS(parseFloat(e[1]),e[2])}function gS(t,e){return"s"===e?t*Ete:t}function Cb(t,e,n){return t.hasOwnProperty("duration")?t:function wte(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(b2()),{duration:0,delay:0,easing:""};i=gS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=gS(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function Oee(){return new O(3100,!1)}()),a=!0),s<0&&(e.push(function Fee(){return new O(3101,!1)}()),a=!0),a&&e.splice(l,0,b2())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Bo(t,e,n){e.forEach((r,i)=>{const s=yS(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function du(t,e){e.forEach((n,r)=>{const i=yS(r);t.style[i]=""})}function xg(t){return Array.isArray(t)?1==t.length?t[0]:function Aee(t,e=null){return{type:$e.Sequence,steps:t,options:e}}(t):t}const _S=new RegExp("{{\\s*(.+?)\\s*}}","g");function R2(t){let e=[];if("string"==typeof t){let n;for(;n=_S.exec(t);)e.push(n[1]);_S.lastIndex=0}return e}function Rg(t,e,n){const r=`${t}`,i=r.replace(_S,(s,o)=>{let a=e[o];return null==a&&(n.push(function Vee(t){return new O(3003,!1)}()),a=""),a.toString()});return i==r?t:i}const Cte=/-+([a-z0-9])/g;function yS(t){return t.replace(Cte,(...e)=>e[1].toUpperCase())}function fs(t,e,n){switch(e.type){case $e.Trigger:return t.visitTrigger(e,n);case $e.State:return t.visitState(e,n);case $e.Transition:return t.visitTransition(e,n);case $e.Sequence:return t.visitSequence(e,n);case $e.Group:return t.visitGroup(e,n);case $e.Animate:return t.visitAnimate(e,n);case $e.Keyframes:return t.visitKeyframes(e,n);case $e.Style:return t.visitStyle(e,n);case $e.Reference:return t.visitReference(e,n);case $e.AnimateChild:return t.visitAnimateChild(e,n);case $e.AnimateRef:return t.visitAnimateRef(e,n);case $e.Query:return t.visitQuery(e,n);case $e.Stagger:return t.visitStagger(e,n);default:throw function Uee(t){return new O(3004,!1)}()}}function vS(t,e){return window.getComputedStyle(t)[e]}const Ate=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class M2 extends fS{normalizePropertyName(e,n){return yS(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(Ate.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Bee(t,e){return new O(3005,!1)}())}return o+s}}const Db="*";const Sb=new Set(["true","1"]),Ab=new Set(["false","0"]);function P2(t,e){const n=Sb.has(t)||Ab.has(t),r=Sb.has(e)||Ab.has(e);return(i,s)=>{let o=t==Db||t==i,a=e==Db||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Sb.has(t):Ab.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Sb.has(e):Ab.has(e)),o&&a}}const Pte=new RegExp("s*:selfs*,?","g");function ES(t,e,n,r){return new Nte(t).build(e,n,r)}class Nte{constructor(e){this._driver=e}build(e,n,r){const i=new Fte(n);return this._resetContextStyleTimingState(i),fs(this,xg(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function jee(){return new O(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==$e.State){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,n))}),l.name=u}else if(a.type==$e.Transition){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function Hee(){return new O(3007,!1)}())}),{type:$e.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{R2(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&n.errors.push(function $ee(t,e){return new O(3008,!1)}(0,s.values()))}return{type:$e.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=fs(this,xg(e.animation),n),i=function xte(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Rte(t,e,n){if(":"==t[0]){const l=function Mte(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Jee(t){return new O(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Zee(t){return new O(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(P2(i,o)),"<"==s[0]&&(i!=Db||o!=Db)&&e.push(P2(o,i))}(r,n,e)):n.push(t),n}(e.expr,n.errors);return{type:$e.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:hu(e.options)}}visitSequence(e,n){return{type:$e.Sequence,steps:e.steps.map(r=>fs(this,r,n)),options:hu(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=fs(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:$e.Group,steps:s,options:hu(e.options)}}visitAnimate(e,n){const r=function Vte(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return bS(Cb(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bS(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=Cb(n,e);return bS(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:cu({});if(s.type==$e.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=cu(u)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:$e.Animate,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Aa?r.push(a):n.errors.push(new O(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:$e.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=n.collectedStyles.get(n.currentQuerySelector),h=u.get(l);let m=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(n.errors.push(function qee(t,e,n,r,i){return new O(3010,!1)}()),m=!1),s=h.startTime),m&&u.set(l,{startTime:s,endTime:i}),n.options&&function Tte(t,e,n){const r=e.params||{},i=R2(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Lee(t){return new O(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:$e.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Gee(){return new O(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const h=e.steps.map(x=>{const A=this._makeStyleAst(x,n);let N=null!=A.offset?A.offset:function Lte(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(A.styles),z=0;return null!=N&&(s++,z=A.offset=N),l=l||z<0||z>1,a=a||z<u,u=z,o.push(z),A});l&&n.errors.push(function Wee(){return new O(3012,!1)}()),a&&n.errors.push(function Kee(){return new O(3200,!1)}());const m=e.steps.length;let g=0;s>0&&s<m?n.errors.push(function Yee(){return new O(3202,!1)}()):0==s&&(g=1/(m-1));const y=m-1,b=n.currentTime,w=n.currentAnimateTimings,I=w.duration;return h.forEach((x,A)=>{const N=g>0?A==y?1:g*A:o[A],z=N*I;n.currentTime=b+w.delay+z,w.duration=z,this._validateStyleAst(x,n),x.offset=N,r.styles.push(x)}),r}visitReference(e,n){return{type:$e.Reference,animation:fs(this,xg(e.animation),n),options:hu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:$e.AnimateChild,options:hu(e.options)}}visitAnimateRef(e,n){return{type:$e.AnimateRef,animation:this.visitReference(e.animation,n),options:hu(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function kte(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Pte,"")),t=t.replace(/@\*/g,Tb).replace(/@\w+/g,n=>Tb+"-"+n.slice(1)).replace(/:animating/g,mS),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,hs(n.collectedStyles,n.currentQuerySelector,new Map);const a=fs(this,xg(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:$e.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:hu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Qee(){return new O(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cb(e.timings,n.errors,!0);return{type:$e.Stagger,animation:fs(this,xg(e.animation),n),timings:r,options:null}}}class Fte{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hu(t){return t?(t={...t}).params&&(t.params=function Ote(t){return t?{...t}:null}(t.params)):t={},t}function bS(t,e,n){return{duration:t,delay:e,easing:n}}function wS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class xb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const jte=new RegExp(":enter","g"),$te=new RegExp(":leave","g");function IS(t,e,n,r,i,s=new Map,o=new Map,a,l,u=[]){return(new zte).buildKeyframes(t,e,n,r,i,s,o,a,l,u)}class zte{buildKeyframes(e,n,r,i,s,o,a,l,u,h=[]){u=u||new xb;const m=new TS(e,n,u,i,s,h,[]);m.options=l;const g=l.delay?xa(l.delay):0;m.currentTimeline.delayNextStep(g),m.currentTimeline.setStyles([o],null,m.errors,l),fs(this,r,m);const y=m.timelines.filter(b=>b.containsAnimation());if(y.length&&a.size){let b;for(let w=y.length-1;w>=0;w--){const I=y[w];if(I.element===n){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,m.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[wS(n,[],[],[],0,g,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:xa(Rg(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?xa(r.duration):null,a=null!=r.delay?xa(r.delay):null;return 0!==o&&e.forEach(l=>{const u=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),fs(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==$e.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Rb);const o=xa(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>fs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?xa(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),fs(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Cb(n.params?Rg(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==$e.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?xa(i.delay):0;s&&(n.previousNode.type===$e.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Rb);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{n.currentQueryIndex=h;const m=n.createSubContext(e.options,u);s&&m.delayNextStep(s),u===n.element&&(l=m.currentTimeline),fs(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const h=n.currentTimeline;l&&h.delayNextStep(l);const m=h.currentTime;fs(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const Rb={};class TS{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Mb(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=xa(r.duration)),null!=r.delay&&(i.delay=xa(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Rg(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new TS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Rb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new qte(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(jte,"."+this._enterClassName)).replace($te,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function Xee(t){return new O(3014,!1)}()),a}}class Mb{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Mb(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Aa),this._currentKeyframe.set(n,Aa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function Gte(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)n.set(s,Aa)}else for(let[s,o]of i)n.set(s,o)}),n}(e,this._globalTimelineStyles);for(let[a,l]of o){const u=Rg(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Aa),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=new Map([...this._backFill,...a]);u.forEach((h,m)=>{"!"===h?e.add(m):h===Aa&&n.add(m)}),r||u.set("offset",l/this.duration),i.push(u)});const s=[...e.values()],o=[...n.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return wS(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class qte extends Mb{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const u=new Map(e[0]);u.set("offset",O2(a)),s.push(u);const h=e.length-1;for(let m=1;m<=h;m++){let g=new Map(e[m]);const y=g.get("offset");g.set("offset",O2((n+y*r)/o)),s.push(g)}r=o,n=0,i="",e=s}return wS(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function O2(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function F2(t,e,n,r,i,s,o,a,l,u,h,m,g){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:m,errors:g}}const CS={};class L2{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function Wte(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,u,h){const m=[],g=this.ast.options&&this.ast.options.params||CS,b=this.buildStyles(r,a&&a.params||CS,m),w=l&&l.params||CS,I=this.buildStyles(i,w,m),x=new Set,A=new Map,N=new Map,z="void"===i,se={params:V2(w,g),delay:this.ast.options?.delay},_e=h?[]:IS(e,n,this.ast.animation,s,o,b,I,se,u,m);let Je=0;return _e.forEach(Mt=>{Je=Math.max(Mt.duration+Mt.delay,Je)}),m.length?F2(n,this._triggerName,r,i,z,b,I,[],[],A,N,Je,m):(_e.forEach(Mt=>{const Fi=Mt.element,za=hs(A,Fi,new Set);Mt.preStyleProps.forEach(Wu=>za.add(Wu));const nq=hs(N,Fi,new Set);Mt.postStyleProps.forEach(Wu=>nq.add(Wu)),Fi!==n&&x.add(Fi)}),F2(n,this._triggerName,r,i,z,b,I,_e,[...x.values()],A,N,Je))}}function V2(t,e){const n={...e};return Object.entries(t).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class Kte{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=V2(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Rg(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class Qte{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Kte(i.style,i.options&&i.options.params||{},r))}),U2(this.states,"true","1"),U2(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new L2(e,i,this.states))}),this.fallbackTransition=function Xte(t,e,n){return new L2(t,{type:$e.Transition,animation:{type:$e.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function U2(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Zte=new xb;class Jte{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=ES(this._driver,n,r,[]);if(r.length)throw function ite(t){return new O(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=w2(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=IS(this._driver,n,s,pS,wb,new Map,new Map,r,Zte,i),o.forEach(h=>{const m=hs(a,h.element,new Map);h.postStyleProps.forEach(g=>m.set(g,null))})):(i.push(function ste(){return new O(3300,!1)}()),o=[]),i.length)throw function ote(t){return new O(3504,!1)}();a.forEach((h,m)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(m,y,Aa))})});const u=Vl(o.map(h=>{const m=a.get(h.element);return this._buildPlayer(h,new Map,m)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function ate(t){return new O(3301,!1)}();return n}listen(e,n,r,i){const s=cS(n,"","","");return aS(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const B2="ng-animate-queued",DS="ng-animate-disabled",ine=[],j2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},po="__ng_removed";class SS{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function cne(t){return t??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Mg="void",AS=new SS(Mg);class one{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Us(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function lte(t,e){return new O(3302,!1)}();if(null==r||0==r.length)throw function cte(t){return new O(3303,!1)}();if(!function une(t){return"start"==t||"done"==t}(r))throw function ute(t,e){return new O(3400,!1)}();const s=hs(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=hs(this._engine.statesByElement,e,new Map);return a.has(n)||(Us(e,Ib),Us(e,Ib+"-"+n),a.set(n,AS)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function dte(t){return new O(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new xS(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Us(e,Ib),Us(e,Ib+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const u=new SS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=AS),u.value!==Mg&&l.value===u.value){if(!function fne(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(l.params,u.params)){const w=[],I=s.matchStyles(l.value,l.params,w),x=s.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{du(e,I),Bo(e,x)})}return}const g=hs(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==n&&w.queued&&w.destroy()});let y=s.matchTransition(l.value,u.value,e,u.params),b=!1;if(!y){if(!i)return;y=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:y,fromState:l,toState:u,player:o,isFallbackTransition:b}),b||(Us(e,B2),o.onStart(()=>{Wh(e,B2)})),o.onDone(()=>{let w=this.players.indexOf(o);w>=0&&this.players.splice(w,1);const I=this._engine.playersByElement.get(e);if(I){let x=I.indexOf(o);x>=0&&I.splice(x,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Tb,!0);r.forEach(i=>{if(i[po])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const h=this.trigger(e,u,Mg,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Vl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||AS,h=new SS(Mg),m=new xS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[po];(!s||s===j2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Us(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=cS(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,aS(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class ane{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new one(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(Pb(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Pb(n))return;const s=n[po];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Us(e,DS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wh(e,DS))}removeNode(e,n,r){if(Pb(n)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[po]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Pb(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Tb,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,mS,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[po];if(n&&n.setForRemoval){if(e[po]=j2,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(DS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Us(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Vl(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function hte(t){return new O(3402,!1)}()}_flushAnimations(e,n){const r=new xb,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Ce=>{h.add(Ce);const Le=this.driver.query(Ce,".ng-animate-queued",!0);for(let je=0;je<Le.length;je++)h.add(Le[je])});const m=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=z2(g,this.collectedEnterElements),b=new Map;let w=0;y.forEach((Ce,Le)=>{const je=pS+w++;b.set(Le,je),Ce.forEach(Pt=>Us(Pt,je))});const I=[],x=new Set,A=new Set;for(let Ce=0;Ce<this.collectedLeaveElements.length;Ce++){const Le=this.collectedLeaveElements[Ce],je=Le[po];je&&je.setForRemoval&&(I.push(Le),x.add(Le),je.hasAnimation?this.driver.query(Le,".ng-star-inserted",!0).forEach(Pt=>x.add(Pt)):A.add(Le))}const N=new Map,z=z2(g,Array.from(x));z.forEach((Ce,Le)=>{const je=wb+w++;N.set(Le,je),Ce.forEach(Pt=>Us(Pt,je))}),e.push(()=>{y.forEach((Ce,Le)=>{const je=b.get(Le);Ce.forEach(Pt=>Wh(Pt,je))}),z.forEach((Ce,Le)=>{const je=N.get(Le);Ce.forEach(Pt=>Wh(Pt,je))}),I.forEach(Ce=>{this.processLeaveNode(Ce)})});const se=[],_e=[];for(let Ce=this._namespaceList.length-1;Ce>=0;Ce--)this._namespaceList[Ce].drainQueuedTransitions(n).forEach(je=>{const Pt=je.player,Fr=je.element;if(se.push(Pt),this.collectedEnterElements.length){const fi=Fr[po];if(fi&&fi.setForMove){if(fi.previousTriggersValues&&fi.previousTriggersValues.has(je.triggerName)){const Ku=fi.previousTriggersValues.get(je.triggerName),$s=this.statesByElement.get(je.element);if($s&&$s.has(je.triggerName)){const HI=$s.get(je.triggerName);HI.value=Ku,$s.set(je.triggerName,HI)}}return void Pt.destroy()}}const ra=!m||!this.driver.containsElement(m,Fr),ys=N.get(Fr),dc=b.get(Fr),Nn=this._buildInstruction(je,r,dc,ys,ra);if(Nn.errors&&Nn.errors.length)return void _e.push(Nn);if(ra)return Pt.onStart(()=>du(Fr,Nn.fromStyles)),Pt.onDestroy(()=>Bo(Fr,Nn.toStyles)),void i.push(Pt);if(je.isFallbackTransition)return Pt.onStart(()=>du(Fr,Nn.fromStyles)),Pt.onDestroy(()=>Bo(Fr,Nn.toStyles)),void i.push(Pt);const sq=[];Nn.timelines.forEach(fi=>{fi.stretchStartingKeyframe=!0,this.disabledNodes.has(fi.element)||sq.push(fi)}),Nn.timelines=sq,r.append(Fr,Nn.timelines),o.push({instruction:Nn,player:Pt,element:Fr}),Nn.queriedElements.forEach(fi=>hs(a,fi,[]).push(Pt)),Nn.preStyleProps.forEach((fi,Ku)=>{if(fi.size){let $s=l.get(Ku);$s||l.set(Ku,$s=new Set),fi.forEach((HI,jM)=>$s.add(jM))}}),Nn.postStyleProps.forEach((fi,Ku)=>{let $s=u.get(Ku);$s||u.set(Ku,$s=new Set),fi.forEach((HI,jM)=>$s.add(jM))})});if(_e.length){const Ce=[];_e.forEach(Le=>{Ce.push(function fte(t,e){return new O(3505,!1)}())}),se.forEach(Le=>Le.destroy()),this.reportError(Ce)}const Je=new Map,Mt=new Map;o.forEach(Ce=>{const Le=Ce.element;r.has(Le)&&(Mt.set(Le,Le),this._beforeAnimationBuild(Ce.player.namespaceId,Ce.instruction,Je))}),i.forEach(Ce=>{const Le=Ce.element;this._getPreviousPlayers(Le,!1,Ce.namespaceId,Ce.triggerName,null).forEach(Pt=>{hs(Je,Le,[]).push(Pt),Pt.destroy()})});const Fi=I.filter(Ce=>G2(Ce,l,u)),za=new Map;$2(za,this.driver,A,u,Aa).forEach(Ce=>{G2(Ce,l,u)&&Fi.push(Ce)});const Wu=new Map;y.forEach((Ce,Le)=>{$2(Wu,this.driver,new Set(Ce),l,"!")}),Fi.forEach(Ce=>{const Le=za.get(Ce),je=Wu.get(Ce);za.set(Ce,new Map([...Le?.entries()??[],...je?.entries()??[]]))});const BM=[],rq=[],iq={};o.forEach(Ce=>{const{element:Le,player:je,instruction:Pt}=Ce;if(r.has(Le)){if(h.has(Le))return je.onDestroy(()=>Bo(Le,Pt.toStyles)),je.disabled=!0,je.overrideTotalTime(Pt.totalTime),void i.push(je);let Fr=iq;if(Mt.size>1){let ys=Le;const dc=[];for(;ys=ys.parentNode;){const Nn=Mt.get(ys);if(Nn){Fr=Nn;break}dc.push(ys)}dc.forEach(Nn=>Mt.set(Nn,Fr))}const ra=this._buildAnimation(je.namespaceId,Pt,Je,s,Wu,za);if(je.setRealPlayer(ra),Fr===iq)BM.push(je);else{const ys=this.playersByElement.get(Fr);ys&&ys.length&&(je.parentPlayer=Vl(ys)),i.push(je)}}else du(Le,Pt.fromStyles),je.onDestroy(()=>Bo(Le,Pt.toStyles)),rq.push(je),h.has(Le)&&i.push(je)}),rq.forEach(Ce=>{const Le=s.get(Ce.element);if(Le&&Le.length){const je=Vl(Le);Ce.setRealPlayer(je)}}),i.forEach(Ce=>{Ce.parentPlayer?Ce.syncPlayerEvents(Ce.parentPlayer):Ce.destroy()});for(let Ce=0;Ce<I.length;Ce++){const Le=I[Ce],je=Le[po];if(Wh(Le,wb),je&&je.hasAnimation)continue;let Pt=[];if(a.size){let ra=a.get(Le);ra&&ra.length&&Pt.push(...ra);let ys=this.driver.query(Le,mS,!0);for(let dc=0;dc<ys.length;dc++){let Nn=a.get(ys[dc]);Nn&&Nn.length&&Pt.push(...Nn)}}const Fr=Pt.filter(ra=>!ra.destroyed);Fr.length?dne(this,Le,Fr):this.processLeaveNode(Le)}return I.length=0,BM.forEach(Ce=>{this.players.push(Ce),Ce.onDone(()=>{Ce.destroy();const Le=this.players.indexOf(Ce);this.players.splice(Le,1)}),Ce.play()}),BM}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Mg;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,h=u!==s,m=hs(r,u,[]);this._getPreviousPlayers(u,h,o,a,n.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),m.push(y)})}du(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,l=n.element,u=[],h=new Set,m=new Set,g=n.timelines.map(b=>{const w=b.element;h.add(w);const I=w[po];if(I&&I.removedBeforeQueried)return new Ag(b.duration,b.delay);const x=w!==l,A=function hne(t){const e=[];return q2(t,e),e}((r.get(w)||ine).map(Je=>Je.getRealPlayer())).filter(Je=>!!Je.element&&Je.element===w),N=s.get(w),z=o.get(w),se=w2(this._normalizer,b.keyframes,N,z),_e=this._buildPlayer(b,se,A);if(b.subTimeline&&i&&m.add(w),x){const Je=new xS(e,a,w);Je.setRealPlayer(_e),u.push(Je)}return _e});u.forEach(b=>{hs(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function lne(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Us(b,A2));const y=Vl(g);return y.onDestroy(()=>{h.forEach(b=>Wh(b,A2)),Bo(l,n.toStyles)}),m.forEach(b=>{hs(i,b,[]).push(y)}),y}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Ag(e.duration,e.delay)}}class xS{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Ag,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>aS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){hs(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Pb(t){return t&&1===t.nodeType}function H2(t,e){const n=t.style.display;return t.style.display=e??"none",n}function $2(t,e,n,r,i){const s=[];n.forEach(l=>s.push(H2(l)));const o=[];r.forEach((l,u)=>{const h=new Map;l.forEach(m=>{const g=e.computeStyle(u,m,i);h.set(m,g),(!g||0==g.length)&&(u[po]=sne,o.push(u))}),t.set(u,h)});let a=0;return n.forEach(l=>H2(l,s[a++])),o}function z2(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Us(t,e){t.classList?.add(e)}function Wh(t,e){t.classList?.remove(e)}function dne(t,e,n){Vl(n).onDone(()=>t.processLeaveNode(e))}function q2(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof E2?q2(r.players,e):e.push(r)}}function G2(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class Pg{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new ane(e.body,n,r,i),this._timelineEngine=new Jte(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],h=ES(this._driver,s,l,[]);if(l.length)throw function nte(t,e){return new O(3404,!1)}();a=function Yte(t,e,n){return new Qte(t,e,n)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=I2(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=I2(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Ng{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Ng.initialStylesByElement.get(e);i||Ng.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bo(this._element,this._initialStyles),this._endStyles&&(Bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ng.initialStylesByElement.delete(this._element),this._startStyles&&(du(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(du(this._element,this._endStyles),this._endStyles=null),Bo(this._element,this._initialStyles),this._state=3)}}function RS(t){let e=null;return t.forEach((n,r)=>{(function mne(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class W2{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:vS(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class K2{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return C2(e,n)}getParentElement(e){return uS(e)}query(e,n,r){return D2(e,n,r)}computeStyle(e,n,r){return vS(e,n)}animate(e,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,h=o.filter(y=>y instanceof W2);(function Dte(t,e){return 0===t||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((b,w)=>u.set(w,b))});let m=function Ite(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}(n).map(y=>new Map(y));m=function Ste(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,vS(t,a)))}}return e}(e,m,u);const g=function pne(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=RS(e[0]),e.length>1&&(r=RS(e[e.length-1]))):e instanceof Map&&(n=RS(e)),n||r?new Ng(t,n,r):null}(e,m);return new W2(e,m,l,g)}}const Y2="@.disabled";class Q2{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==Y2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class gne extends Q2{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Y2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function _ne(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function yne(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class vne{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){const i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){const u=this._rendererCache;let h=u.get(i);return h||(h=new Q2("",i,this.engine,()=>u.delete(i)),u.set(i,h)),h}const s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new gne(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Ene=(()=>{class t extends Pg{constructor(n,r,i){super(n,r,i,ie(dC,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn),L(hS),L(fS))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac})}return t})();const X2=[{provide:fS,useFactory:function bne(){return new M2}},{provide:Pg,useClass:Ene},{provide:IC,useFactory:function wne(t,e,n){return new vne(t,e,n)},deps:[bD,Pg,Ve]}],MS=[{provide:hS,useFactory:()=>new K2},{provide:Kd,useValue:"BrowserAnimations"},...X2],Z2=[{provide:hS,useClass:dS},{provide:Kd,useValue:"NoopAnimations"},...X2];let Ine=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?Z2:MS}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({providers:MS,imports:[QL]})}return t})();const Tne=new ee("cdk-dir-doc",{providedIn:"root",factory:function Cne(){return ie(sn)}}),Dne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let PS,kb=(()=>{class t{constructor(n){this.value="ltr",this.change=new bt,n&&(this.value=function Sne(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Dne.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(L(Tne,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kg=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({})}return t})();try{PS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{PS=!1}let Og,fu,Ra=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?kL(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!PS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(L(Rs))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ob(t){return function Ane(){if(null==Og&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Og=!0}))}finally{Og=Og||!1}return Og}()?t:!!t.capture}function xne(){if(null==fu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fu=!1,fu;if("scrollBehavior"in document.documentElement.style)fu=!0;else{const t=Element.prototype.scrollTo;fu=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return fu}function kS(t){return t.composedPath?t.composedPath()[0]:t.target}function OS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Yh(...t){const e=fg(t),n=function qX(t,e){return"number"==typeof CD(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Si(r[0]):Ph(n)(Kt(r,e)):Oo}const FS={now:()=>(FS.delegate||Date).now(),delegate:void 0};class Mne extends D{constructor(e=1/0,n=1/0,r=FS){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function LS(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Tr({next:()=>{r.unsubscribe(),t()}});return Si(e(...n)).subscribe(r)}function VS(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,function Pne(t={}){const{connector:e=(()=>new D),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,h=!1,m=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),o=l=void 0,h=m=!1},b=()=>{const w=o;y(),w?.unsubscribe()};return ve((w,I)=>{u++,!m&&!h&&g();const x=l=l??e();I.add(()=>{u--,0===u&&!m&&!h&&(a=LS(b,i))}),x.subscribe(I),!o&&u>0&&(o=new Tr({next:A=>x.next(A),error:A=>{m=!0,g(),a=LS(y,n,A),x.error(A)},complete:()=>{h=!0,g(),a=LS(y,r),x.complete()}}),Si(w).subscribe(o))})(s)}}({connector:()=>new Mne(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}class Nne{constructor(e){this._box=e,this._destroyed=new D,this._resizeSubject=new D,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ot(n=>{const r=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(xr(n=>n.some(r=>r.target===e)),VS({bufferSize:1,refCount:!0}),us(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let kne=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=ie(Ve)}ngOnDestroy(){for(const[,n]of this._observers)n.destroy();this._observers.clear()}observe(n,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new Nne(i)),this._observers.get(i).observe(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lb(t){return Array.isArray(t)?t:[t]}function ar(t){return null==t?"":"string"==typeof t?t:`${t}px`}function US(t){return t instanceof In?t.nativeElement:t}let Lne=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vne=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({providers:[Lne]})}return t})();function Lg(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Jne extends gt{constructor(e,n){super()}schedule(e,n=0){return this}}const Vb={setInterval(t,e,...n){const{delegate:r}=Vb;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Vb;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Ub extends Jne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Vb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Vb.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,er(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}class Vg{constructor(e,n=Vg.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Vg.now=FS.now;class Bb extends Vg{constructor(e,n=Vg.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Ug=new Bb(Ub),ere=Ug;function zS(t,e=Ug){return ve((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+t,h=e.now();if(h<u)return i=this.schedule(void 0,u-h),void r.add(i);a()}n.subscribe(Ie(r,u=>{s=u,o=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}const rU=new Set;let pu,nre=(()=>{class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ire}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function rre(t,e){if(!rU.has(t))try{pu||(pu=document.createElement("style"),e&&(pu.nonce=e),pu.setAttribute("type","text/css"),document.head.appendChild(pu)),pu.sheet&&(pu.sheet.insertRule(`@media ${t} {body{ }}`,0),rU.add(t))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||t)(L(Ra),L($T,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ire(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let sre=(()=>{class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new D}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return iU(Lb(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let s=tb(iU(Lb(n)).map(o=>this._registerQuery(o).observable));return s=rb(s.pipe(ho(1)),s.pipe(function tre(t){return xr((e,n)=>t<=n)}(1),zS(0))),s.pipe(fe(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Ot(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(au(r),fe(({matches:o})=>({query:n,matches:o})),us(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static#e=this.\u0275fac=function(r){return new(r||t)(L(nre),L(Ve))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iU(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function oU(t,e,n){const r=aU(t,e);n=n.trim();const i=r.filter(s=>s!==n);i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}function aU(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}class lU{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new D,this._typeaheadSubscription=gt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new D,this.change=new D,e instanceof ng&&(this._itemChangesSubscription=e.changes.subscribe(n=>{if(this._activeItem){const i=n.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Rr(n=>this._pressedLetters.push(n)),zS(e),xr(()=>this._pressedLetters.length>0),fe(()=>this._pressedLetters.join(""))).subscribe(n=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){const n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){const n=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((i||Lg(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const n=this._getItemsArray(),r="number"==typeof e?e:n.indexOf(e);this._activeItem=n[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const n=this._getItemsArray();for(let r=1;r<=n.length;r++){const i=(this._activeItemIndex+e*r+n.length)%n.length;if(!this._skipPredicateFn(n[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=n])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof ng?this._items.toArray():this._items}}class cre extends lU{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}const yre=new ee("liveAnnouncerElement",{providedIn:"root",factory:function vre(){return null}}),Ere=new ee("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let bre=0,wre=(()=>{class t{constructor(n,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=n||this._createLiveElement()}announce(n,...r){const i=this._defaultOptions;let s,o;return 1===r.length&&"number"==typeof r[0]?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==o&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(n),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+bre++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(n){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const s=r[i],o=s.getAttribute("aria-owns");o?-1===o.indexOf(n)&&s.setAttribute("aria-owns",o+" "+n):s.setAttribute("aria-owns",n)}}static#e=this.\u0275fac=function(r){return new(r||t)(L(yre,8),L(Ve),L(sn),L(Ere,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mu=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(mu||{});const uU="cdk-high-contrast-black-on-white",dU="cdk-high-contrast-white-on-black",qS="cdk-high-contrast-active";let Tre=(()=>{class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=ie(sre).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return mu.NONE;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return mu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return mu.BLACK_ON_WHITE}return mu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(qS,uU,dU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===mu.BLACK_ON_WHITE?n.add(qS,uU):r===mu.WHITE_ON_BLACK&&n.add(qS,dU)}}static#e=this.\u0275fac=function(r){return new(r||t)(L(Ra),L(sn))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Cre=["text"];function Dre(t,e){if(1&t&&ft(0,"mat-pseudo-checkbox",6),2&t){const n=cn();Tt("disabled",n.disabled)("state",n.selected?"checked":"unchecked")}}function Sre(t,e){1&t&&ft(0,"mat-pseudo-checkbox",7),2&t&&Tt("disabled",cn().disabled)}function Are(t,e){if(1&t&&(re(0,"span",8),Ke(1),le()),2&t){const n=cn();Xe(),Th("(",n.group.label,")")}}const xre=[[["mat-icon"]],"*"],Rre=["mat-icon","*"],Pre=new ee("mat-sanity-checks",{providedIn:"root",factory:function Mre(){return!0}});let Ul=(()=>{class t{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!OS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(r){return new(r||t)(L(Tre),L(Pre,8),L(sn))};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[kg,kg]})}return t})();class pU{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){const e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}}let Vre=(()=>{class t{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Bs=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Bs||{});class Ure{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=Bs.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const mU=Ob({passive:!0,capture:!0});class Bre{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=kS(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){const s=this._events.get(n);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,mU)})}removeHandler(e,n,r){const i=this._events.get(e);if(!i)return;const s=i.get(n);s&&(s.delete(r),0===s.size&&i.delete(n),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,mU)))}}const gU={enterDuration:225,exitDuration:150},_U=Ob({passive:!0,capture:!0}),yU=["mousedown","touchstart"],vU=["mouseup","mouseleave","touchend","touchcancel"];class jb{static#e=this._eventManager=new Bre;constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=US(r))}fadeInRipple(e,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...gU,...r.animation};r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);const o=r.radius||function Hre(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(e,n,i),a=e-i.left,l=n-i.top,u=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-o+"px",h.style.top=l-o+"px",h.style.height=2*o+"px",h.style.width=2*o+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);const m=window.getComputedStyle(h),y=m.transitionDuration,b="none"===m.transitionProperty||"0s"===y||"0s, 0s"===y||0===i.width&&0===i.height,w=new Ure(this,h,r,b);h.style.transform="scale3d(1, 1, 1)",w.state=Bs.FADING_IN,r.persistent||(this._mostRecentTransientRipple=w);let I=null;return!b&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const x=()=>this._finishRippleTransition(w),A=()=>this._destroyRipple(w);h.addEventListener("transitionend",x),h.addEventListener("transitioncancel",A),I={onTransitionEnd:x,onTransitionCancel:A}}),this._activeRipples.set(w,I),(b||!u)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(e.state===Bs.FADING_OUT||e.state===Bs.HIDDEN)return;const n=e.element,r={...gU,...e.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=Bs.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=US(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,yU.forEach(r=>{jb._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{vU.forEach(n=>{this._triggerElement.addEventListener(n,this,_U)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Bs.FADING_IN?this._startFadeOutTransition(e):e.state===Bs.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Bs.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Bs.HIDDEN,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=function gre(t){return 0===t.buttons||0===t.detail}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function _re(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Bs.VISIBLE||e.config.terminateOnPointerUp&&e.state===Bs.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(yU.forEach(n=>jb._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&vU.forEach(n=>e.removeEventListener(n,this,_U)))}}const $re=new ee("mat-ripple-global-options");let zre=(()=>{class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,i,s,o){this._elementRef=n,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new jb(this,r,n,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static#e=this.\u0275fac=function(r){return new(r||t)(B(In),B(Ve),B(Ra),B($re,8),B(Kd,8))};static#t=this.\u0275dir=Me({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&qi("mat-ripple-unbounded",i.unbounded)},inputs:{color:[ge.None,"matRippleColor","color"],unbounded:[ge.None,"matRippleUnbounded","unbounded"],centered:[ge.None,"matRippleCentered","centered"],radius:[ge.None,"matRippleRadius","radius"],animation:[ge.None,"matRippleAnimation","animation"],disabled:[ge.None,"matRippleDisabled","disabled"],trigger:[ge.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return t})(),qre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[Ul,Ul]})}return t})(),Gre=(()=>{class t{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(r){return new(r||t)(B(Kd,8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){2&r&&qi("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[iu],decls:0,vars:0,template:function(r,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return t})(),Wre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[Ul]})}return t})();const EU=new ee("MAT_OPTION_PARENT_COMPONENT"),bU=new ee("MatOptgroup");let Kre=0;class Yre{constructor(e,n=!1){this.source=e,this.isUserInput=n}}let wU=(()=>{class t{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=n}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(n,r,i,s){this._element=n,this._changeDetectorRef=r,this._parent=i,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Kre++,this.onSelectionChange=new bt,this._stateChanges=new D}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(13===n.keyCode||32===n.keyCode)&&!Lg(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new Yre(this,n))}static#e=this.\u0275fac=function(r){return new(r||t)(B(In),B(Al),B(EU,8),B(bU,8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-option"]],viewQuery:function(r,i){if(1&r&&Os(Cre,7),2&r){let s;Rn(s=Mn())&&(i._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){1&r&&Wt("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&r&&(yE("id",i.id),si("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),qi("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[ge.HasDecoratorInputTransform,"disabled","disabled",br]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Om,iu],ngContentSelectors:Rre,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled"],["class","cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(r,i){1&r&&(tg(xre),Lt(0,Dre,1,2,"mat-pseudo-checkbox",0),Ti(1),re(2,"span",1,2),Ti(4,1),le(),Lt(5,Sre,1,1,"mat-pseudo-checkbox",3)(6,Are,2,1,"span",4),ft(7,"div",5)),2&r&&(vr(0,i.multiple?0:-1),Xe(5),vr(5,i.multiple||!i.selected||i.hideSingleSelectionIndicator?-1:5),Xe(),vr(6,i.group&&i.group._inert?6:-1),Xe(),Tt("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Gre,zre],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return t})(),IU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[qre,Ul,Wre]})}return t})();const Zre=["notch"],Jre=["matFormFieldNotchedOutline",""],eie=["*"],tie=["textField"],nie=["iconPrefixContainer"],rie=["textPrefixContainer"];function iie(t,e){1&t&&ft(0,"span",16)}function sie(t,e){if(1&t&&(re(0,"label",14),Ti(1,1),Lt(2,iie,1,0,"span",15),le()),2&t){const n=cn(2);Tt("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),si("for",n._control.id),Xe(2),vr(2,!n.hideRequiredMarker&&n._control.required?2:-1)}}function oie(t,e){1&t&&Lt(0,sie,3,5,"label",14),2&t&&vr(0,cn()._hasFloatingLabel()?0:-1)}function aie(t,e){1&t&&ft(0,"div",17)}function lie(t,e){}function cie(t,e){1&t&&Lt(0,lie,0,0,"ng-template",9),2&t&&(cn(2),Tt("ngTemplateOutlet",TE(1)))}function uie(t,e){if(1&t&&(re(0,"div",5),Lt(1,cie,1,1,null,9),le()),2&t){const n=cn();Tt("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),Xe(),vr(1,n._forceDisplayInfixLabel()?-1:1)}}function die(t,e){1&t&&(re(0,"div",18,19),Ti(2,2),le())}function hie(t,e){1&t&&(re(0,"div",20,21),Ti(2,3),le())}function fie(t,e){}function pie(t,e){1&t&&Lt(0,fie,0,0,"ng-template",9),2&t&&(cn(),Tt("ngTemplateOutlet",TE(1)))}function mie(t,e){1&t&&(re(0,"div",22),Ti(1,4),le())}function gie(t,e){1&t&&(re(0,"div",23),Ti(1,5),le())}function _ie(t,e){1&t&&ft(0,"div",12)}function yie(t,e){1&t&&(re(0,"div",24),Ti(1,6),le()),2&t&&Tt("@transitionMessages",cn()._subscriptAnimationState)}function vie(t,e){if(1&t&&(re(0,"mat-hint",26),Ke(1),le()),2&t){const n=cn(2);Tt("id",n._hintLabelId),Xe(),ru(n.hintLabel)}}function Eie(t,e){if(1&t&&(re(0,"div",25),Lt(1,vie,2,2,"mat-hint",26),Ti(2,7),ft(3,"div",27),Ti(4,8),le()),2&t){const n=cn();Tt("@transitionMessages",n._subscriptAnimationState),Xe(),vr(1,n.hintLabel?1:-1)}}const bie=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wie=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let GS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Me({type:t,selectors:[["mat-label"]],standalone:!0})}return t})();const Iie=new ee("MatError");let Tie=0,TU=(()=>{class t{constructor(){this.align="start",this.id="mat-mdc-hint-"+Tie++}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Me({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(yE("id",i.id),si("align",null),qi("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},standalone:!0})}return t})();const Cie=new ee("MatPrefix"),Die=new ee("MatSuffix"),CU=new ee("FloatingLabelParent");let DU=(()=>{class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=ie(kne),this._ngZone=ie(Ve),this._parent=ie(CU),this._resizeSubscription=new gt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Sie(t){if(null!==t.offsetParent)return t.scrollWidth;const n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);const r=n.scrollWidth;return n.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||t)(B(In))};static#t=this.\u0275dir=Me({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&qi("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return t})();const SU="mdc-line-ripple--active",Hb="mdc-line-ripple--deactivating";let AU=(()=>{class t{constructor(n,r){this._elementRef=n,this._handleTransitionEnd=i=>{const s=this._elementRef.nativeElement.classList,o=s.contains(Hb);"opacity"===i.propertyName&&o&&s.remove(SU,Hb)},r.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const n=this._elementRef.nativeElement.classList;n.remove(Hb),n.add(SU)}deactivate(){this._elementRef.nativeElement.classList.add(Hb)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||t)(B(In),B(Ve))};static#t=this.\u0275dir=Me({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return t})(),xU=(()=>{class t{constructor(n,r){this._elementRef=n,this._ngZone=r,this.open=!1}ngAfterViewInit(){const n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){this._notch.nativeElement.style.width=this.open&&n?`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||t)(B(In),B(Ve))};static#t=this.\u0275cmp=pr({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&Os(Zre,5),2&r){let s;Rn(s=Mn())&&(i._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&qi("mdc-notched-outline--notched",i.open)},inputs:{open:[ge.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[iu],attrs:Jre,ngContentSelectors:eie,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(tg(),ft(0,"div",0),re(1,"div",1,2),Ti(3),le(),ft(4,"div",3))},encapsulation:2,changeDetection:0})}return t})();const Aie={transitionMessages:iS("transitionMessages",[v2("enter",cu({opacity:1,transform:"translateY(0%)"})),bb("void => enter",[cu({opacity:0,transform:"translateY(-5px)"}),sS("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let RU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Me({type:t})}return t})();const MU=new ee("MatFormField"),xie=new ee("MAT_FORM_FIELD_DEFAULT_OPTIONS");let PU=0,Pie=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=function One(t){return null!=t&&"false"!=`${t}`}(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){const r=this._appearance;this._appearance=n||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,r,i,s,o,a,l,u){this._elementRef=n,this._changeDetectorRef=r,this._ngZone=i,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+PU++,this._hintLabelId="mat-mdc-hint-"+PU++,this._subscriptAnimationState="",this._destroyed=new D,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(us(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Yh(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(us(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(us(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){const r=this._control?this._control.ngControl:null;return r&&r[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?n.push(r.id):this._hintLabel&&n.push(this._hintLabelId),i&&n.push(i.id)}else this._errorChildren&&n.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const n=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(n.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,o=i?.getBoundingClientRect().width??0;n.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const n=this._elementRef.nativeElement;if(n.getRootNode){const r=n.getRootNode();return r&&r!==n}return document.documentElement.contains(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(In),B(Al),B(Ve),B(kb),B(Ra),B(xie,8),B(Kd,8),B(sn))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,i,s){if(1&r&&(ks(s,GS,5),ks(s,GS,7),ks(s,RU,5),ks(s,Cie,5),ks(s,Die,5),ks(s,Iie,5),ks(s,TU,5)),2&r){let o;Rn(o=Mn())&&(i._labelChildNonStatic=o.first),Rn(o=Mn())&&(i._labelChildStatic=o.first),Rn(o=Mn())&&(i._formFieldControl=o.first),Rn(o=Mn())&&(i._prefixChildren=o),Rn(o=Mn())&&(i._suffixChildren=o),Rn(o=Mn())&&(i._errorChildren=o),Rn(o=Mn())&&(i._hintChildren=o)}},viewQuery:function(r,i){if(1&r&&(Os(tie,5),Os(nie,5),Os(rie,5),Os(DU,5),Os(xU,5),Os(AU,5)),2&r){let s;Rn(s=Mn())&&(i._textField=s.first),Rn(s=Mn())&&(i._iconPrefixContainer=s.first),Rn(s=Mn())&&(i._textPrefixContainer=s.first),Rn(s=Mn())&&(i._floatingLabel=s.first),Rn(s=Mn())&&(i._notchedOutline=s.first),Rn(s=Mn())&&(i._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&qi("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[un([{provide:MU,useExisting:t},{provide:CU,useExisting:t}]),iu],ngContentSelectors:wie,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r&&(tg(bie),Lt(0,oie,1,1,"ng-template",null,0,sF),re(2,"div",1,2),Wt("click",function(o){return i._control.onContainerClick(o)}),Lt(4,aie,1,0,"div",3),re(5,"div",4),Lt(6,uie,2,2,"div",5)(7,die,3,0,"div",6)(8,hie,3,0,"div",7),re(9,"div",8),Lt(10,pie,1,1,null,9),Ti(11),le(),Lt(12,mie,2,0,"div",10)(13,gie,2,0,"div",11),le(),Lt(14,_ie,1,0,"div",12),le(),re(15,"div",13),Lt(16,yie,2,1)(17,Eie,5,2),le()),2&r){let s;Xe(2),qi("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),Xe(2),vr(4,i._hasOutline()||i._control.disabled?-1:4),Xe(2),vr(6,i._hasOutline()?6:-1),Xe(),vr(7,i._hasIconPrefix?7:-1),Xe(),vr(8,i._hasTextPrefix?8:-1),Xe(2),vr(10,!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),Xe(2),vr(12,i._hasTextSuffix?12:-1),Xe(),vr(13,i._hasIconSuffix?13:-1),Xe(),vr(14,i._hasOutline()?-1:14),Xe(),qi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),Xe(),vr(16,"error"===(s=i._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[DU,xU,ML,AU,TU],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Aie.transitionMessages]},changeDetection:0})}return t})(),OU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[Ul,fD,Vne,Ul]})}return t})();const Nie=["addListener","removeListener"],kie=["addEventListener","removeEventListener"],Oie=["on","off"];function WS(t,e,n,r){if(xe(n)&&(r=n,n=void 0),r)return WS(t,e,n).pipe(DD(r));const[i,s]=function Vie(t){return xe(t.addEventListener)&&xe(t.removeEventListener)}(t)?kie.map(o=>a=>t[o](e,a,n)):function Fie(t){return xe(t.addListener)&&xe(t.removeListener)}(t)?Nie.map(FU(t,e)):function Lie(t){return xe(t.on)&&xe(t.off)}(t)?Oie.map(FU(t,e)):[];if(!i&&TD(t))return zr(o=>WS(o,e,n))(Si(t));if(!i)throw new TypeError("Invalid event target");return new Ot(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function FU(t,e){return n=>r=>t[n](e,r)}const jg={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=jg;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=e(s=>{n=void 0,t(s)});return new gt(()=>n?.(i))},requestAnimationFrame(...t){const{delegate:e}=jg;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=jg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class Bie extends Bb{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}}(class Uie extends Ub{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=jg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);const{actions:s}=e;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(jg.cancelAnimationFrame(n),e._scheduled=void 0)}});let KS,Hie=1;const $b={};function LU(t){return t in $b&&(delete $b[t],!0)}const $ie={setImmediate(t){const e=Hie++;return $b[e]=!0,KS||(KS=Promise.resolve()),KS.then(()=>LU(e)&&t()),e},clearImmediate(t){LU(t)}},{setImmediate:zie,clearImmediate:qie}=$ie,zb={setImmediate(...t){const{delegate:e}=zb;return(e?.setImmediate||zie)(...t)},clearImmediate(t){const{delegate:e}=zb;return(e?.clearImmediate||qie)(t)},delegate:void 0};new class Wie extends Bb{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}}(class Gie extends Ub{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=zb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);const{actions:s}=e;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(zb.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});function VU(t,e=Ug){return function Yie(t){return ve((e,n)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const u=i;i=null,n.next(u)}o&&n.complete()},l=()=>{s=null,o&&n.complete()};e.subscribe(Ie(n,u=>{r=!0,i=u,s||Si(t(u)).subscribe(s=Ie(n,a,l))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}(()=>function Xie(t=0,e,n=ere){let r=-1;return null!=e&&(dV(e)?n=e:r=e),new Ot(i=>{let s=function Qie(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e))}let Jie=(()=>{class t{constructor(n,r,i){this._ngZone=n,this._platform=r,this._scrolled=new D,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new Ot(r=>{this._globalSubscription||this._addGlobalListener();const i=n>0?this._scrolled.pipe(VU(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ne()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(xr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let i=US(r),s=n.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>WS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||t)(L(Ve),L(Ra),L(sn,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YS=(()=>{class t{constructor(n,r,i){this._platform=n,this._change=new D,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(n.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,s=i.getBoundingClientRect();return{top:-s.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(VU(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||t)(L(Ra),L(Ve),L(sn,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({})}return t})(),UU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[kg,QS,kg,QS]})}return t})();class XS{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nse extends XS{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class BU extends XS{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class rse extends XS{constructor(e){super(),this.element=e instanceof In?e.nativeElement:e}}class ise{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nse?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof BU?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof rse?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sse extends ise{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||ri.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);-1!==i&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ose=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({})}return t})();const jU=xne();class ase{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ar(-this._previousScrollPosition.left),e.style.top=ar(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),jU&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jU&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}}class lse{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(xr(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HU{enable(){}disable(){}attach(){}}function ZS(t,e){return e.some(n=>t.bottom<n.top||t.top>n.bottom||t.right<n.left||t.left>n.right)}function $U(t,e){return e.some(n=>t.top<n.top||t.bottom>n.bottom||t.left<n.left||t.right>n.right)}class cse{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ZS(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let use=(()=>{class t{constructor(n,r,i,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new HU,this.close=o=>new lse(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new ase(this._viewportRuler,this._document),this.reposition=o=>new cse(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(r){return new(r||t)(L(Jie),L(YS),L(Ve),L(sn))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class zU{constructor(e){if(this.scrollStrategy=new HU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const n=Object.keys(e);for(const r of n)void 0!==e[r]&&(this[r]=e[r])}}}class dse{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}}let qU=(()=>{class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hse=(()=>{class t extends qU{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn),L(Ve,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fse=(()=>{class t extends qU{constructor(n,r,i){super(n),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=kS(s)},this._clickListener=s=>{const o=kS(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){const h=l[u];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(o)||h.overlayElement.contains(a))break;const m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(n){if(super.add(n),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn),L(Ra),L(Ve,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GU=(()=>{class t{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||OS()){const i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(n),OS()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||t)(L(sn),L(Ra))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class pse{constructor(e,n,r,i,s,o,a,l,u,h=!1){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new D,this._attachments=new D,this._detachments=new D,this._locationChanges=gt.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new D,this._outsidePointerEvents=new D,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ho(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ar(this._config.width),e.height=ar(this._config.height),e.minWidth=ar(this._config.minWidth),e.minHeight=ar(this._config.minHeight),e.maxWidth=ar(this._config.maxWidth),e.maxHeight=ar(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){const i=Lb(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(us(Yh(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const WU="cdk-overlay-connected-position-bounding-box",mse=/([A-Za-z%]+)$/;class gse{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new D,this._resizeSubscription=gt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(WU),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(l,n,a),h=this._getOverlayFit(u,n,r,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,u,r)?s.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:u,originPoint:l,position:a,overlayRect:n})}if(s.length){let a=null,l=-1;for(const u of s){const h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>l&&(l=h,a=u)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return n.left<0&&(i-=n.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i,s;return i="center"==r.overlayX?-n.width/2:"start"===r.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,s="center"==r.overlayY?-n.height/2:"top"==r.overlayY?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){const s=YU(n);let{x:o,y:a}=e,l=this._getOffset(i,"x"),u=this._getOffset(i,"y");l&&(o+=l),u&&(a+=u);let g=0-a,y=a+s.height-r.height,b=this._subtractOverflows(s.width,0-o,o+s.width-r.width),w=this._subtractOverflows(s.height,g,y),I=b*w;return{visibleArea:I,isCompletelyWithinViewport:s.width*s.height===I,fitsInViewportVertically:w===s.height,fitsInViewportHorizontally:b==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){const i=r.bottom-n.y,s=r.right-n.x,o=KU(this._overlayRef.getConfig().minHeight),a=KU(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=YU(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),u=Math.max(s.left-r.left-e.x,0);let h=0,m=0;return h=i.width<=s.width?u||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,m=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:h,y:m},{x:e.x+h,y:e.y+m}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new dse(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){const r=this._viewportRect,i=this._isRtl();let s,o,a,h,m,g;if("top"===n.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===n.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const y=Math.min(r.bottom-e.y+r.top,e.y),b=this._lastBoundingBoxSize.height;s=2*y,o=e.y-y,s>b&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-b/2)}if("end"===n.overlayX&&!i||"start"===n.overlayX&&i)g=r.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===n.overlayX&&!i||"end"===n.overlayX&&i)m=e.x,h=r.right-e.x;else{const y=Math.min(r.right-e.x+r.left,e.x),b=this._lastBoundingBoxSize.width;h=2*y,m=e.x-y,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(m=e.x-b/2)}return{top:o,left:m,bottom:a,right:g,width:h,height:s}}_setBoundingBoxStyles(e,n){const r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=ar(r.height),i.top=ar(r.top),i.bottom=ar(r.bottom),i.width=ar(r.width),i.left=ar(r.left),i.right=ar(r.right),i.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",i.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=ar(s)),o&&(i.maxWidth=ar(o))}this._lastBoundingBoxSize=r,gu(this._boundingBox.style,i)}_resetBoundingBoxStyles(){gu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const h=this._viewportRuler.getViewportScrollPosition();gu(r,this._getExactOverlayY(n,e,h)),gu(r,this._getExactOverlayX(n,e,h))}else r.position="static";let a="",l=this._getOffset(n,"x"),u=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=ar(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=ar(o.maxWidth):s&&(r.maxWidth="")),gu(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=ar(s.y),i}_getExactOverlayX(e,n,r){let o,i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ar(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$U(e,r),isOriginOutsideView:ZS(e,r),isOverlayClipped:$U(n,r),isOverlayOutsideView:ZS(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return"x"===n?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Lb(e).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof In)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}}function gu(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function KU(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(mse);return n&&"px"!==n?null:parseFloat(e)}return t||null}function YU(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const QU="cdk-global-overlay-wrapper";class _se{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(QU),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,m=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",b="",w="";l?w="flex-start":"center"===h?(w="center",g?b=m:y=m):g?"left"===h||"end"===h?(w="flex-end",y=m):("right"===h||"start"===h)&&(w="flex-start",b=m):"left"===h||"start"===h?(w="flex-start",y=m):("right"===h||"end"===h)&&(w="flex-end",b=m),e.position=this._cssPosition,e.marginLeft=l?"0":y,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":b,n.justifyContent=w,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(QU),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let yse=(()=>{class t{constructor(n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new _se}flexibleConnectedTo(n){return new gse(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||t)(L(YS),L(sn),L(Ra),L(GU))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vse=0,Qh=(()=>{class t{constructor(n,r,i,s,o,a,l,u,h,m,g,y){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=u,this._directionality=h,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(n){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new zU(n);return o.direction=o.direction||this._directionality.value,new pse(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const r=this._document.createElement("div");return r.id="cdk-overlay-"+vse++,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Pl)),new sse(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(L(use),L(GU),L(Am),L(yse),L(hse),L(ri),L(Ve),L(sn),L(kb),L(Ah),L(fse),L(Kd,8))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ese=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],XU=new ee("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=ie(Qh);return()=>t.scrollStrategies.reposition()}});let JS=(()=>{class t{constructor(n){this.elementRef=n}static#e=this.\u0275fac=function(r){return new(r||t)(B(In))};static#t=this.\u0275dir=Me({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return t})(),ZU=(()=>{class t{get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}constructor(n,r,i,s,o){this._overlay=n,this._dir=o,this._backdropSubscription=gt.EMPTY,this._attachSubscription=gt.EMPTY,this._detachSubscription=gt.EMPTY,this._positionSubscription=gt.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new bt,this.positionChange=new bt,this.attach=new bt,this.detach=new bt,this.overlayKeydown=new bt,this.overlayOutsideClick=new bt,this._templatePortal=new BU(r,i),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ese);const n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Lg(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const n=this._position=this.positionStrategy||this._createPositionStrategy(),r=new zU({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(n){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return n.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const n=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(n),n}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof JS?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function tse(t,e=!1){return ve((n,r)=>{let i=0;n.subscribe(Ie(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(n=>{this.positionChange.emit(n),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(B(Qh),B(No),B(Ms),B(XU),B(kb,8))};static#t=this.\u0275dir=Me({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[ge.None,"cdkConnectedOverlayOrigin","origin"],positions:[ge.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[ge.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[ge.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[ge.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[ge.None,"cdkConnectedOverlayWidth","width"],height:[ge.None,"cdkConnectedOverlayHeight","height"],minWidth:[ge.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[ge.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[ge.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[ge.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[ge.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[ge.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[ge.None,"cdkConnectedOverlayOpen","open"],disableClose:[ge.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[ge.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",br],lockPosition:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",br],flexibleDimensions:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",br],growAfterOpen:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",br],push:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",br],disposeOnNavigation:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",br]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Om,Ar]})}return t})();const wse={provide:XU,deps:[Qh],useFactory:function bse(t){return()=>t.scrollStrategies.reposition()}};let Ise=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({providers:[Qh,wse],imports:[kg,ose,UU,UU]})}return t})();class Cse{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,n,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new D,n&&n.length&&(e?n.forEach(s=>this._markSelected(s)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);const n=this.selected,r=new Set(e);e.forEach(s=>this._markSelected(s)),n.filter(s=>!r.has(this._getConcreteValue(s,r))).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let r of n)if(this.compareWith(e,r))return r;return e}return e}}let JU=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ea),B(In))};static#t=this.\u0275dir=Me({type:t})}return t})(),_u=(()=>{class t extends JU{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})();static#t=this.\u0275dir=Me({type:t,features:[Gt]})}return t})();const jo=new ee(""),Sse={provide:jo,useExisting:Xt(()=>eA),multi:!0};let eA=(()=>{class t extends _u{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})();static#t=this.\u0275dir=Me({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Wt("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[un([Sse]),Gt]})}return t})();const Ase={provide:jo,useExisting:Xt(()=>Xh),multi:!0},Rse=new ee("");let Xh=(()=>{class t extends JU{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xse(){const t=kl()?kl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ea),B(In),B(Rse,8))};static#t=this.\u0275dir=Me({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Wt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[un([Ase]),Gt]})}return t})();function jl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function eB(t){return null!=t&&"number"==typeof t.length}const oi=new ee(""),Hl=new ee(""),Mse=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qr{static min(e){return function tB(t){return e=>{if(jl(e.value)||jl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function nB(t){return e=>{if(jl(e.value)||jl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function rB(t){return jl(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function iB(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function sB(t){return jl(t.value)||Mse.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function oB(t){return e=>jl(e.value)||!eB(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function aB(t){return e=>eB(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function lB(t){if(!t)return qb;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(jl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return pB(e)}static composeAsync(e){return mB(e)}}function qb(t){return null}function cB(t){return null!=t}function uB(t){return eg(t)?Kt(t):t}function dB(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function hB(t,e){return e.map(n=>n(t))}function fB(t){return t.map(e=>function Pse(t){return!t.validate}(e)?e:n=>e.validate(n))}function pB(t){if(!t)return null;const e=t.filter(cB);return 0==e.length?null:function(n){return dB(hB(n,e))}}function tA(t){return null!=t?pB(fB(t)):null}function mB(t){if(!t)return null;const e=t.filter(cB);return 0==e.length?null:function(n){return function Dse(...t){const e=hV(t),{args:n,keys:r}=fV(t),i=new Ot(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let h=0;h<o;h++){let m=!1;Si(n[h]).subscribe(Ie(s,g=>{m||(m=!0,u--),a[h]=g},()=>l--,void 0,()=>{(!l||!m)&&(u||s.next(r?pV(r,a):a),s.complete())}))}});return e?i.pipe(DD(e)):i}(hB(n,e).map(uB)).pipe(fe(dB))}}function nA(t){return null!=t?mB(fB(t)):null}function gB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _B(t){return t._rawValidators}function yB(t){return t._rawAsyncValidators}function rA(t){return t?Array.isArray(t)?t:[t]:[]}function Gb(t,e){return Array.isArray(t)?t.includes(e):t===e}function vB(t,e){const n=rA(e);return rA(t).forEach(i=>{Gb(n,i)||n.push(i)}),n}function EB(t,e){return rA(e).filter(n=>!Gb(t,n))}class bB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ai extends bB{get formDirective(){return null}get path(){return null}}class Ma extends bB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wb=(()=>{class t extends wB{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ma,2))};static#t=this.\u0275dir=Me({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&qi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Gt]})}return t})(),Kb=(()=>{class t extends wB{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ai,10))};static#t=this.\u0275dir=Me({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&qi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Gt]})}return t})();const Hg="VALID",Qb="INVALID",Zh="PENDING",$g="DISABLED";function oA(t){return(Xb(t)?t.validators:t)||null}function aA(t,e){return(Xb(e)?e.asyncValidators:t)||null}function Xb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function TB(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new O(1e3,"");if(!r[n])throw new O(1001,"")}function CB(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new O(1002,"")})}class Zb{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hg}get invalid(){return this.status===Qb}get pending(){return this.status==Zh}get disabled(){return this.status===$g}get enabled(){return this.status!==$g}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(EB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(EB(e,this._rawAsyncValidators))}hasValidator(e){return Gb(this._rawValidators,e)}hasAsyncValidator(e){return Gb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$g,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Hg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hg||this.status===Zh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$g:Hg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zh,this._hasOwnPendingAsyncValidator=!0;const n=uB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?$g:this.errors?Qb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zh)?Zh:this._anyControlsHaveStatus(Qb)?Qb:Hg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Fse(t){return Array.isArray(t)?tA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Lse(t){return Array.isArray(t)?nA(t):t||null}(this._rawAsyncValidators)}}class zg extends Zb{constructor(e,n,r){super(oA(n),aA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){CB(this,0,e),Object.keys(e).forEach(r=>{TB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class DB extends zg{}const Jh=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>Jb}),Jb="always";function qg(t,e,n=Jb){lA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Use(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&SB(t,e)})}(t,e),function jse(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Bse(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&SB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Vse(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function tw(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rw(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function nw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lA(t,e){const n=_B(t);null!==e.validator?t.setValidators(gB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=yB(t);null!==e.asyncValidator?t.setAsyncValidators(gB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();nw(e._rawValidators,i),nw(e._rawAsyncValidators,i)}function rw(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=_B(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=yB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return nw(e._rawValidators,r),nw(e._rawAsyncValidators,r),n}function SB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function AB(t,e){lA(t,e)}function xB(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Gse={provide:Ai,useExisting:Xt(()=>iw)},Gg=Promise.resolve();let iw=(()=>{class t extends Ai{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new bt,this.form=new zg({},tA(n),nA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Gg.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),qg(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Gg.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Gg.then(()=>{const r=this._findContainer(n.path),i=new zg({});AB(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Gg.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Gg.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,xB(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(B(oi,10),B(Hl,10),B(Jh,8))};static#t=this.\u0275dir=Me({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Wt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[ge.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[un([Gse]),Gt]})}return t})();function RB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function MB(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Wg=class extends Zb{constructor(e=null,n,r){super(oA(n),aA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xb(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=MB(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){MB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};Promise.resolve();let sw=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Me({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Qse={provide:jo,useExisting:Xt(()=>ow),multi:!0};let ow=(()=>{class t extends _u{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=rr(t)))(i||t)}})();static#t=this.\u0275dir=Me({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Wt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[un([Qse]),Gt]})}return t})();const hA=new ee(""),toe={provide:Ai,useExisting:Xt(()=>yu)};let yu=(()=>{class t extends Ai{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new bt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return qg(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){tw(n.control||null,n,!1),function qse(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,xB(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(tw(r||null,n),(t=>t instanceof Wg)(i)&&(qg(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);AB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Hse(t,e){return rw(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lA(this.form,this),this._oldForm&&rw(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(B(oi,10),B(Hl,10),B(Jh,8))};static#t=this.\u0275dir=Me({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Wt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[ge.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[un([toe]),Gt,Ar]})}return t})();const ioe={provide:Ma,useExisting:Xt(()=>Kg)};let Kg=(()=>{class t extends Ma{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new bt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function dA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Xh?n=s:function zse(t){return Object.getPrototypeOf(t.constructor)===_u}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function uA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function ew(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(B(Ai,13),B(oi,10),B(Hl,10),B(jo,10),B(hA,8))};static#n=this.\u0275dir=Me({type:t,selectors:[["","formControlName",""]],inputs:{name:[ge.None,"formControlName","name"],isDisabled:[ge.None,"disabled","isDisabled"],model:[ge.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[un([ioe]),Gt,Ar]})}return t})(),voe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({})}return t})();class XB extends Zb{constructor(e,n,r){super(oA(n),aA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){CB(this,0,e),e.forEach((r,i)=>{TB(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ZB(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let yA=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return ZB(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new zg(i,s)}record(n,r=null){const i=this._reduceControls(n);return new DB(i,r)}control(n,r,i){let s={};return this.useNonNullable?(ZB(r)?s=r:(s.validators=r,s.asyncValidators=i),new Wg(n,{...s,nonNullable:!0})):new Wg(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new XB(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Wg||n instanceof Zb?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Eoe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Jh,useValue:n.callSetDisabledState??Jb}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[voe]})}return t})();function JB(t,e=Cr){return t=t??boe,ve((n,r)=>{let i,s=!0;n.subscribe(Ie(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function boe(t,e){return t===e}const woe=["trigger"],Ioe=["panel"];function Toe(t,e){if(1&t&&(re(0,"span",9),Ke(1),le()),2&t){const n=cn();Xe(),ru(n.placeholder)}}function Coe(t,e){1&t&&Ti(0)}function Doe(t,e){if(1&t&&(re(0,"span",11),Ke(1),le()),2&t){const n=cn(2);Xe(),ru(n.triggerValue)}}function Soe(t,e){if(1&t&&(re(0,"span",10),Lt(1,Coe,1,0)(2,Doe,2,1),le()),2&t){const n=cn();Xe(),vr(1,n.customTrigger?1:2)}}function Aoe(t,e){if(1&t){const n=Km();ul(),function Hp(){!function $p(){Be.lFrame.currentNamespace=null}()}(),re(0,"div",12,13),Wt("@transformPanel.done",function(i){return Ss(n),Co(cn()._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){return Ss(n),Co(cn()._handleKeydown(i))}),Ti(2,1),le()}if(2&t){const n=cn();DO("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),Tt("ngClass",n.panelClass)("@transformPanel","showing"),si("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}const xoe=[[["mat-select-trigger"]],"*"],Roe=["mat-select-trigger","*"],Moe={transformPanelWrap:iS("transformPanelWrap",[bb("* => void",Ree("@transformPanel",[xee()],{optional:!0}))]),transformPanel:iS("transformPanel",[v2("void",cu({opacity:0,transform:"scale(1, 0.8)"})),bb("void => showing",sS("120ms cubic-bezier(0, 0, 0.2, 1)",cu({opacity:1,transform:"scale(1, 1)"}))),bb("* => void",sS("100ms linear",cu({opacity:0})))])};let ej=0;const tj=new ee("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const t=ie(Qh);return()=>t.scrollStrategies.reposition()}}),Noe=new ee("MAT_SELECT_CONFIG"),koe={provide:tj,deps:[Qh],useFactory:function Poe(t){return()=>t.scrollStrategies.reposition()}},Ooe=new ee("MatSelectTrigger");class Foe{constructor(e,n){this.source=e,this.value=n}}let Loe=(()=>{class t{_scrollOptionIntoView(n){const r=this.options.toArray()[n];if(r){const i=this.panel.nativeElement,s=function Qre(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let o=0;o<t+1;o++)r[o].group&&r[o].group===i[s]&&s++;return s}return 0}(n,this.options,this.optionGroups),o=r._getHostElement();i.scrollTop=0===n&&1===s?0:function Xre(t,e,n,r){return t<n?t:t+e>n+r?Math.max(0,t-r+e):n}(o.offsetTop,o.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new Foe(this,n)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(qr.required)??!1}set required(n){this._required=n,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._multiple=n}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,i,s,o,a,l,u,h,m,g,y,b,w){this._viewportRuler=n,this._changeDetectorRef=r,this._ngZone=i,this._elementRef=o,this._dir=a,this._parentFormField=h,this.ngControl=m,this._liveAnnouncer=b,this._defaultOptions=w,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(I,x)=>I===x,this._uid="mat-select-"+ej++,this._triggerAriaLabelledBy=null,this._destroy=new D,this.stateChanges=new D,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ej++,this._panelDoneAnimatingStream=new D,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this.optionSelectionChanges=SD(()=>{const I=this.options;return I?I.changes.pipe(au(I),Un(()=>Yh(...I.map(x=>x.onSelectionChange)))):this._ngZone.onStable.pipe(ho(1),Un(()=>this.optionSelectionChanges))}),this.openedChange=new bt,this._openedStream=this.openedChange.pipe(xr(I=>I),fe(()=>{})),this._closedStream=this.openedChange.pipe(xr(I=>!I),fe(()=>{})),this.selectionChange=new bt,this.valueChange=new bt,this._trackedModal=null,this._skipPredicate=I=>!this.panelOpen&&I.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=w?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=w.typeaheadDebounceInterval),this._errorStateTracker=new pU(s,m,u,l,this.stateChanges),this._scrollStrategyFactory=y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Cse(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(JB(),us(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(us(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(us(this._destroy)).subscribe(n=>{n.added.forEach(r=>r.select()),n.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(au(null),us(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const n=this._getTriggerAriaLabelledby(),r=this.ngControl;if(n!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?i.setAttribute("aria-labelledby",n):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;const r=`${this.id}-panel`;this._trackedModal&&oU(this._trackedModal,"aria-owns",r),function ore(t,e,n){const r=aU(t,e);n=n.trim(),!r.some(i=>i.trim()===n)&&(r.push(n),t.setAttribute(e,r.join(" ")))}(n,"aria-owns",r),this._trackedModal=n}_clearFromModal(){this._trackedModal&&(oU(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const n=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){const r=n.keyCode,i=40===r||38===r||37===r||39===r,s=13===r||32===r,o=this._keyManager;if(!o.isTyping()&&s&&!Lg(n)||(this.multiple||n.altKey)&&i)n.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(n);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(n){const r=this._keyManager,i=n.keyCode,s=40===i||38===i,o=r.isTyping();if(s&&n.altKey)n.preventDefault(),this.close();else if(o||13!==i&&32!==i||!r.activeItem||Lg(n))if(!o&&this._multiple&&65===i&&n.ctrlKey){n.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=r.activeItemIndex;r.onKeydown(n),this._multiple&&s&&n.shiftKey&&r.activeItem&&r.activeItemIndex!==a&&r.activeItem._selectViaInteraction()}else n.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(ho(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(n);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,n)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(n){return!!(n!==this._value||this._multiple&&Array.isArray(n))&&(this.options&&this._setSelectionByValue(n),this._value=n,!0)}_getOverlayWidth(n){return"auto"===this.panelWidth?(n instanceof JS?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new cre(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const n=Yh(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(us(n)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Yh(...this.options.map(r=>r._stateChanges)).pipe(us(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,r){const i=this._selectionModel.isSelected(n);null!=n.value||this._multiple?(i!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),r&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),r&&this.focus())):(n.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(n.value)),i!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const n=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,n):n.indexOf(r)-n.indexOf(i)),this.stateChanges.next()}}_propagateChanges(n){let r;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:n,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){n=r;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();let r=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(r){return new(r||t)(B(YS),B(Al),B(Ve),B(Vre),B(In),B(kb,8),B(iw,8),B(yu,8),B(MU,8),B(Ma,10),function jc(t){return function DT(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(ud(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(jt(),t)}("tabindex"),B(tj),B(wre),B(Noe,8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-select"]],contentQueries:function(r,i,s){if(1&r&&(ks(s,Ooe,5),ks(s,wU,5),ks(s,bU,5)),2&r){let o;Rn(o=Mn())&&(i.customTrigger=o.first),Rn(o=Mn())&&(i.options=o),Rn(o=Mn())&&(i.optionGroups=o)}},viewQuery:function(r,i){if(1&r&&(Os(woe,5),Os(Ioe,5),Os(ZU,5)),2&r){let s;Rn(s=Mn())&&(i.trigger=s.first),Rn(s=Mn())&&(i.panel=s.first),Rn(s=Mn())&&(i._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){1&r&&Wt("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&r&&(si("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),qi("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[ge.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[ge.HasDecoratorInputTransform,"disabled","disabled",br],disableRipple:[ge.HasDecoratorInputTransform,"disableRipple","disableRipple",br],tabIndex:[ge.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>null==n?0:dL(n)],hideSingleSelectionIndicator:[ge.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",br],placeholder:"placeholder",required:[ge.HasDecoratorInputTransform,"required","required",br],multiple:[ge.HasDecoratorInputTransform,"multiple","multiple",br],disableOptionCentering:[ge.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",br],compareWith:"compareWith",value:"value",ariaLabel:[ge.None,"aria-label","ariaLabel"],ariaLabelledby:[ge.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[ge.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",dL],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[un([{provide:RU,useExisting:t},{provide:EU,useExisting:t}]),Om,Ar,iu],ngContentSelectors:Roe,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(r,i){if(1&r&&(tg(xoe),re(0,"div",0,1),Wt("click",function(){return i.open()}),re(3,"div",2),Lt(4,Toe,2,1,"span",3)(5,Soe,3,1),le(),re(6,"div",4)(7,"div",5),ul(),re(8,"svg",6),ft(9,"path",7),le()()()(),Lt(10,Aoe,3,9,"ng-template",8),Wt("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&r){const s=TE(1);Xe(3),si("id",i._valueId),Xe(),vr(4,i.empty?4:5),Xe(6),Tt("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[JS,ZU,DL],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Moe.transformPanel]},changeDetection:0})}return t})(),Voe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({providers:[koe],imports:[fD,Ise,IU,Ul,QS,OU,IU,Ul]})}return t})();var Ho=Qe(360);(0,Ho.registerVersion)("firebase","10.6.0","app");const $oe=new class Hoe extends Bb{}(class joe extends Ub{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),aw=new Ml("ANGULARFIRE2_VERSION");class vA{constructor(){return((t,e)=>{const n=(0,Ho.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(qoe)}}const qoe="app-check";function ef(){}class nj{zone;delegate;constructor(e,n=$oe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Goe{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ef,{},ef,ef)),n.pipe(Rr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let EA=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nj(Zone.current)),this.insideAngular=n.run(()=>new nj(Zone.current,Ug)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Ve))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tf(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function rj(t){return t.pipe(Ol(tf().outsideAngular))}function xi(t){return function Koe(t){return function(n){return(n=n.lift(new Goe(t.ngZone))).pipe(Mh(t.outsideAngular),Ol(t.insideAngular))}}(tf())(t)}var $o=Qe(368);$o.c.registerVersion("firebase","10.6.0","app-compat");const Zoe=["ngOnDestroy"];class ij{constructor(e){return e}}const Yg=new ee("angularfire2.app.options"),Qg=new ee("angularfire2.app.name");function lw(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=$o.c.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>$o.c.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){const a=!!module.hot;tae("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ij(o)}const tae=(t,...e)=>{},nae={provide:ij,useFactory:lw,deps:[Yg,Ve,[new ya,Qg]]};let rae=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Yg,useValue:n},{provide:Qg,useValue:r}]}}constructor(n){$o.c.registerVersion("angularfire",aw.full,"core"),$o.c.registerVersion("angularfire",aw.full,"app-compat"),$o.c.registerVersion("angular",H7.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(Rs))};static \u0275mod=Zt({type:t});static \u0275inj=zt({providers:[nae]})}return t})();function bA(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return function iae(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,o)||(sj("error",`${e} was already initialized on the ${n} Firebase App with different settings.${sae?" You may need to reload as Firebase is not HMR aware.":""}`),sj("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const sae=typeof module<"u"&&!!module.hot,sj=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];var _t=Qe(144),cw=Qe(920);const oj="firebasestorage.googleapis.com",aj="storageBucket";class Pn extends _t.kx{constructor(e,n,r=0){super(wA(e),`Firebase Storage: ${n} (${wA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Tn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Tn||{});function wA(t){return"storage/"+t}function IA(){return new Pn(Tn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lj(){return new Pn(Tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cj(){return new Pn(Tn.CANCELED,"User canceled the upload/download.")}function uj(){return new Pn(Tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nf(t){return new Pn(Tn.INVALID_ARGUMENT,t)}function dj(){return new Pn(Tn.APP_DELETED,"The Firebase app was deleted.")}function hj(t){return new Pn(Tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xg(t,e){return new Pn(Tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zg(t){throw new Pn(Tn.INTERNAL_ERROR,"Internal error: "+t)}class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(""===r.path)return r;throw function mae(t){return new Pn(Tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(z){z.path_=decodeURIComponent(z.path)}const m=n.replace(/[.]/g,"\\."),N=[{regex:a,indices:{bucket:1,path:3},postModify:function s(z){"/"===z.path.charAt(z.path.length-1)&&(z.path_=z.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${m}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===oj?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let z=0;z<N.length;z++){const se=N[z],_e=se.regex.exec(e);if(_e){let Mt=_e[se.indices.path];Mt||(Mt=""),r=new ai(_e[se.indices.bucket],Mt),se.postModify(r);break}}if(null==r)throw function pae(t){return new Pn(Tn.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Eae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function uw(t){return"string"==typeof t||t instanceof String}function fj(t){return TA()&&t instanceof Blob}function TA(){return typeof Blob<"u"&&!(0,_t.yW)()}function CA(t,e,n,r){if(r<e)throw nf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nf(`Invalid value for '${t}'. Expected ${n} or less.`)}function Pa(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pj(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var rf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(rf||{});function mj(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}class Dae{constructor(e,n,r,i,s,o,a,l,u,h,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Iae(t){return void 0!==t}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=IA();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?dj():cj():lj())};this.canceled_?n(0,new dw(!1,null,!0)):this.backoffId_=function bae(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function h(...I){u||(u=!0,e.apply(null,I))}function m(I){i=setTimeout(()=>{i=null,t(y,l())},I)}function g(){s&&clearTimeout(s)}function y(I,...x){if(u)return void g();if(I)return g(),void h.call(null,I,...x);if(l()||o)return g(),void h.call(null,I,...x);let N;r<64&&(r*=2),1===a?(a=2,N=0):N=1e3*(r+Math.random()),m(N)}let b=!1;function w(I){b||(b=!0,g(),!u&&(null!==i?(I||(a=2),clearTimeout(i),m(0)):I||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}((r,i)=>{if(i)return void r(!1,new dw(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===rf.NO_ERROR,l=s.getStatus();if(!a||mj(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===rf.ABORT;return void r(!1,new dw(!1,null,h))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new dw(u,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function wae(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class dw{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Nae(...t){const e=function Pae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(TA())return new Blob(t);throw new Pn(Tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ps={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class DA{constructor(e,n){this.data=e,this.contentType=n||null}}function SA(t,e){switch(t){case ps.RAW:return new DA(gj(e));case ps.BASE64:case ps.BASE64URL:return new DA(_j(t,e));case ps.DATA_URL:return new DA(function Lae(t){const e=new yj(t);return e.base64?_j(ps.BASE64,e.rest):function Fae(t){let e;try{e=decodeURIComponent(t)}catch{throw Xg(ps.DATA_URL,"Malformed data URL.")}return gj(e)}(e.rest)}(e),function Vae(t){return new yj(t).contentType}(e))}throw IA()}function gj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _j(t,e){switch(t){case ps.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Xg(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ps.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Xg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Oae(t){if(typeof atob>"u")throw function vae(t){return new Pn(Tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:Xg(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Xg(ps.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Uae(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class zo{constructor(e,n){let r=0,i="";fj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(fj(this.data_)){const i=function kae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new zo(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new zo(r,!0)}}static getBlob(...e){if(TA()){const n=e.map(r=>r instanceof zo?r.data_:r);return new zo(Nae.apply(null,n))}{const n=e.map(o=>uw(o)?SA(ps.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new zo(i,!0)}}uploadData(){return this.data_}}function AA(t){let e;try{e=JSON.parse(t)}catch{return null}return function Cae(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function vj(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Hae(t,e){return e}class Ri{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Hae}}let hw=null;function Jg(){if(hw)return hw;const t=[];t.push(new Ri("bucket")),t.push(new Ri("generation")),t.push(new Ri("metageneration")),t.push(new Ri("name","fullPath",!0));const n=new Ri("name");n.xform=function e(s,o){return function $ae(t){return!uw(t)||t.length<2?t:vj(t)}(o)},t.push(n);const i=new Ri("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new Ri("timeCreated")),t.push(new Ri("updated")),t.push(new Ri("md5Hash",null,!0)),t.push(new Ri("cacheControl",null,!0)),t.push(new Ri("contentDisposition",null,!0)),t.push(new Ri("contentEncoding",null,!0)),t.push(new Ri("contentLanguage",null,!0)),t.push(new Ri("contentType",null,!0)),t.push(new Ri("metadata","customMetadata",!0)),hw=t,hw}function Ej(t,e,n){const r=AA(e);return null===r?null:function qae(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function zae(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new ai(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}function xA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}const bj="prefixes",wj="items";class qo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Go(t){if(!t)throw IA()}function fw(t,e){return function n(r,i){const s=Ej(t,i,e);return Go(null!==s),s}}function sf(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function hae(){return new Pn(Tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function dae(){return new Pn(Tn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function uae(t){return new Pn(Tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function fae(t){return new Pn(Tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function e_(t){const e=sf(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function cae(t){return new Pn(Tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}function Ij(t,e,n){const i=Pa(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new qo(i,"GET",fw(t,n),o);return a.errorHandler=e_(e),a}function Xae(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=Pa(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,h=new qo(a,"GET",function Yae(t,e){return function n(r,i){const s=function Kae(t,e,n){const r=AA(n);return null===r?null:function Wae(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[bj])for(const i of n[bj]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new ai(e,s));r.prefixes.push(o)}if(n[wj])for(const i of n[wj]){const s=t._makeStorageReference(new ai(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return Go(null!==s),s}}(t,e.bucket),u);return h.urlParams=s,h.errorHandler=sf(e),h}function Cj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function tle(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class pw{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function RA(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Go(!1)}return Go(!!n&&-1!==(e||["active"]).indexOf(n)),n}const sle={STATE_CHANGED:"state_changed"},Mi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function MA(t){switch(t){case"running":case"pausing":case"canceling":return Mi.RUNNING;case"paused":return Mi.PAUSED;case"success":return Mi.SUCCESS;case"canceled":return Mi.CANCELED;default:return Mi.ERROR}}class ole{constructor(e,n,r){if(function Tae(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function af(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let Aj=null;class ale{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Zg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class lle extends ale{initXhr(){this.xhr_.responseType="text"}}function mo(){return Aj?Aj():new lle}class xj{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Jg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Tn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(mj(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=lj()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Tn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function nle(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Cj(e,r,i),a={name:o.fullPath},l=Pa(s,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},m=xA(o,n),b=new qo(l,"POST",function y(w){let I;RA(w);try{I=w.getResponseHeader("X-Goog-Upload-URL")}catch{Go(!1)}return Go(uw(I)),I},t.maxUploadRetryTime);return b.urlParams=a,b.headers=h,b.body=m,b.errorHandler=sf(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,mo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function rle(t,e,n,r){const l=new qo(n,"POST",function s(u){const h=RA(u,["active","final"]);let m=null;try{m=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Go(!1)}m||Go(!1);const g=Number(m);return Go(!isNaN(g)),new pw(g,r.size(),"final"===h)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=sf(e),l}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,mo,n,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new pw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function ile(t,e,n,r,i,s,o,a){const l=new pw(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function _ae(){return new Pn(Tn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const m=l.current;let y="";y=0===h?"finalize":u===h?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(m,m+h);if(null===w)throw uj();const N=new qo(n,"POST",function I(z,se){const _e=RA(z,["active","final"]),Je=l.current+h,Mt=r.size();let Fi;return Fi="final"===_e?fw(e,s)(z,se):null,new pw(Je,Mt,"final"===_e,Fi)},e.maxUploadRetryTime);return N.headers=b,N.body=w.uploadData(),N.progressCallback=a||null,N.errorHandler=sf(t),N}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(o,mo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Ij(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,mo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function Dj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let N="";for(let z=0;z<2;z++)N+=Math.random().toString().slice(2);return N}();o["Content-Type"]="multipart/related; boundary="+l;const u=Cj(e,r,i),h=xA(u,n),y=zo.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===y)throw uj();const b={name:u.fullPath},w=Pa(s,t.host,t._protocol),x=t.maxUploadRetryTime,A=new qo(w,"POST",fw(t,n),x);return A.urlParams=b,A.headers=o,A.body=y.uploadData(),A.errorHandler=sf(e),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,mo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=cj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=MA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new ole(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(MA(this._state)){case Mi.SUCCESS:af(this._resolve.bind(null,this.snapshot))();break;case Mi.CANCELED:case Mi.ERROR:af(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(MA(this._state)){case Mi.RUNNING:case Mi.PAUSED:e.next&&af(e.next.bind(e,this.snapshot))();break;case Mi.SUCCESS:e.complete&&af(e.complete.bind(e))();break;default:e.error&&af(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class bu{constructor(e,n){this._service=e,this._location=n instanceof ai?n:ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bu(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vj(this._location.path)}get storage(){return this._service}get parent(){const e=function Bae(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new ai(this._location.bucket,e);return new bu(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw hj(e)}}function Mj(t,e,n){return PA.apply(this,arguments)}function PA(){return(PA=(0,E.c)(function*(t,e,n){const i=yield Pj(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Mj(t,e,i.nextPageToken))})).apply(this,arguments)}function Pj(t,e){null!=e&&"number"==typeof e.maxResults&&CA("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Xae(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,mo)}function Ele(t){t._throwIfRoot("getDownloadURL");const e=function Zae(t,e,n){const i=Pa(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new qo(i,"GET",function Qae(t,e){return function n(r,i){const s=Ej(t,i,e);return Go(null!==s),function Gae(t,e,n,r){const i=AA(e);if(null===i||!uw(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const m=t.fullPath;return Pa("/b/"+o(t.bucket)+"/o/"+o(m),n,r)+pj({alt:"media",token:u})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=e_(e),a}(t.storage,t._location,Jg());return t.storage.makeRequestWithTokens(e,mo).then(n=>{if(null===n)throw function yae(){return new Pn(Tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function Nj(t,e){const n=function jae(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ai(t._location.bucket,n);return new bu(t.storage,r)}function kj(t,e){if(t instanceof NA){const n=t;if(null==n._bucket)throw function gae(){return new Pn(Tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aj+"' property when initializing the app?")}();const r=new bu(n,n._bucket);return null!=e?kj(r,e):r}return void 0!==e?Nj(t,e):t}function Tle(t,e){if(e&&function wle(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof NA)return function Ile(t,e){return new bu(t,e)}(t,e);throw nf("To use ref(service, url), the first argument must be a Storage instance.")}return kj(t,e)}function Oj(t,e){const n=e?.[aj];return null==n?null:ai.makeFromBucketSpec(n,t)}class NA{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=oj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ai.makeFromBucketSpec(i,this._host):Oj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ai.makeFromBucketSpec(this._url,e):Oj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,E.c)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,E.c)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Eae(dj());{const o=function Mae(t,e,n,r,i,s,o=!0){const a=pj(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function xae(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function Sae(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function Aae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function Rae(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Dae(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return(0,E.c)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const Fj="@firebase/storage";function Uj(t,e){return Tle(t=(0,_t.Yj)(t),e)}function kle(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new NA(n,r,i,e,Ho.SDK_VERSION)}!function Ole(){(0,Ho._registerComponent)(new cw.Yl("storage",kle,"PUBLIC").setMultipleInstances(!0)),(0,Ho.registerVersion)(Fj,"0.11.2",""),(0,Ho.registerVersion)(Fj,"0.11.2","esm2017")}();class mw{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jj{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mw(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new mw(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(s="function"==typeof n?o=>n(new mw(o,this,this._ref)):{next:n.next?o=>n.next(new mw(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class Hj{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Na(e,this._service))}get items(){return this._delegate.items.map(e=>new Na(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Na{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Nle(t,e){return Nj(t,e)}(this._delegate,e);return new Na(n,this.storage)}get root(){return new Na(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Na(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new jj(function Dle(t,e,n){return function mle(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new xj(t,new zo(e),n)}(t=(0,_t.Yj)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=ps.RAW,r){this._throwIfRoot("putString");const i=SA(n,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new jj(new xj(this._delegate,new zo(i.data,!0),s),this)}listAll(){return function Rle(t){return function _le(t){const e={prefixes:[],items:[]};return Mj(t,e).then(()=>e)}(t=(0,_t.Yj)(t))}(this._delegate).then(e=>new Hj(e,this.storage))}list(e){return function xle(t,e){return Pj(t=(0,_t.Yj)(t),e)}(this._delegate,e||void 0).then(n=>new Hj(n,this.storage))}getMetadata(){return function Sle(t){return function yle(t){t._throwIfRoot("getMetadata");const e=Ij(t.storage,t._location,Jg());return t.storage.makeRequestWithTokens(e,mo)}(t=(0,_t.Yj)(t))}(this._delegate)}updateMetadata(e){return function Ale(t,e){return function vle(t,e){t._throwIfRoot("updateMetadata");const n=function Jae(t,e,n,r){const s=Pa(e.fullServerUrl(),t.host,t._protocol),a=xA(n,r),u=t.maxOperationRetryTime,h=new qo(s,"PATCH",fw(t,r),u);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=e_(e),h}(t.storage,t._location,e,Jg());return t.storage.makeRequestWithTokens(n,mo)}(t=(0,_t.Yj)(t),e)}(this._delegate,e)}getDownloadURL(){return function Mle(t){return Ele(t=(0,_t.Yj)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ple(t){return function ble(t){t._throwIfRoot("deleteObject");const e=function ele(t,e){const r=Pa(e.fullServerUrl(),t.host,t._protocol),a=new qo(r,"DELETE",function o(l,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=e_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,mo)}(t=(0,_t.Yj)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw hj(e)}}class $j{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(zj(e))throw nf("ref() expected a child path but got a URL, use refFromURL instead.");return new Na(Uj(this._delegate,e),this)}refFromURL(e){if(!zj(e))throw nf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ai.makeFromUrl(e,this._delegate.host)}catch{throw nf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Na(Uj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function Bj(t,e,n,r={}){!function Cle(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,_t.YD)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function zj(t){return/^[A-Za-z]+:\/\//.test(t)}function Ule(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new $j(n,r)}function qj(t){const e=function jle(t){return new Ot(e=>{const n=o=>e.next(o);n(t.snapshot);const s=t.on("state_changed",n);return t.then(o=>{n(o),e.complete()},o=>{n(t.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(zS(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(fe(n=>n.bytesTransferred/n.totalBytes*100))}}function gw(t){return{getDownloadURL:()=>Ne(void 0).pipe(rj,Un(()=>t.getDownloadURL()),xi),getMetadata:()=>Ne(void 0).pipe(rj,Un(()=>t.getMetadata()),xi),delete:()=>Kt(t.delete()),child:e=>gw(t.child(e)),updateMetadata:e=>Kt(t.updateMetadata(e)),put:(e,n)=>qj(t.put(e,n)),putString:(e,n,r)=>qj(t.putString(e,n,r)),list:e=>Kt(t.list(e)),listAll:()=>Kt(t.listAll())}}!function Ble(t){const e={TaskState:Mi,TaskEvent:sle,StringFormat:ps,Storage:$j,Reference:Na};t.INTERNAL.registerComponent(new cw.Yl("storage-compat",Ule,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}($o.c);const Hle=new ee("angularfire2.storageBucket"),$le=new ee("angularfire2.storage.maxUploadRetryTime"),zle=new ee("angularfire2.storage.maxOperationRetryTime"),qle=new ee("angularfire2.storage.use-emulator");let Gle=(()=>{class t{storage;constructor(n,r,i,s,o,a,l,u,h,m){const g=lw(n,o,r);this.storage=bA(`${g.name}.storage.${i}`,"AngularFireStorage",g.name,()=>{const y=o.runOutsideAngular(()=>g.storage(i||void 0)),b=h;return b&&y.useEmulator(...b),l&&y.setMaxUploadRetryTime(l),u&&y.setMaxOperationRetryTime(u),y},[l,u])}ref(n){return gw(this.storage.ref(n))}refFromURL(n){return gw(this.storage.refFromURL(n))}upload(n,r,i){return gw(this.storage.ref(n)).put(r,i)}static \u0275fac=function(r){return new(r||t)(L(Yg),L(Qg,8),L(Hle,8),L(Rs),L(Ve),L(EA),L($le,8),L(zle,8),L(qle,8),L(vA,8))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Wle=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zt({type:t});static \u0275inj=zt({})}return t})(),Kle=(()=>{class t{constructor(){$o.c.registerVersion("angularfire",aw.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zt({type:t});static \u0275inj=zt({providers:[Gle],imports:[Wle]})}return t})();const Gj_firebaseConfig={apiKey:"AIzaSyC3BAMIxMlIe-IQVP0RRftgIdmyxwyN4Xs",authDomain:"flatmap1308.firebaseapp.com",databaseURL:"https://flatmap1308-default-rtdb.firebaseio.com",projectId:"flatmap1308",storageBucket:"flatmap1308.appspot.com",messagingSenderId:"364754727927",appId:"1:364754727927:web:ffc5bc94f7ea14b91ab4f2"};function Wj(t,e){return xe(e)?Un(()=>t,e):Un(()=>t)}Qe(344);const Kj=new ee("angularfire2.auth.use-emulator"),Yj=new ee("angularfire2.auth.settings"),Qj=new ee("angularfire2.auth.tenant-id"),Xj=new ee("angularfire2.auth.langugage-code"),Zj=new ee("angularfire2.auth.use-device-language"),Jj=new ee("angularfire.auth.persistence"),eH=(t,e,n,r,i,s,o,a)=>bA(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[u,h]of Object.entries(o))l.settings[u]=h;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let _w=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,l,u,h,m,g,y){const b=new D,w=Ne(void 0).pipe(Ol(o.outsideAngular),Un(()=>s.runOutsideAngular(()=>Promise.resolve().then(Qe.bind(Qe,344)))),fe(()=>lw(n,s,r)),fe(I=>eH(I,s,a,u,h,m,l,g)),VS({bufferSize:1,refCount:!1}));if(ZE(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ne(null);else{w.pipe(Fl()).subscribe();const I=w.pipe(Un(N=>N.getRedirectResult().then(z=>z,()=>null)),xi,VS({bufferSize:1,refCount:!1})),x=w.pipe(Un(N=>new Ot(z=>({unsubscribe:s.runOutsideAngular(()=>N.onAuthStateChanged(se=>z.next(se),se=>z.error(se),()=>z.complete()))})))),A=w.pipe(Un(N=>new Ot(z=>({unsubscribe:s.runOutsideAngular(()=>N.onIdTokenChanged(se=>z.next(se),se=>z.error(se),()=>z.complete()))}))));this.authState=I.pipe(Wj(x),Mh(o.outsideAngular),Ol(o.insideAngular)),this.user=I.pipe(Wj(A),Mh(o.outsideAngular),Ol(o.insideAngular)),this.idToken=this.user.pipe(Un(N=>N?Kt(N.getIdToken()):Ne(null))),this.idTokenResult=this.user.pipe(Un(N=>N?Kt(N.getIdTokenResult()):Ne(null))),this.credential=Yh(I,b,this.authState.pipe(xr(N=>!N))).pipe(fe(N=>N?.user?N:null),Mh(o.outsideAngular),Ol(o.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(Zoe.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(u=>n.run(()=>u)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,u)=>o.then(h=>{const m=h?.(...u);return r?.spy?.apply&&r.spy.apply(s,u,m),m})})})}))(this,w,s,{spy:{apply:(I,x,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(N=>b.next(N))}}})}static \u0275fac=function(r){return new(r||t)(L(Yg),L(Qg,8),L(Rs),L(Ve),L(EA),L(Kj,8),L(Yj,8),L(Qj,8),L(Xj,8),L(Zj,8),L(Jj,8),L(vA,8))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Qle=(()=>{class t{constructor(){$o.c.registerVersion("angularfire",aw.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zt({type:t});static \u0275inj=zt({providers:[_w]})}return t})(),tH=(()=>{class t{constructor(n,r){this.afAuth=n,this.router=r,this.user=n.authState}signIn(n,r){return this.afAuth.signInWithEmailAndPassword(n,r).then(()=>{localStorage.setItem("rkBuilder-token","true"),this.router.navigate(["/app"])},i=>{alert("Invalid Credential"),this.router.navigate(["/login"])})}signOut(){return this.afAuth.signOut()}isAuthenticated(){return!!localStorage.getItem("rkBuilder-token")}static#e=this.\u0275fac=function(r){return new(r||t)(L(_w),L(ds))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xle=(()=>{class t{constructor(n,r){this.authService=n,this.fb=r}ngOnInit(){this.loginControlForm=this.fb.group({username:["",qr.required],password:["",qr.required]})}onSignUp(n){const r=this.loginControlForm.value;this.authService.signIn(r.username,r.password).then(()=>{console.log("User signed up successfully!")}).catch(i=>{console.error("Error signing up:",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(B(tH),B(yA))};static#t=this.\u0275cmp=pr({type:t,selectors:[["app-login"]],decls:34,vars:1,consts:[[1,"container","h-100"],[1,"d-flex","justify-content-center","h-100"],[1,"user_card"],[1,"d-flex","justify-content-center"],[1,"brand_logo_container"],["src","../../assets/favicon2.png","alt","Logo",1,"brand_logo"],[1,"d-flex","justify-content-center","form_container"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-user"],["type","text","formControlName","username","placeholder","username",1,"form-control","input_user"],[1,"input-group","mb-2"],[1,"fas","fa-key"],["type","password","formControlName","password","placeholder","password",1,"form-control","input_pass"],[1,"form-group"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customControlInline",1,"custom-control-input"],["for","customControlInline",1,"custom-control-label"],[1,"d-flex","justify-content-center","mt-3","login_container"],["type","submit","name","button",1,"btn","login_btn"],[1,"mt-4"],[1,"d-flex","justify-content-center","links"],["href","#",1,"ml-2"],["href","#"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),ft(5,"img",5),le()(),re(6,"div",6)(7,"form",7),Wt("ngSubmit",function(o){return i.onSignUp(o)}),re(8,"div",8)(9,"div",9)(10,"span",10),ft(11,"i",11),le()(),ft(12,"input",12),le(),re(13,"div",13)(14,"div",9)(15,"span",10),ft(16,"i",14),le()(),ft(17,"input",15),le(),re(18,"div",16)(19,"div",17),ft(20,"input",18),re(21,"label",19),Ke(22,"Remember me"),le()()(),re(23,"div",20)(24,"button",21),Ke(25," Login "),le()()()(),re(26,"div",22)(27,"div",23),Ke(28," Don't have an account? "),re(29,"a",24),Ke(30,"Sign Up"),le()(),re(31,"div",23)(32,"a",25),Ke(33,"Forgot your password?"),le()()()()()()),2&r&&(Xe(7),Tt("formGroup",i.loginControlForm))},dependencies:[sw,Xh,Wb,Kb,yu,Kg],styles:[".user_card[_ngcontent-%COMP%]{height:400px;width:350px;margin-top:auto;margin-bottom:auto;background:#f39c12cc;position:relative;display:flex;justify-content:center;flex-direction:column;padding:10px;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;-webkit-box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-moz-box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:5px}.brand_logo_container[_ngcontent-%COMP%]{position:absolute;height:170px;width:170px;top:-75px;border-radius:50%;background:#e8e8e8;padding:10px;text-align:center}.brand_logo[_ngcontent-%COMP%]{height:150px;width:150px;border-radius:50%;border:2px solid white}.form_container[_ngcontent-%COMP%]{margin-top:100px}.login_btn[_ngcontent-%COMP%]{width:100%;background:#c0392b!important;color:#fff!important}.login_btn[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0px!important}.login_container[_ngcontent-%COMP%]{padding:0 2rem}.input-group-text[_ngcontent-%COMP%]{background:#c0392b!important;color:#fff!important;border:0!important;border-radius:.25rem 0 0 .25rem!important}.input_user[_ngcontent-%COMP%], .input_pass[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0px!important}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#c0392b!important}"]})}return t})();class Zle{constructor(e){this.apartments=e}}function kA(){return ve((t,e)=>{let n,r=!1;t.subscribe(Ie(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}var pe,Wo=Qe(976),Jle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},go={},OA=OA||{},Ze=Jle||self;function yw(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function t_(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var FA="closure_uid_"+(1e9*Math.random()>>>0),tce=0;function nce(t,e,n){return t.call.apply(t.bind,arguments)}function rce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function li(t,e,n){return(li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nce:rce).apply(null,arguments)}function vw(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $l(){this.s=this.s,this.o=this.o}$l.prototype.s=!1,$l.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ece(t){Object.prototype.hasOwnProperty.call(t,FA)&&t[FA]||(t[FA]=++tce)}(this)},$l.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nH=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function LA(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rH(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yw(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ci(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ci.prototype.h=function(){this.defaultPrevented=!0};var sce=function(){if(!Ze.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ze.addEventListener("test",()=>{},e),Ze.removeEventListener("test",()=>{},e)}catch{}return t}();function n_(t){return/^[\s\xa0]*$/.test(t)}function Ew(){var t=Ze.navigator;return t&&(t=t.userAgent)?t:""}function Ko(t){return-1!=Ew().indexOf(t)}function VA(t){return VA[" "](t),t}VA[" "]=function(){};var BA,t,ace=Ko("Opera"),lf=Ko("Trident")||Ko("MSIE"),iH=Ko("Edge"),UA=iH||lf,sH=Ko("Gecko")&&!(-1!=Ew().toLowerCase().indexOf("webkit")&&!Ko("Edge"))&&!(Ko("Trident")||Ko("MSIE"))&&!Ko("Edge"),lce=-1!=Ew().toLowerCase().indexOf("webkit")&&!Ko("Edge");function oH(){var t=Ze.document;return t?t.documentMode:void 0}e:{var jA="",HA=(t=Ew(),sH?/rv:([^\);]+)(\)|;)/.exec(t):iH?/Edge\/([\d\.]+)/.exec(t):lf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):lce?/WebKit\/(\S+)/.exec(t):ace?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(HA&&(jA=HA?HA[1]:""),lf){var $A=oH();if(null!=$A&&$A>parseFloat(jA)){BA=String($A);break e}}BA=jA}var cce=Ze.document&&lf&&(oH()||parseInt(BA,10))||void 0;function r_(t,e){if(ci.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sH){e:{try{VA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:uce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&r_.$.h.call(this)}}Mr(r_,ci);var uce={2:"touch",3:"pen",4:"mouse"};r_.prototype.h=function(){r_.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var i_="closure_listenable_"+(1e6*Math.random()|0),dce=0;function hce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++dce,this.fa=this.ia=!1}function bw(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function qA(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lH(t){const e={};for(const n in t)e[n]=t[n];return e}const cH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uH(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<cH.length;s++)n=cH[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ww(t){this.src=t,this.g={},this.h=0}function GA(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=nH(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bw(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function WA(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}ww.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=WA(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new hce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var KA="closure_lm_"+(1e6*Math.random()|0),YA={};function dH(t,e,n,r,i){if(r&&r.once)return fH(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dH(t,e[s],n,r,i);return null}return n=JA(n),t&&t[i_]?t.O(e,n,t_(r)?!!r.capture:!!r,i):hH(t,e,n,!1,r,i)}function hH(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=t_(i)?!!i.capture:!!i,a=XA(t);if(a||(t[KA]=a=new ww(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function pce(){const e=mce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mH(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fH(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fH(t,e[s],n,r,i);return null}return n=JA(n),t&&t[i_]?t.P(e,n,t_(r)?!!r.capture:!!r,i):hH(t,e,n,!0,r,i)}function pH(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pH(t,e[s],n,r,i);else r=t_(r)?!!r.capture:!!r,n=JA(n),t&&t[i_]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=WA(s=t.g[e],n,r,i))&&(bw(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=XA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=WA(e,n,r,i)),(n=-1<t?e[t]:null)&&QA(n))}function QA(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[i_])GA(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mH(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=XA(e))?(GA(n,t),0==n.h&&(n.src=null,e[KA]=null)):bw(t)}}}function mH(t){return t in YA?YA[t]:YA[t]="on"+t}function mce(t,e){if(t.fa)t=!0;else{e=new r_(e,this);var n=t.listener,r=t.la||t.src;t.ia&&QA(t),t=n.call(r,e)}return t}function XA(t){return(t=t[KA])instanceof ww?t:null}var ZA="__closure_events_fn_"+(1e9*Math.random()>>>0);function JA(t){return"function"==typeof t?t:(t[ZA]||(t[ZA]=function(e){return t.handleEvent(e)}),t[ZA])}function Pr(){$l.call(this),this.i=new ww(this),this.S=this,this.J=null}function Gr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ci(e,t);else if(e instanceof ci)e.target=e.target||t;else{var i=e;uH(e=new ci(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Iw(o,r,!0,e)&&i}if(i=Iw(o=e.g=t,r,!0,e)&&i,i=Iw(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Iw(o=e.g=n[s],r,!1,e)&&i}function Iw(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&GA(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Mr(Pr,$l),Pr.prototype[i_]=!0,Pr.prototype.removeEventListener=function(t,e,n,r){pH(this,t,e,n,r)},Pr.prototype.N=function(){if(Pr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bw(n[r]);delete t.g[e],t.h--}}this.J=null},Pr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Pr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ex=Ze.JSON.stringify;function _ce(){var t=tx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var gH=new class gce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vce,t=>t.reset());class vce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ece(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bce(t){Ze.setTimeout(()=>{throw t},0)}let s_,o_=!1,tx=new class yce{constructor(){this.h=this.g=null}add(e,n){const r=gH.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_H=()=>{const t=Ze.Promise.resolve(void 0);s_=()=>{t.then(wce)}};var wce=()=>{for(var t;t=_ce();){try{t.h.call(t.g)}catch(n){bce(n)}var e=gH;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}o_=!1};function Tw(t,e){Pr.call(this),this.h=t||1,this.g=e||Ze,this.j=li(this.qb,this),this.l=Date.now()}function nx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function rx(t,e,n){if("function"==typeof t)n&&(t=li(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=li(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ze.setTimeout(t,e||0)}function yH(t){t.g=rx(()=>{t.g=null,t.i&&(t.i=!1,yH(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mr(Tw,Pr),(pe=Tw.prototype).ga=!1,pe.T=null,pe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gr(this,"tick"),this.ga&&(nx(this),this.start()))}},pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.N=function(){Tw.$.N.call(this),nx(this),delete this.g};class Ice extends $l{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yH(this)}N(){super.N(),this.g&&(Ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function a_(t){$l.call(this),this.h=t,this.g={}}Mr(a_,$l);var vH=[];function EH(t,e,n,r){Array.isArray(n)||(n&&(vH[0]=n.toString()),n=vH);for(var i=0;i<n.length;i++){var s=dH(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function bH(t){qA(t.g,function(e,n){this.g.hasOwnProperty(n)&&QA(e)},t),t.g={}}function Cw(){this.g=!0}function cf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Sce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ex(n)}catch{return e}}(t,n)+(r?" "+r:"")})}a_.prototype.N=function(){a_.$.N.call(this),bH(this)},a_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cw.prototype.Ea=function(){this.g=!1},Cw.prototype.info=function(){};var wu={},wH=null;function Dw(){return wH=wH||new Pr}function IH(t){ci.call(this,wu.Ta,t)}function l_(t){const e=Dw();Gr(e,new IH(e))}function TH(t,e){ci.call(this,wu.STAT_EVENT,t),this.stat=e}function Pi(t){const e=Dw();Gr(e,new TH(e,t))}function CH(t,e){ci.call(this,wu.Ua,t),this.size=e}function c_(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ze.setTimeout(function(){t()},e)}wu.Ta="serverreachability",Mr(IH,ci),wu.STAT_EVENT="statevent",Mr(TH,ci),wu.Ua="timingevent",Mr(CH,ci);var Sw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ix(){}function AH(){}ix.prototype.h=null;var ax,u_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sx(){ci.call(this,"d")}function ox(){ci.call(this,"c")}function Aw(){}function d_(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new a_(this),this.P=Ace,this.V=new Tw(t=UA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xH}function xH(){this.i=null,this.g="",this.h=!1}Mr(sx,ci),Mr(ox,ci),Mr(Aw,ix),Aw.prototype.g=function(){return new XMLHttpRequest},Aw.prototype.i=function(){return{}},ax=new Aw;var Ace=45e3,lx={},xw={};function cx(t,e,n){t.L=1,t.v=Nw(ka(e)),t.s=n,t.S=!0,RH(t,null)}function RH(t,e){t.G=Date.now(),h_(t),t.A=ka(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),BH(n.i,"t",r),t.C=0,n=t.l.J,t.h=new xH,t.g=u$(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ice(li(t.Pa,t,t.g),t.O)),EH(t.U,t.g,"readystatechange",t.nb),e=t.I?lH(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),l_(),function Tce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var m=h.split("_");o=2<=m.length&&"type"==m[1]?o+(h+"=")+u+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function MH(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function PH(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=xce(t,n),i==xw){4==e&&(t.o=4,Pi(14),r=!1),cf(t.j,t.m,null,"[Incomplete Response]");break}if(i==lx){t.o=4,Pi(15),cf(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}cf(t.j,t.m,i,null),ux(t,i)}MH(t)&&i!=xw&&i!=lx&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Pi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_x(e),e.M=!0,Pi(11))):(cf(t.j,t.m,n,"[Invalid Chunked Response]"),Iu(t),f_(t))}function xce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?xw:(n=Number(e.substring(n,r)),isNaN(n)?lx:(r+=1)+n>e.length?xw:(e=e.slice(r,r+n),t.C=r+n,e))}function h_(t){t.Y=Date.now()+t.P,NH(t,t.P)}function NH(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=c_(li(t.lb,t),e)}function Rw(t){t.B&&(Ze.clearTimeout(t.B),t.B=null)}function f_(t){0==t.l.H||t.J||o$(t.l,t)}function Iu(t){Rw(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,nx(t.V),bH(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ux(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||dx(n.i,t)))if(!t.K&&dx(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Uw(n),Lw(n)}gx(n),Pi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=c_(li(n.ib,n),6e3));if(1>=$H(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cu(n,11)}else if((t.K||n.g==t)&&Uw(n),!n_(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const h=u[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const m=u[4];null!=m&&(n.Ga=m,n.l.info("SVER="+n.Ga));const g=u[5];null!=g&&"number"==typeof g&&0<g&&(n.L=r=1.5*g,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const b=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(hx(s,s.h),s.h=null))}if(r.F){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,gn(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=c$(r,r.J?r.pa:null,r.Y),o.K){zH(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Rw(a),h_(a)),r.g=o}else i$(r);0<n.j.length&&Vw(n)}else"stop"!=u[0]&&"close"!=u[0]||Cu(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Cu(n,7):mx(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}l_()}catch{}}function kH(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(yw(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Mce(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yw(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Rce(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(yw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(pe=d_.prototype).setTimeout=function(t){this.P=t},pe.nb=function(t){t=t.target;const e=this.M;e&&3==Yo(t)?e.l():this.Pa(t)},pe.Pa=function(t){try{if(t==this.g)e:{const h=Yo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||UA||this.g&&(this.h.h||this.g.ja()||ZH(this.g)))){this.J||4!=h||7==e||l_(),Rw(this);var n=this.g.da();this.ca=n;t:if(MH(this)){var r=ZH(this.g);t="";var i=r.length,s=4==Yo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Iu(this),f_(this);var o="";break t}this.h.i=new Ze.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Cce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!n_(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Pi(12),Iu(this),f_(this);break e}cf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ux(this,n)}this.S?(PH(this,h,o),UA&&this.i&&3==h&&(EH(this.U,this.V,"tick",this.mb),this.V.start())):(cf(this.j,this.m,o,null),ux(this,o)),4==h&&Iu(this),this.i&&!this.J&&(4==h?o$(this.l,this):(this.i=!1,h_(this)))}else(function Yce(t){const e={};t=(t.g&&2<=Yo(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(n_(t[r]))continue;var n=Ece(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function fce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),Iu(this),f_(this)}}}catch{}},pe.mb=function(){if(this.g){var t=Yo(this.g),e=this.g.ja();this.C<e.length&&(Rw(this),PH(this,t,e),this.i&&4!=t&&h_(this))}},pe.cancel=function(){this.J=!0,Iu(this)},pe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Dce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(l_(),Pi(17)),Iu(this),this.o=2,f_(this)):NH(this,this.Y-t)};var OH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Tu){this.h=t.h,Mw(this,t.j),this.s=t.s,this.g=t.g,Pw(this,t.m),this.l=t.l;var e=t.i,n=new g_;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),FH(this,n),this.o=t.o}else t&&(e=String(t).match(OH))?(this.h=!1,Mw(this,e[1]||"",!0),this.s=p_(e[2]||""),this.g=p_(e[3]||"",!0),Pw(this,e[4]),this.l=p_(e[5]||"",!0),FH(this,e[6]||"",!0),this.o=p_(e[7]||"")):(this.h=!1,this.i=new g_(null,this.h))}function ka(t){return new Tu(t)}function Mw(t,e,n){t.j=n?p_(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Pw(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function FH(t,e,n){e instanceof g_?(t.i=e,function Vce(t,e){e&&!t.j&&(zl(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VH(this,r),BH(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=m_(e,Fce)),t.i=new g_(e,t.h))}function gn(t,e,n){t.i.set(e,n)}function Nw(t){return gn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function p_(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function m_(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Nce),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Nce(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Tu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(m_(e,LH,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(m_(e,LH,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(m_(n,"/"==n.charAt(0)?Oce:kce,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",m_(n,Lce)),t.join("")};var LH=/[#\/\?@]/g,kce=/[#\?:]/g,Oce=/[#\?]/g,Fce=/[#\?@]/g,Lce=/#/g;function g_(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zl(t){t.g||(t.g=new Map,t.h=0,t.i&&function Pce(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function VH(t,e){zl(t),e=uf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UH(t,e){return zl(t),e=uf(t,e),t.g.has(e)}function BH(t,e,n){VH(t,e),0<n.length&&(t.i=null,t.g.set(uf(t,e),LA(n)),t.h+=n.length)}function uf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(pe=g_.prototype).add=function(t,e){zl(this),this.i=null,t=uf(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},pe.forEach=function(t,e){zl(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},pe.ta=function(){zl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},pe.Z=function(t){zl(this);let e=[];if("string"==typeof t)UH(this,t)&&(e=e.concat(this.g.get(uf(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},pe.set=function(t,e){return zl(this),this.i=null,UH(this,t=uf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},pe.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Uce=class{constructor(t,e){this.g=t,this.map=e}};function jH(t){this.l=t||Bce,t=Ze.PerformanceNavigationTiming?0<(t=Ze.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ze.g&&Ze.g.Ka&&Ze.g.Ka()&&Ze.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bce=10;function HH(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $H(t){return t.h?1:t.g?t.g.size:0}function dx(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hx(t,e){t.g?t.g.add(e):t.h=e}function zH(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function qH(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return LA(t.i)}jH.prototype.cancel=function(){if(this.i=qH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var jce=class{stringify(t){return Ze.JSON.stringify(t,void 0)}parse(t){return Ze.JSON.parse(t,void 0)}};function Hce(){this.g=new jce}function $ce(t,e,n){const r=n||"";try{kH(t,function(i,s){let o=i;t_(i)&&(o=ex(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kw(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function __(t){this.l=t.ec||null,this.j=t.ob||!1}function Ow(t,e){Pr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mr(__,ix),__.prototype.g=function(){return new Ow(this.l,this.j)},__.prototype.i=function(t){return function(){return t}}({}),Mr(Ow,Pr);var fx=0;function GH(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function y_(t){t.readyState=4,t.l=null,t.j=null,t.A=null,v_(t)}function v_(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(pe=Ow.prototype).open=function(t,e){if(this.readyState!=fx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,v_(this)},pe.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,y_(this)),this.readyState=fx},pe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,v_(this)),this.g&&(this.readyState=3,v_(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ze.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GH(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},pe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?y_(this):v_(this),3==this.readyState&&GH(this)}},pe.Za=function(t){this.g&&(this.response=this.responseText=t,y_(this))},pe.Ya=function(t){this.g&&(this.response=t,y_(this))},pe.ka=function(){this.g&&y_(this)},pe.setRequestHeader=function(t,e){this.v.append(t,e)},pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ow.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var qce=Ze.JSON.parse;function Bn(t){Pr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WH,this.L=this.M=!1}Mr(Bn,Pr);var WH="",Gce=/^https?$/i,Wce=["POST","PUT"];function KH(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,YH(t),Fw(t)}function YH(t){t.F||(t.F=!0,Gr(t,"complete"),Gr(t,"error"))}function QH(t){if(t.h&&typeof OA<"u"&&(!t.C[1]||4!=Yo(t)||2!=t.da()))if(t.v&&4==Yo(t))rx(t.La,0,t);else if(Gr(t,"readystatechange"),4==Yo(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(OH)[1]||null;!i&&Ze.self&&Ze.self.location&&(i=Ze.self.location.protocol.slice(0,-1)),r=!Gce.test(i?i.toLowerCase():"")}n=r}if(n)Gr(t,"complete"),Gr(t,"success");else{t.m=6;try{var s=2<Yo(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",YH(t)}}finally{Fw(t)}}}function Fw(t,e){if(t.g){XH(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gr(t,"ready");try{n.onreadystatechange=r}catch{}}}function XH(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ze.clearTimeout(t.A),t.A=null)}function Yo(t){return t.g?t.g.readyState:0}function ZH(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WH:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function JH(t){let e="";return qA(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function px(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JH(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):gn(t,e,n))}function E_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function e$(t){this.Ga=0,this.j=[],this.l=new Cw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=E_("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=E_("baseRetryDelayMs",5e3,t),this.hb=E_("retryDelaySeedMs",1e4,t),this.eb=E_("forwardChannelMaxRetries",2,t),this.xa=E_("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jH(t&&t.concurrentRequestLimit),this.Ja=new Hce,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mx(t){if(t$(t),3==t.H){var e=t.W++,n=ka(t.I);if(gn(n,"SID",t.K),gn(n,"RID",e),gn(n,"TYPE","terminate"),b_(t,n),(e=new d_(t,t.l,e)).L=2,e.v=Nw(ka(n)),n=!1,Ze.navigator&&Ze.navigator.sendBeacon)try{n=Ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ze.Image&&((new Image).src=e.v,n=!0),n||(e.g=u$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),h_(e)}l$(t)}function Lw(t){t.g&&(_x(t),t.g.cancel(),t.g=null)}function t$(t){Lw(t),t.u&&(Ze.clearTimeout(t.u),t.u=null),Uw(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ze.clearTimeout(t.m),t.m=null)}function Vw(t){if(!HH(t.i)&&!t.m){t.m=!0;var e=t.Na;s_||_H(),o_||(s_(),o_=!0),tx.add(e,t),t.C=0}}function n$(t,e){var n;n=e?e.m:t.W++;const r=ka(t.I);gn(r,"SID",t.K),gn(r,"RID",n),gn(r,"AID",t.V),b_(t,r),t.o&&t.s&&px(r,t.o,t.s),n=new d_(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=r$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hx(t.i,n),cx(n,r,e)}function b_(t,e){t.na&&qA(t.na,function(n,r){gn(e,r,n)}),t.h&&kH({},function(n,r){gn(e,r,n)})}function r$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?li(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{$ce(h,o,"req"+u+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function i$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;s_||_H(),o_||(s_(),o_=!0),tx.add(e,t),t.A=0}}function gx(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=c_(li(t.Ma,t),a$(t,t.A)),t.A++,0))}function _x(t){null!=t.B&&(Ze.clearTimeout(t.B),t.B=null)}function s$(t){t.g=new d_(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ka(t.wa);gn(e,"RID","rpc"),gn(e,"SID",t.K),gn(e,"AID",t.V),gn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&gn(e,"TO",t.qa),gn(e,"TYPE","xmlhttp"),b_(t,e),t.o&&t.s&&px(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Nw(ka(e)),n.s=null,n.S=!0,RH(n,t)}function Uw(t){null!=t.v&&(Ze.clearTimeout(t.v),t.v=null)}function o$(t,e){var n=null;if(t.g==e){Uw(t),_x(t),t.g=null;var r=2}else{if(!dx(t.i,e))return;n=e.F,zH(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gr(r=Dw(),new CH(r,n)),Vw(t)}else i$(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Qce(t,e){return!($H(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=c_(li(t.Na,t,e),a$(t,t.C)),t.C++,0)))}(t,e)||2==r&&gx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cu(t,5);break;case 4:Cu(t,10);break;case 3:Cu(t,6);break;default:Cu(t,2)}}function a$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cu(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=li(t.pb,t);n||(n=new Tu("//www.google.com/images/cleardot.gif"),Ze.location&&"http"==Ze.location.protocol||Mw(n,"https"),Nw(n)),function zce(t,e){const n=new Cw;if(Ze.Image){const r=new Image;r.onload=vw(kw,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vw(kw,n,r,"TestLoadImage: error",!1,e),r.onabort=vw(kw,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vw(kw,n,r,"TestLoadImage: timeout",!1,e),Ze.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Pi(2);t.H=0,t.h&&t.h.za(e),l$(t),t$(t)}function l$(t){if(t.H=0,t.ma=[],t.h){const e=qH(t.i);(0!=e.length||0!=t.j.length)&&(rH(t.ma,e),rH(t.ma,t.j),t.i.i.length=0,LA(t.j),t.j.length=0),t.h.ya()}}function c$(t,e,n){var r=n instanceof Tu?ka(n):new Tu(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Pw(r,r.m);else{var i=Ze.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Tu(null);r&&Mw(s,r),e&&(s.g=e),i&&Pw(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&gn(r,n,e),gn(r,"VER",t.ra),b_(t,r),r}function u$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bn(n&&t.Ha&&!t.va?new __({ob:!0}):t.va)).Oa(t.J),e}function d$(){}function Bw(){if(lf&&!(10<=Number(cce)))throw Error("Environmental error: no available transport.")}function ms(t,e){Pr.call(this),this.g=new e$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!n_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!n_(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new df(this)}function h$(t){sx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function f$(){ox.call(this),this.status=1}function df(t){this.g=t}function _o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yx(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Yt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(pe=Bn.prototype).Oa=function(t){this.M=t},pe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ax.g(),this.C=function SH(t){return t.h||(t.h=t.i())}(this.u?this.u:ax),this.g.onreadystatechange=li(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void KH(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ze.FormData&&t instanceof Ze.FormData,!(0<=nH(Wce,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XH(this),0<this.B&&((this.L=function Kce(t){return lf&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.ua,this)):this.A=rx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KH(this,s)}},pe.ua=function(){typeof OA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gr(this,"complete"),Gr(this,"abort"),Fw(this))},pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fw(this,!0)),Bn.$.N.call(this)},pe.La=function(){this.s||(this.G||this.v||this.l?QH(this):this.kb())},pe.kb=function(){QH(this)},pe.isActive=function(){return!!this.g},pe.da=function(){try{return 2<Yo(this)?this.g.status:-1}catch{return-1}},pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qce(e)}},pe.Ia=function(){return this.m},pe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=e$.prototype).ra=8,pe.H=1,pe.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new d_(this,this.l,t);let s=this.s;if(this.U&&(s?(s=lH(s),uH(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=r$(this,i,e),gn(n=ka(this.I),"RID",t),gn(n,"CVER",22),this.F&&gn(n,"X-HTTP-Session-Id",this.F),b_(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(JH(s)))+"&"+e:this.o&&px(n,this.o,s)),hx(this.i,i),this.bb&&gn(n,"TYPE","init"),this.P?(gn(n,"$req",e),gn(n,"SID","null"),i.aa=!0,cx(i,n,null)):cx(i,n,e),this.H=2}}else 3==this.H&&(t?n$(this,t):0==this.j.length||HH(this.i)||n$(this))},pe.Ma=function(){if(this.u=null,s$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=c_(li(this.jb,this),t)}},pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pi(10),Lw(this),s$(this))},pe.ib=function(){null!=this.v&&(this.v=null,Lw(this),gx(this),Pi(19))},pe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pi(2)):(this.l.info("Failed to ping google.com"),Pi(1))},pe.isActive=function(){return!!this.h&&this.h.isActive(this)},(pe=d$.prototype).Ba=function(){},pe.Aa=function(){},pe.za=function(){},pe.ya=function(){},pe.isActive=function(){return!0},pe.Va=function(){},Bw.prototype.g=function(t,e){return new ms(t,e)},Mr(ms,Pr),ms.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=c$(t,null,t.Y),Vw(t)},ms.prototype.close=function(){mx(this.g)},ms.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ex(t),t=n);e.j.push(new Uce(e.fb++,t)),3==e.H&&Vw(e)},ms.prototype.N=function(){this.g.h=null,delete this.j,mx(this.g),delete this.g,ms.$.N.call(this)},Mr(h$,sx),Mr(f$,ox),Mr(df,d$),df.prototype.Ba=function(){Gr(this.g,"a")},df.prototype.Aa=function(t){Gr(this.g,new h$(t))},df.prototype.za=function(t){Gr(this.g,new f$)},df.prototype.ya=function(){Gr(this.g,"b")},Mr(_o,function Xce(){this.blockSize=-1}),_o.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_o.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)yx(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){yx(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){yx(this,r),i=0;break}}this.h=i,this.i+=e},_o.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Zce={};function vx(t){return-128<=t&&128>t?function oce(t,e){var n=Zce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Yt([0|e],0>e?-1:0)}):new Yt([0|t],0>t?-1:0)}function Qo(t){if(isNaN(t)||!isFinite(t))return hf;if(0>t)return Wr(Qo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ex;return new Yt(e,0)}var Ex=4294967296,hf=vx(0),bx=vx(1),m$=vx(16777216);function Oa(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function js(t){return-1==t.h}function Wr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Yt(n,~t.h).add(bx)}function jw(t,e){return t.add(Wr(e))}function Hw(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function w_(t,e){this.g=t,this.h=e}function $w(t,e){if(Oa(e))throw Error("division by zero");if(Oa(t))return new w_(hf,hf);if(js(t))return e=$w(Wr(t),e),new w_(Wr(e.g),Wr(e.h));if(js(e))return e=$w(t,Wr(e)),new w_(Wr(e.g),e.h);if(30<t.g.length){if(js(t)||js(e))throw Error("slowDivide_ only works with positive integers.");for(var n=bx,r=e;0>=r.X(t);)n=g$(n),r=g$(r);var i=ff(n,1),s=ff(r,1);for(r=ff(r,2),n=ff(n,2);!Oa(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ff(r,1),n=ff(n,1)}return e=jw(t,i.R(e)),new w_(i,e)}for(i=hf;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Qo(n)).R(e);js(o)||0<o.X(t);)o=(s=Qo(n-=r)).R(e);Oa(s)&&(s=bx),i=i.add(s),t=jw(t,o)}return new w_(i,t)}function g$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Yt(n,t.h)}function ff(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Yt(i,t.h)}(pe=Yt.prototype).ea=function(){if(js(this))return-Wr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ex+r)*e,e*=Ex}return t},pe.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Oa(this))return"0";if(js(this))return"-"+Wr(this).toString(t);for(var e=Qo(Math.pow(t,6)),n=this,r="";;){var i=$w(n,e).g,s=((0<(n=jw(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Oa(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},pe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},pe.X=function(t){return js(t=jw(this,t))?-1:Oa(t)?0:1},pe.abs=function(){return js(this)?Wr(this):this},pe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Yt(n,-2147483648&n[n.length-1]?-1:0)},pe.R=function(t){if(Oa(this)||Oa(t))return hf;if(js(this))return js(t)?Wr(this).R(Wr(t)):Wr(Wr(this).R(t));if(js(t))return Wr(this.R(Wr(t)));if(0>this.X(m$)&&0>t.X(m$))return Qo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=o*l,Hw(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Hw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Hw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Hw(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Yt(n,0)},pe.gb=function(t){return $w(this,t).h},pe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Yt(n,this.h&t.h)},pe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Yt(n,this.h|t.h)},pe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Yt(n,this.h^t.h)},Bw.prototype.createWebChannel=Bw.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,Sw.NO_ERROR=0,Sw.TIMEOUT=8,Sw.HTTP_ERROR=6,DH.COMPLETE="complete",AH.EventType=u_,u_.OPEN="a",u_.CLOSE="b",u_.ERROR="c",u_.MESSAGE="d",Pr.prototype.listen=Pr.prototype.O,Bn.prototype.listenOnce=Bn.prototype.P,Bn.prototype.getLastError=Bn.prototype.Sa,Bn.prototype.getLastErrorCode=Bn.prototype.Ia,Bn.prototype.getStatus=Bn.prototype.da,Bn.prototype.getResponseJson=Bn.prototype.Wa,Bn.prototype.getResponseText=Bn.prototype.ja,Bn.prototype.send=Bn.prototype.ha,Bn.prototype.setWithCredentials=Bn.prototype.Oa,_o.prototype.digest=_o.prototype.l,_o.prototype.reset=_o.prototype.reset,_o.prototype.update=_o.prototype.j,Yt.prototype.add=Yt.prototype.add,Yt.prototype.multiply=Yt.prototype.R,Yt.prototype.modulo=Yt.prototype.gb,Yt.prototype.compare=Yt.prototype.X,Yt.prototype.toNumber=Yt.prototype.ea,Yt.prototype.toString=Yt.prototype.toString,Yt.prototype.getBits=Yt.prototype.D,Yt.fromNumber=Qo,Yt.fromString=function p$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Wr(p$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qo(Math.pow(e,8)),r=hf,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Qo(Math.pow(e,s)),r=r.R(s).add(Qo(o))):r=(r=r.R(n)).add(Qo(o))}return r};var Jce=go.createWebChannelTransport=function(){return new Bw},eue=go.getStatEventTarget=function(){return Dw()},wx=go.ErrorCode=Sw,tue=go.EventType=DH,nue=go.Event=wu,_$=go.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rue=go.FetchXmlHttpFactory=__,zw=go.WebChannel=AH,iue=go.XhrIo=Bn,sue=go.Md5=_o,pf=go.Integer=Yt;const y$="@firebase/firestore";class Nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let mf="10.5.2";const ql=new Wo.YJ("@firebase/firestore");function gf(){return ql.logLevel}function ne(t,...e){if(ql.logLevel<=Wo.Ge.DEBUG){const n=e.map(Ix);ql.debug(`Firestore (${mf}): ${t}`,...n)}}function Qn(t,...e){if(ql.logLevel<=Wo.Ge.ERROR){const n=e.map(Ix);ql.error(`Firestore (${mf}): ${t}`,...n)}}function Wi(t,...e){if(ql.logLevel<=Wo.Ge.WARN){const n=e.map(Ix);ql.warn(`Firestore (${mf}): ${t}`,...n)}}function Ix(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ee(t="Unexpected state"){const e=`FIRESTORE (${mf}) INTERNAL ASSERTION FAILED: `+t;throw Qn(e),new Error(e)}function De(t,e){t||Ee()}function de(t,e){return t}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends _t.kx{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class v${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nr.UNAUTHENTICATED))}shutdown(){}}class cue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uue{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable((0,E.c)(function*(){yield u.promise,yield s(r.currentUser)}))},l=u=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De("string"==typeof r.accessToken),new v$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(null===e||"string"==typeof e),new Nr(e)}}class due{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hue{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new due(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fue{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De("string"==typeof n.token),this.R=n.token,new E$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class b${static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=pue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function _f(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function w$(t){return t+"\0"}class Cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Cn(0,0))}static max(){return new Se(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class I_{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ee(),void 0===r?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===I_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof I_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class St extends I_{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new St(n)}static emptyPath(){return new St([])}}const mue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends I_{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return mue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}class he{constructor(e){this.path=e}static fromPath(e){return new he(St.fromString(e))}static fromName(e){return new he(St.fromString(e).popFirst(5))}static empty(){return new he(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===St.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new St(e.slice()))}}class yf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Tx(t){return t.fields.find(e=>2===e.kind)}function Du(t){return t.fields.filter(e=>2!==e.kind)}yf.UNKNOWN_ID=-1;class Su{constructor(e,n){this.fieldPath=e,this.kind=n}}class vf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new vf(0,gs.min())}}function I$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(1e9===r?new Cn(n+1,0):new Cn(n,r));return new gs(i,he.empty(),e)}function T$(t){return new gs(t.readTime,t.key,-1)}class gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gs(Se.min(),he.empty(),-1)}static max(){return new gs(Se.max(),he.empty(),-1)}}function Cx(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=he.comparator(t.documentKey,e.documentKey),0!==n?n:Ye(t.largestBatchId,e.largestBatchId))}const C$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gl(t){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,E.c)(function*(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==C$)throw t;ne("LocalStore","Unexpectedly lost primary lease")}),Dx.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class qw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new wr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new T_(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Sx(r.target.error);this.V.reject(new T_(e,i))}}static open(e,n,r,i){try{return new qw(n,e.transaction(i,r))}catch(s){throw new T_(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new vue(n)}}class yo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===yo.S((0,_t.Su)())&&Qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ne("SimpleDb","Removing database:",e),Au(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_t.yy)())return!1;if(yo.C())return!0;const e=(0,_t.Su)(),n=yo.S(e),r=0<n&&n<10,i=yo.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,E.c)(function*(){return n.db||(ne("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new T_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new J(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new J(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new T_(e,a))},s.onupgradeneeded=o=>{ne("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{ne("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return(0,E.c)(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(e);const l=qw.open(s.db,e,o?"readonly":"readwrite",r),u=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),P.reject(h))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,h="FirebaseError"!==u.name&&a<3;if(ne("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),s.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yue{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Au(this.k.delete())}}class T_ extends J{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Wl(t){return"IndexedDbTransactionError"===t.name}class vue{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(ne("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Au(r)}add(e){return ne("SimpleDb","ADD",this.store.name,e,e),Au(this.store.add(e))}get(e){return Au(this.store.get(e)).next(n=>(void 0===n&&(n=null),ne("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ne("SimpleDb","DELETE",this.store.name,e),Au(this.store.delete(e))}count(){return ne("SimpleDb","COUNT",this.store.name),Au(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new P((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new P((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=s=>{const o=Sx(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new P((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new yue(a),u=n(a.primaryKey,a.value,l);if(u instanceof P){const h=u.catch(m=>(l.done(),P.reject(m)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>P.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Au(t){return new P((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=Sx(r.target.error);n(i)}})}let S$=!1;function Sx(t){const e=yo.S((0,_t.Su)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return S$||(S$=!0,setTimeout(()=>{throw r},0)),r}}return t}class Eue{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,E.c)(function*(){n.task=null;try{ne("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){Wl(r)?ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Gl(r)}yield n.ee(6e4)}))}}class bue{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,E.c)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,s=!0;return P.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ne("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ne("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=T$(s);Cx(o,r)>0&&(r=o)}),new gs(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let _s=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function C_(t){return null==t}function D_(t){return 0===t&&1/t==-1/0}function A$(t){return"number"==typeof t&&Number.isInteger(t)&&!D_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ui(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=x$(e)),e=wue(t.get(n),e);return x$(e)}function wue(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function x$(t){return t+"\x01\x01"}function Xo(t){const e=t.length;if(De(e>=2),2===e)return De("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),St.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ee(),t.charAt(o+1)){case"\x01":const a=t.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ee()}s=o+2}return new St(r)}const R$=["userId","batchId"];function Gw(t,e){return[t,ui(e)]}function M$(t,e,n){return[t,ui(e),n]}const Iue={},Tue=["prefixPath","collectionGroup","readTime","documentId"],Cue=["prefixPath","collectionGroup","documentId"],Due=["collectionGroup","readTime","prefixPath","documentId"],Sue=["canonicalId","targetId"],Aue=["targetId","path"],xue=["path","targetId"],Rue=["collectionId","parent"],Mue=["indexId","uid"],Pue=["uid","sequenceNumber"],Nue=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kue=["indexId","uid","orderedDocumentKey"],Oue=["userId","collectionPath","documentId"],Fue=["userId","collectionPath","largestBatchId"],Lue=["userId","collectionGroup","largestBatchId"],P$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vue=[...P$,"documentOverlays"],N$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k$=N$,Uue=[...k$,"indexConfiguration","indexState","indexEntries"];class Ax extends D${constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function kr(t,e){const n=de(t);return yo.M(n.ae,e)}function O$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class hn{constructor(e,n){this.comparator=e,this.root=n||Kr.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ww(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ww(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ww(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ww(this.root,e,this.comparator,!0)}}class Ww{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kr.RED,this.left=i??Kr.EMPTY,this.right=s??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Kr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Kr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Kr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L$(this.data.getIterator())}getIteratorFrom(e){return new L$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class L${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ef(t){return t.hasNext()?t.getNext():void 0}class Ki{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Ki([])}unionWith(e){let n=new tn(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class V$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new V$("Invalid base64 string: "+s):s}}(e);return new Ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const jue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yl(t){if(De(!!t),"string"==typeof t){let e=0;const n=jue.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(t.seconds),nanos:jn(t.nanos)}}function jn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fa(t){return"string"==typeof t?Ir.fromBase64String(t):Ir.fromUint8Array(t)}function Kw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yw(t){const e=t.mapValue.fields.__previous_value__;return Kw(e)?Yw(e):e}function S_(t){const e=Yl(t.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}class Hue{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qw={nullValue:"NULL_VALUE"};function Zl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kw(t)?4:H$(t)?9007199254740991:10:Ee()}function Zo(t,e){if(t===e)return!0;const n=Zl(t);if(n!==Zl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return S_(t).isEqual(S_(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yl(i.timestampValue),a=Yl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Fa(t.bytesValue).isEqual(Fa(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return jn(i.geoPointValue.latitude)===jn(s.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return jn(i.integerValue)===jn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=jn(i.doubleValue),a=jn(s.doubleValue);return o===a?D_(o)===D_(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _f(t.arrayValue.values||[],e.arrayValue.values||[],Zo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(O$(o)!==O$(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Zo(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}var s}function A_(t,e){return void 0!==(t.values||[]).find(n=>Zo(n,e))}function Jl(t,e){if(t===e)return 0;const n=Zl(t),r=Zl(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=jn(s.integerValue||s.doubleValue),l=jn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return U$(t.timestampValue,e.timestampValue);case 4:return U$(S_(t),S_(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fa(s),l=Fa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ye(a[u],l[u]);if(0!==h)return h}return Ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ye(jn(s.latitude),jn(o.latitude));return 0!==a?a:Ye(jn(s.longitude),jn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Jl(a[u],l[u]);if(h)return h}return Ye(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Xl.mapValue&&o===Xl.mapValue)return 0;if(s===Xl.mapValue)return 1;if(o===Xl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const g=Ye(l[m],h[m]);if(0!==g)return g;const y=Jl(a[l[m]],u[h[m]]);if(0!==y)return y}return Ye(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function U$(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ye(t,e);const n=Yl(t),r=Yl(e),i=Ye(n.seconds,r.seconds);return 0!==i?i:Ye(n.nanos,r.nanos)}function bf(t){return xx(t)}function xx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fa(t.bytesValue).toBase64():"referenceValue"in t?he.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=xx(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${xx(n.fields[o])}`;return i+"}"}(t.mapValue):Ee()}function xu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rx(t){return!!t&&"integerValue"in t}function x_(t){return!!t&&"arrayValue"in t}function B$(t){return!!t&&"nullValue"in t}function j$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zw(t){return!!t&&"mapValue"in t}function R_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Kl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=R_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=R_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H$(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function $ue(t){return"nullValue"in t?Qw:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?xu(Ql.empty(),he.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ee()}function zue(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?xu(Ql.empty(),he.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Xl:Ee()}function $$(t,e){const n=Jl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function z$(t,e){const n=Jl(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=R_(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=R_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yr(R_(this.value))}}function q$(t){const e=[];return Kl(t.fields,(n,r)=>{const i=new _n([n]);if(Zw(r)){const s=q$(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ki(e)}class yn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,Se.min(),Se.min(),Se.min(),Yr.empty(),0)}static newFoundDocument(e,n,r,i){return new yn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new yn(e,2,n,Se.min(),Se.min(),Yr.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Se.min(),Se.min(),Yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,n){this.position=e,this.inclusive=n}}function G$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?he.comparator(he.fromName(o.referenceValue),n.key):Jl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function W$(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zo(t.position[n],e.position[n]))return!1;return!0}class M_{constructor(e,n="asc"){this.field=e,this.dir=n}}function que(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class K${}class wt extends K${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Gue(e,n,r):"array-contains"===n?new Yue(e,r):"in"===n?new ez(e,r):"not-in"===n?new Que(e,r):"array-contains-any"===n?new Xue(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Wue(e,r):new Kue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Jl(n,this.value)):null!==n&&Zl(this.value)===Zl(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends K${constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Qt(e,n)}matches(e){return wf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wf(t){return"and"===t.op}function Mx(t){return"or"===t.op}function Px(t){return Y$(t)&&wf(t)}function Y$(t){for(const e of t.filters)if(e instanceof Qt)return!1;return!0}function Nx(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+bf(t.value);if(Px(t))return t.filters.map(e=>Nx(e)).join(",");{const e=t.filters.map(n=>Nx(n)).join(",");return`${t.op}(${e})`}}function Q$(t,e){return t instanceof wt?(r=t,(i=e)instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&Zo(r.value,i.value)):t instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&Q$(o,i.filters[a]),!0)}(t,e):void Ee();var r,i}function X$(t,e){const n=t.filters.concat(e);return Qt.create(n,t.op)}function Z$(t){return t instanceof wt?`${(n=t).field.canonicalString()} ${n.op} ${bf(n.value)}`:t instanceof Qt?function(n){return n.op.toString()+" {"+n.getFilters().map(Z$).join(" ,")+"}"}(t):"Filter";var n}class Gue extends wt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wue extends wt{constructor(e,n){super(e,"in",n),this.keys=J$(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kue extends wt{constructor(e,n){super(e,"not-in",n),this.keys=J$(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J$(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class Yue extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x_(n)&&A_(n.arrayValue,this.value)}}class ez extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&A_(this.value.arrayValue,n)}}class Que extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(A_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!A_(this.value.arrayValue,n)}}class Xue extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>A_(this.value.arrayValue,r))}}class Zue{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function kx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Zue(t,e,n,r,i,s,o)}function Ru(t){const e=de(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),C_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bf(r)).join(",")),e.ce=n}return e.ce}function P_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!que(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W$(t.startAt,e.startAt)&&W$(t.endAt,e.endAt)}function Jw(t){return he.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function eI(t,e){return t.filters.filter(n=>n instanceof wt&&n.field.isEqual(e))}function tz(t,e,n){let r=Qw,i=!0;for(const s of eI(t,e)){let o=Qw,a=!0;switch(s.op){case"<":case"<=":o=$ue(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Qw}$$({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];$$({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}function nz(t,e,n){let r=Xl,i=!0;for(const s of eI(t,e)){let o=Xl,a=!0;switch(s.op){case">=":case">":o=zue(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Xl}z$({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];z$({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}class La{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function rz(t,e,n,r,i,s,o,a){return new La(t,e,n,r,i,s,o,a)}function If(t){return new La(t)}function iz(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ox(t){return null!==t.collectionGroup}function Tf(t){const e=de(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(_n.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new M_(s,r))}),n.has(_n.keyField().canonicalString())||e.le.push(new M_(_n.keyField(),r))}return e.le}function Ni(t){const e=de(t);return e.he||(e.he=function sz(t,e){if("F"===t.limitType)return kx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new M_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;return kx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Tf(t))),e.he}function Fx(t,e){const n=t.filters.concat([e]);return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tI(t,e,n){return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function N_(t,e){return P_(Ni(t),Ni(e))&&t.limitType===e.limitType}function oz(t){return`${Ru(Ni(t))}|lt:${t.limitType}`}function Cf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Z$(i)).join(", ")}]`),C_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bf(i)).join(",")),`Target(${r})`}(Ni(t))}; limitType=${t.limitType})`}function k_(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Tf(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,l){const u=G$(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Tf(r),i)||r.endAt&&!function(o,a,l){const u=G$(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Tf(r),i)));var r,i}function az(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lz(t){return(e,n)=>{let r=!1;for(const i of Tf(t)){const s=Jue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Jue(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return null!==l&&null!==u?Jl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return F$(this.inner)}size(){return this.innerSize}}const ede=new hn(he.comparator);function Yi(){return ede}const cz=new hn(he.comparator);function O_(...t){let e=cz;for(const n of t)e=e.insert(n.key,n);return e}function uz(t){let e=cz;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jo(){return F_()}function dz(){return F_()}function F_(){return new Va(t=>t.toString(),(t,e)=>t.isEqual(e))}const tde=new hn(he.comparator),nde=new tn(he.comparator);function st(...t){let e=nde;for(const n of t)e=e.add(n);return e}const rde=new tn(Ye);function Lx(){return rde}function hz(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D_(e)?"-0":e}}function fz(t){return{integerValue:""+t}}function pz(t,e){return A$(e)?fz(e):hz(t,e)}class nI{constructor(){this._=void 0}}function ide(t,e,n){return t instanceof Df?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kw(s)&&(s=Yw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Mu?gz(t,e):t instanceof Pu?_z(t,e):function(i,s){const o=mz(i,s),a=yz(o)+yz(i.Ie);return Rx(o)&&Rx(i.Ie)?fz(a):hz(i.serializer,a)}(t,e)}function sde(t,e,n){return t instanceof Mu?gz(t,e):t instanceof Pu?_z(t,e):n}function mz(t,e){return t instanceof Sf?Rx(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Df extends nI{}class Mu extends nI{constructor(e){super(),this.elements=e}}function gz(t,e){const n=vz(e);for(const r of t.elements)n.some(i=>Zo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pu extends nI{constructor(e){super(),this.elements=e}}function _z(t,e){let n=vz(e);for(const r of t.elements)n=n.filter(i=>!Zo(i,r));return{arrayValue:{values:n}}}class Sf extends nI{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function yz(t){return jn(t.integerValue||t.doubleValue)}function vz(t){return x_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class L_{constructor(e,n){this.field=e,this.transform=n}}class ade{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class iI{}function Ez(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new xf(t.key,Dn.none()):new Af(t.key,t.data,Dn.none());{const n=t.data,r=Yr.empty();let i=new tn(_n.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ua(t.key,r,new Ki(i.toArray()),Dn.none())}}function lde(t,e,n){t instanceof Af?function(i,s,o){const a=i.value.clone(),l=Iz(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ua?function(i,s,o){if(!rI(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Iz(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wz(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function V_(t,e,n,r){return t instanceof Af?function(s,o,a,l){if(!rI(s.precondition,o))return a;const u=s.value.clone(),h=Tz(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ua?function(s,o,a,l){if(!rI(s.precondition,o))return a;const u=Tz(s.fieldTransforms,l,o),h=o.data;return h.setAll(wz(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):(a=n,rI(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function cde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mz(r.transform,i||null);null!=s&&(null===n&&(n=Yr.empty()),n.set(r.field,s))}return n||null}function bz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&_f(r,i,(s,o)=>function ode(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Mu&&i instanceof Mu||r instanceof Pu&&i instanceof Pu?_f(r.elements,i.elements,Zo):r instanceof Sf&&i instanceof Sf?Zo(r.Ie,i.Ie):r instanceof Df&&i instanceof Df);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Af extends iI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ua extends iI{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wz(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Iz(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,sde(o,a,n[i]))}return r}function Tz(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ide(s,o,e))}return r}class xf extends iI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends iI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=V_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=V_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dz();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ez(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,(n,r)=>bz(n,r))&&_f(this.baseMutations,e.baseMutations,(n,r)=>bz(n,r))}}class Bx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return tde}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Bx(e,n,r,i)}}class jx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dde{constructor(e,n){this.count=e,this.unchangedNames=n}}var lr,At;function Cz(t){switch(t){default:return Ee();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function Dz(t){if(void 0===t)return Qn("GRPC error has no .code"),U.UNKNOWN;switch(t){case lr.OK:return U.OK;case lr.CANCELLED:return U.CANCELLED;case lr.UNKNOWN:return U.UNKNOWN;case lr.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case lr.INTERNAL:return U.INTERNAL;case lr.UNAVAILABLE:return U.UNAVAILABLE;case lr.UNAUTHENTICATED:return U.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case lr.NOT_FOUND:return U.NOT_FOUND;case lr.ALREADY_EXISTS:return U.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return U.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case lr.ABORTED:return U.ABORTED;case lr.OUT_OF_RANGE:return U.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return U.UNIMPLEMENTED;case lr.DATA_LOSS:return U.DATA_LOSS;default:return Ee()}}(At=lr||(lr={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function Sz(){return new TextEncoder}const hde=new pf([4294967295,4294967295],0);function Az(t){const e=Sz().encode(t),n=new sue;return n.update(e),new Uint8Array(n.digest())}function xz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pf([n,r],0),new pf([i,s],0)]}class Hx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new U_(`Invalid padding: ${n}`);if(r<0)throw new U_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new U_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new U_(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=pf.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(pf.fromNumber(r)));return 1===i.compare(hde)&&(i=new pf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Az(e),[r,i]=xz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hx(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=Az(e),[r,i]=xz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class U_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class B_{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,j_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new B_(Se.min(),i,new hn(Ye),Yi(),st())}}class j_{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new j_(r,n,st(),st(),st())}}class oI{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Rz{constructor(e,n){this.targetId=e,this.fe=n}}class Mz{constructor(e,n,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Pz{constructor(){this.ge=0,this.pe=kz(),this.ye=Ir.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=st(),n=st(),r=st();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new j_(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=kz()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class fde{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yi(),this.Qe=Nz(),this.Ke=new hn(Ye)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Jw(s))if(0===r){const o=new he(s.path);this.We(n,o,yn.newNoDocument(o,Se.min()))}else De(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fa(r).toUint8Array()}catch(l){if(l instanceof V$)return Wi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hx(o,i,s)}catch(l){return Wi(l instanceof U_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Jw(a.target)){const l=new he(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,yn.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=st();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new B_(e,n,this.Ke,this.qe,r);return this.qe=Yi(),this.Qe=Nz(),this.Ke=new hn(Ye),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Pz,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new tn(Ye),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Pz),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Nz(){return new hn(he.comparator)}function kz(){return new hn(he.comparator)}const pde={asc:"ASCENDING",desc:"DESCENDING"},mde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gde={and:"AND",or:"OR"};class _de{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $x(t,e){return t.useProto3Json||C_(e)?e:{value:e}}function Rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Oz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yde(t,e){return Rf(t,e.toTimestamp())}function Xn(t){return De(!!t),Se.fromTimestamp(function(n){const r=Yl(n);return new Cn(r.seconds,r.nanos)}(t))}function zx(t,e){return(r=t,new St(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Fz(t){const e=St.fromString(t);return De(qz(e)),e}function H_(t,e){return zx(t.databaseId,e.path)}function ea(t,e){const n=Fz(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(Vz(n))}function qx(t,e){return zx(t.databaseId,e)}function Lz(t){const e=Fz(t);return 4===e.length?St.emptyPath():Vz(e)}function $_(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vz(t){return De(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Uz(t,e,n){return{name:H_(t,e),fields:n.value.mapValue.fields}}function Bz(t,e,n){const r=ea(t,e.name),i=Xn(e.updateTime),s=e.createTime?Xn(e.createTime):Se.min(),o=new Yr({mapValue:{fields:e.fields}}),a=yn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function z_(t,e){let n;if(e instanceof Af)n={update:Uz(t,e.key,e.value)};else if(e instanceof xf)n={delete:H_(t,e.key)};else if(e instanceof Ua)n={update:Uz(t,e.key,e.data),updateMask:Dde(e.fieldMask)};else{if(!(e instanceof Vx))return Ee();n={verify:H_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Df)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:yde(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ee()),n;var s}function Gx(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Dn.updateTime(Xn(s.updateTime)):void 0!==s.exists?Dn.exists(s.exists):Dn.none():Dn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;"setToServerValue"in a?(De("REQUEST_TIME"===a.setToServerValue),l=new Df):"appendMissingElements"in a?l=new Mu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Pu(a.removeAllFromArray.values||[]):"increment"in a?l=new Sf(o,a.increment):Ee();const u=_n.fromServerFormat(a.fieldPath);return new L_(u,l)}(t,i)):[];var s;if(e.update){const i=ea(t,e.update.name),s=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ki((e.updateMask.fieldPaths||[]).map(h=>_n.fromServerFormat(h)));return new Ua(i,s,o,n,r)}return new Af(i,s,n,r)}if(e.delete){const i=ea(t,e.delete);return new xf(i,n)}if(e.verify){const i=ea(t,e.verify);return new Vx(i,n)}return Ee()}function jz(t,e){return{documents:[qx(t,e.path)]}}function Wx(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=qx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return zz(Qt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:tc((m=u).field),direction:Ide(m.dir)};var m})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$x(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n;var l}function Hz(t){let e=Lz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const g=$z(m);return g instanceof Qt&&Px(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(g=>{return new M_(Mf((b=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;n.limit&&(a=function(m){let g;return g="object"==typeof m?m.value:m,C_(g)?null:g}(n.limit));let l=null;var m;n.startAt&&(l=new ec((m=n.startAt).values||[],!!m.before));let u=null;return n.endAt&&(u=function(m){return new ec(m.values||[],!m.before)}(n.endAt)),rz(e,i,o,s,a,"F",l,u)}function $z(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mf(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mf(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mf(n.unaryFilter.field);return wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mf(n.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):void 0!==t.fieldFilter?wt.create(Mf((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Qt.create(n.compositeFilter.filters.map(r=>$z(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee();var n}function Ide(t){return pde[t]}function Tde(t){return mde[t]}function Cde(t){return gde[t]}function tc(t){return{fieldPath:t.canonicalString()}}function Mf(t){return _n.fromServerFormat(t.fieldPath)}function zz(t){return t instanceof wt?function(n){if("=="===n.op){if(j$(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NAN"}};if(B$(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(j$(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NAN"}};if(B$(n.value))return{unaryFilter:{field:tc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(n.field),op:Tde(n.op),value:n.value}}}(t):t instanceof Qt?function(n){const r=n.getFilters().map(i=>zz(i));return 1===r.length?r[0]:{compositeFilter:{op:Cde(n.op),filters:r}}}(t):Ee()}function Dde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ba{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=Ir.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gz{constructor(e){this.ut=e}}function Wz(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:aI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:H_(s=t.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Rf(s,o.version.toTimestamp()),createTime:Rf(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nu(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:n.path.toArray(),version:Nu(e.version)}}var s,o;return r}function aI(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ku(t){const e=new Cn(t.seconds,t.nanoseconds);return Se.fromTimestamp(e)}function Ou(t,e){const n=(e.baseMutations||[]).map(s=>Gx(t.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>Gx(t.ut,s)),i=Cn.fromMillis(e.localWriteTimeMs);return new Ux(e.batchId,i,n,r)}function q_(t){const e=ku(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?ku(t.lastLimboFreeSnapshotVersion):Se.min();let r;return r=void 0!==t.query.documents?(De(1===(s=t.query).documents.length),Ni(If(Lz(s.documents[0])))):function(s){return Ni(Hz(s))}(t.query),new Ba(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ir.fromBase64String(t.resumeToken));var s}function Kz(t,e){const n=Nu(e.snapshotVersion),r=Nu(e.lastLimboFreeSnapshotVersion);let i;i=Jw(e.target)?jz(t.ut,e.target):Wx(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ru(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Kx(t){const e=Hz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?tI(e,e.limit,"L"):e}function Yx(t,e){return new jx(e.largestBatchId,Gx(t.ut,e.overlayMutation))}function Yz(t,e){const n=e.path.lastSegment();return[t,ui(e.path.popLast()),n]}function Qz(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Nu(r.readTime),documentKey:ui(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ade{getBundleMetadata(e,n){return Xz(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:ku(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return Xz(e).put({bundleId:(i=n).id,createTime:Nu(Xn(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Zz(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:Kx(s.bundledQuery),readTime:ku(s.readTime)};var s})}saveNamedQuery(e,n){return Zz(e).put({name:(i=n).name,readTime:Nu(Xn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Xz(t){return kr(t,"bundles")}function Zz(t){return kr(t,"namedQueries")}class lI{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new lI(e,n.uid||"")}getOverlay(e,n){return G_(e).get(Yz(this.userId,n)).next(r=>r?Yx(this.serializer,r):null)}getOverlays(e,n){const r=Jo();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new jx(n,o);i.push(this.lt(e,a))}),P.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(ui(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(G_(e).H("collectionPathOverlayIndex",a))}),P.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Jo(),s=ui(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return G_(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Yx(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Jo();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return G_(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const m=Yx(this.serializer,u);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):h.done()}).next(()=>s)}lt(e,n){return G_(e).put(function(i,s,o){const[a,l,u]=Yz(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:z_(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function G_(t){return kr(t,"documentOverlays")}class Fu{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(jn(e.integerValue));else if("doubleValue"in e){const r=jn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),D_(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Fa(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?H$(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Ee()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),he.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function xde(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Jz(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=xde(255&r[s]);if(i+=o,8!==o)break}return i}(t);return Math.ceil(e/8)}Fu.St=new Fu;class Rde{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=Jz(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=Jz(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Mde{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Pde{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class W_{constructor(){this.Wt=new Rde,this.Gt=new Mde(this.Wt),this.zt=new Pde(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Lu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Lu(this.indexId,this.documentKey,this.arrayValue,r)}}function nc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=e4(t.arrayValue,e.arrayValue),0!==n?n:(n=e4(t.directionalValue,e.directionalValue),0!==n?n:he.comparator(t.documentKey,e.documentKey)))}function e4(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class t4{constructor(e){this.Jt=new tn((n,r)=>_n.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(De(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Tx(e);if(void 0!==n&&!this.tn(n))return!1;const r=Du(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new tn(_n.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Su(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Su(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Su(r.field,"asc"===r.dir?0:1)));return new yf(yf.UNKNOWN_ID,this.collectionId,n,vf.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function n4(t){var e,n;if(De(t instanceof wt||t instanceof Qt),t instanceof wt){if(t instanceof ez){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(s=>wt.create(t.field,"==",s)))||[];return Qt.create(i,"or")}return t}const r=t.filters.map(i=>n4(i));return Qt.create(r,t.op)}function Nde(t){if(0===t.getFilters().length)return[];const e=Zx(n4(t));return De(r4(e)),Qx(e)||Xx(e)?[e]:e.getFilters()}function Qx(t){return t instanceof wt}function Xx(t){return t instanceof Qt&&Px(t)}function r4(t){return Qx(t)||Xx(t)||function(n){if(n instanceof Qt&&Mx(n)){for(const r of n.getFilters())if(!Qx(r)&&!Xx(r))return!1;return!0}return!1}(t)}function Zx(t){if(De(t instanceof wt||t instanceof Qt),t instanceof wt)return t;if(1===t.filters.length)return Zx(t.filters[0]);const e=t.filters.map(r=>Zx(r));let n=Qt.create(e,t.op);return n=cI(n),r4(n)?n:(De(n instanceof Qt),De(wf(n)),De(n.filters.length>1),n.filters.reduce((r,i)=>Jx(r,i)))}function Jx(t,e){let n;return De(t instanceof wt||t instanceof Qt),De(e instanceof wt||e instanceof Qt),n=t instanceof wt?e instanceof wt?Qt.create([t,e],"and"):i4(t,e):e instanceof wt?i4(e,t):function(i,s){if(De(i.filters.length>0&&s.filters.length>0),wf(i)&&wf(s))return X$(i,s.getFilters());const o=Mx(i)?i:s,a=Mx(i)?s:i,l=o.filters.map(u=>Jx(u,a));return Qt.create(l,"or")}(t,e),cI(n)}function i4(t,e){if(wf(e))return X$(e,t.getFilters());{const n=e.filters.map(r=>Jx(t,r));return Qt.create(n,"or")}}function cI(t){if(De(t instanceof wt||t instanceof Qt),t instanceof wt)return t;const e=t.getFilters();if(1===e.length)return cI(e[0]);if(Y$(t))return t;const n=e.map(i=>cI(i)),r=[];return n.forEach(i=>{i instanceof wt?r.push(i):i instanceof Qt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Qt.create(r,t.op)}class kde{constructor(){this.on=new eR}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(gs.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class eR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(St.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(St.comparator)).toArray()}}const uI=new Uint8Array(0);class Ode{constructor(e,n){this.user=e,this.databaseId=n,this._n=new eR,this.an=new Va(r=>Ru(r),(r,i)=>P_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:ui(i)};return s4(e).put(s)}return P.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[w$(n),""],!1,!0);return s4(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Xo(o.parent))}return r})}addFieldIndex(e,n){const r=K_(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const s=r.add(i);if(n.indexState){const o=Nf(e);return s.next(a=>{o.put(Qz(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=K_(e),i=Nf(e),s=Pf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=K_(e),r=Pf(e),i=Nf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return P.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new t4(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Pf(e);let i=!0;const s=new Map;return P.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=st();const a=[];return P.forEach(s,(l,u)=>{var N;ne("IndexedDbIndexManager",`Using index ${N=l,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`} to execute ${Ru(n)}`);const h=function(N,z){const se=Tx(z);if(void 0===se)return null;for(const _e of eI(N,se.fieldPath))switch(_e.op){case"array-contains-any":return _e.value.arrayValue.values||[];case"array-contains":return[_e.value]}return null}(u,l),m=function(N,z){const se=new Map;for(const _e of Du(z))for(const Je of eI(N,_e.fieldPath))switch(Je.op){case"==":case"in":se.set(_e.fieldPath.canonicalString(),Je.value);break;case"not-in":case"!=":return se.set(_e.fieldPath.canonicalString(),Je.value),Array.from(se.values())}return null}(u,l),g=function(N,z){const se=[];let _e=!0;for(const Je of Du(z)){const Mt=0===Je.kind?tz(N,Je.fieldPath,N.startAt):nz(N,Je.fieldPath,N.startAt);se.push(Mt.value),_e&&(_e=Mt.inclusive)}return new ec(se,_e)}(u,l),y=function(N,z){const se=[];let _e=!0;for(const Je of Du(z)){const Mt=0===Je.kind?nz(N,Je.fieldPath,N.endAt):tz(N,Je.fieldPath,N.endAt);se.push(Mt.value),_e&&(_e=Mt.inclusive)}return new ec(se,_e)}(u,l),b=this.ln(l,u,g),w=this.ln(l,u,y),I=this.hn(l,u,m),x=this.Pn(l.indexId,h,b,g.inclusive,w,y.inclusive,I);return P.forEach(x,A=>r.j(A,n.limit).next(N=>{N.forEach(z=>{const se=he.fromSegments(z.documentKey);o.has(se)||(o=o.add(se),a.push(se))})}))}).next(()=>a)}return P.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:Nde(Qt.create(e.filters,"and")).map(r=>kx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(null!=n?n.length:1)*Math.max(r.length,s.length),u=l/(null!=n?n.length:1),h=[];for(let m=0;m<l;++m){const g=n?this.In(n[m/u]):uI,y=this.Tn(e,g,r[m%u],i),b=this.En(e,g,s[m%u],o),w=a.map(I=>this.Tn(e,g,I,!0));h.push(...this.createRange(y,b,w))}return h}Tn(e,n,r,i){const s=new Lu(e,he.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new Lu(e,he.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new t4(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return P.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(l){let u=new tn(_n.comparator),h=!1;for(const m of l.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:u=u.add(g.field));for(const m of l.orderBy)m.field.isKeyField()||(u=u.add(m.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new W_;for(const i of Du(e)){const s=n.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Fu.St.ht(s,o)}return r.Ut()}In(e){const n=new W_;return Fu.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new W_;return Fu.St.ht(xu(this.databaseId,n),r.jt(function(s){const o=Du(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new W_);let s=0;for(const o of Du(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&x_(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);Fu.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new W_;l.seed(a.Ut()),Fu.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=K_(e),i=Nf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return P.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,m){const g=m?new vf(m.sequenceNumber,new gs(ku(m.readTime),new he(Xo(m.documentKey)),m.largestBatchId)):vf.empty(),y=h.fields.map(([b,w])=>new Su(_n.fromServerFormat(b),w));return new yf(h.indexId,h.collectionGroup,y,g)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ye(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=K_(e),s=Nf(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>P.forEach(a,l=>s.put(Qz(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return P.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?P.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),P.forEach(a,l=>this.gn(e,i,l).next(u=>{const h=this.pn(s,l);return u.isEqual(h)?P.resolve():this.yn(e,s,l,u,h)}))))})}wn(e,n,r,i){return Pf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Pf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Pf(e);let s=new tn(nc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Lu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new tn(nc);const i=this.dn(n,e);if(null==i)return r;const s=Tx(n);if(null!=s){const o=e.data.field(s.fieldPath);if(x_(o))for(const a of o.arrayValue.values||[])r=r.add(new Lu(n.indexId,e.key,this.In(a),i))}else r=r.add(new Lu(n.indexId,e.key,uI,i));return r}yn(e,n,r,i,s){ne("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,h,m,g){const y=l.getIterator(),b=u.getIterator();let w=Ef(y),I=Ef(b);for(;w||I;){let x=!1,A=!1;if(w&&I){const N=h(w,I);N<0?A=!0:N>0&&(x=!0)}else null!=w?A=!0:x=!0;x?(m(I),I=Ef(b)):A?(g(w),w=Ef(y)):(w=Ef(y),I=Ef(b))}}(i,s,nc,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),P.waitFor(o)}fn(e){let n=1;return Nf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>nc(o,a)).filter((o,a,l)=>!a||0!==nc(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=nc(o,e),l=nc(o,n);if(0===a)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,uI,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,uI,[]]))}return s}bn(e,n){return nc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(o4)}getMinOffset(e,n){return P.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Ee())).next(o4)}}function s4(t){return kr(t,"collectionParents")}function Pf(t){return kr(t,"indexEntries")}function K_(t){return kr(t,"indexConfiguration")}function Nf(t){return kr(t,"indexState")}function o4(t){De(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Cx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new gs(e.readTime,e.documentKey,n)}const a4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class di{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l4(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(h,m,g)=>(a++,g.delete()));s.push(l.next(()=>{De(1===a)}));const u=[];for(const h of n.mutations){const m=M$(e,h.key.path,n.batchId);s.push(i.delete(m)),u.push(h.key)}return P.waitFor(s).next(()=>u)}function dI(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee();e=t.noDocument}return JSON.stringify(e).length}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(41943040,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class hI{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){De(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new hI(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=kf(e),o=rc(e);return o.add({}).next(a=>{De("number"==typeof a);const l=new Ux(a,n,r,i),u=function(y,b,w){const I=w.baseMutations.map(A=>z_(y.ut,A)),x=w.mutations.map(A=>z_(y.ut,A));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:I,mutations:x}}(this.serializer,this.userId,l),h=[];let m=new tn((g,y)=>Ye(g.canonicalString(),y.canonicalString()));for(const g of i){const y=M$(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),h.push(o.put(u)),h.push(s.put(y,Iue))}return m.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),P.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return rc(e).get(n).next(r=>r?(De(r.userId===this.userId),Ou(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?P.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return rc(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(De(a.batchId>=r),s=Ou(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return rc(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).W("userMutationsIndex",n).next(r=>r.map(i=>Ou(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Gw(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return kf(e).Y({range:i},(o,a,l)=>{const[u,h,m]=o,g=Xo(h);if(u===this.userId&&n.path.isEqual(g))return rc(e).get(m).next(y=>{if(!y)throw Ee();De(y.userId===this.userId),s.push(Ou(this.serializer,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Ye);const i=[];return n.forEach(s=>{const o=Gw(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=kf(e).Y({range:a},(u,h,m)=>{const[g,y,b]=u,w=Xo(y);g===this.userId&&s.path.isEqual(w)?r=r.add(b):m.done()});i.push(l)}),P.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Gw(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new tn(Ye);return kf(e).Y({range:o},(l,u,h)=>{const[m,g,y]=l,b=Xo(g);m===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(rc(e).get(s).next(o=>{if(null===o)throw Ee();De(o.userId===this.userId),r.push(Ou(this.serializer,o))}))}),P.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return l4(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),P.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return kf(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Xo(s[1]);i.push(l)}else a.done()}).next(()=>{De(0===i.length)})})}containsKey(e,n){return c4(e,this.userId,n)}Mn(e){return u4(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c4(t,e,n){const r=Gw(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return kf(t).Y({range:s,J:!0},(a,l,u)=>{const[h,m,g]=a;h===e&&m===i&&(o=!0),u.done()}).next(()=>o)}function rc(t){return kr(t,"mutations")}function kf(t){return kr(t,"documentMutations")}function u4(t){return kr(t,"mutationQueues")}class Vu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Vu(0)}static Nn(){return new Vu(-1)}}class Fde{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Vu(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Se.fromTimestamp(new Cn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Of(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(De(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Of(e).Y((o,a)=>{const l=q_(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>P.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Of(e).Y((r,i)=>{const s=q_(i);n(s)})}Bn(e){return d4(e).get("targetGlobalKey").next(n=>(De(null!==n),n))}Ln(e,n){return d4(e).put("targetGlobalKey",n)}kn(e,n){return Of(e).put(Kz(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ru(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Of(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=q_(a);P_(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ic(e);return n.forEach(o=>{const a=ui(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),P.waitFor(i)}removeMatchingKeys(e,n,r){const i=ic(e);return P.forEach(n,s=>{const o=ui(s.path);return P.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ic(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ic(e);let s=st();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Xo(o[1]),h=new he(u);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=ui(n.path),i=IDBKeyRange.bound([r],[w$(r)],!1,!0);let s=0;return ic(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{0!==o&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return Of(e).get(n).next(r=>r?q_(r):null)}}function Of(t){return kr(t,"targets")}function d4(t){return kr(t,"targetGlobal")}function ic(t){return kr(t,"targetDocuments")}function h4([t,e],[n,r]){const i=Ye(t,n);return 0===i?Ye(e,r):i}class Lde{constructor(e){this.Qn=e,this.buffer=new tn(h4),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();h4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,E.c)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Wl(r)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gl(r)}yield n.Gn(3e5)}))}}class Vde{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return P.resolve(_s._e);const r=new Lde(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(a4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a4):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),gf()<=Wo.Ge.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(u-l)+`ms\nTotal Duration: ${u-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}class Ude{constructor(e,n){this.db=e,this.garbageCollector=function p4(t,e){return new Vde(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return fI(e,r)}removeReference(e,n,r){return fI(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return fI(e,n)}Xn(e,n){return function(i,s){let o=!1;return u4(i).Z(a=>c4(i,a,s).next(l=>(l&&(o=!0),P.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Se.min()),ic(e).delete([0,ui(o.path)])))});i.push(l)}}).next(()=>P.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return fI(e,n)}Zn(e,n){const r=ic(e);let i,s=_s._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{0===o?(s!==_s._e&&n(new he(Xo(i)),s),s=u,i=l):s=_s._e}).next(()=>{s!==_s._e&&n(new he(Xo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fI(t,e){return ic(t).put((i=t.currentSequenceNumber,{targetId:0,path:ui(e.path),sequenceNumber:i}));var i}class m4{constructor(){this.changes=new Va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bde{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Uu(e).put(r)}removeEntry(e,n,r){return Uu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],aI(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=yn.newInvalidDocument(n);return Uu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Y_(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:yn.newInvalidDocument(n)};return Uu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Y_(n))},(i,s)=>{r={document:this.tr(n,s),size:dI(s)}}).next(()=>r)}getEntries(e,n){let r=Yi();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=Yi(),i=new hn(he.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,dI(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return P.resolve();let i=new tn(v4);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Y_(i.first()),Y_(i.last())),o=i.getIterator();let a=o.getNext();return Uu(e).Y({index:"documentKeyIndex",range:s},(l,u,h)=>{const m=he.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&v4(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?h.U(Y_(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),aI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uu(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let h=Yi();for(const m of u){const g=this.tr(he.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(k_(n,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=Yi();const o=y4(n,r),a=y4(n,gs.max());return Uu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,h)=>{const m=this.tr(he.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(m.key,m),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new jde(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return _4(e).get("remoteDocumentGlobalKey").next(n=>(De(!!n),n))}er(e,n){return _4(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function Sde(t,e){let n;if(e.document)n=Bz(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),i=ku(e.noDocument.readTime);n=yn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=he.fromSegments(e.unknownDocument.path),i=ku(e.unknownDocument.version);n=yn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Cn(i[0],i[1]);return Se.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Se.min()))return r}return yn.newInvalidDocument(e)}}function g4(t){return new Bde(t)}class jde extends m4{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Va(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new tn((s,o)=>Ye(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Wz(this._r.serializer,o);i=i.add(s.path.popLast());const u=dI(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Wz(this._r.serializer,o.convertToNoDocument(Se.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),P.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function _4(t){return kr(t,"remoteDocumentGlobal")}function Uu(t){return kr(t,"remoteDocumentsV14")}function Y_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function y4(t,e){const n=e.documentKey.path.toArray();return[t,aI(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function v4(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ye(n[s],r[s]),i)return i;return i=Ye(n.length,r.length),i||(i=Ye(n[n.length-2],r[r.length-2]),i||Ye(n[n.length-1],r[r.length-1]))}class Hde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class E4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&V_(r.mutation,i,Ki.empty(),Cn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=Jo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=O_();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Jo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yi();const o=F_(),a=F_();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(void 0===h||h.mutation instanceof Ua)?s=s.insert(u.key,u):void 0!==h?(o.set(u.key,h.mutation.getFieldMask()),V_(h.mutation,u,h.mutation.getFieldMask(),Cn.now())):o.set(u.key,Ki.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var m;return a.set(u,new Hde(h,null!==(m=o.get(u))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=F_();let i=new hn((o,a)=>o-a),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let h=r.get(l)||Ki.empty();h=a.applyToLocalView(u,h),r.set(l,h);const m=(i.get(a.batchId)||st()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,m=dz();h.forEach(g=>{if(!s.has(g)){const y=Ez(n.get(g),r.get(g));null!==y&&m.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return he.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Ox(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Jo());let a=-1,l=s;return o.next(u=>P.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,st())).next(h=>({batchId:a,changes:uz(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=O_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=O_();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,l=>{const u=(m=n,g=l.child(s),new La(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,g;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();null===o.get(h)&&(o=o.insert(h,yn.newInvalidDocument(h)))});let a=O_();return o.forEach((l,u)=>{const h=s.get(l);void 0!==h&&V_(h.mutation,u,Ki.empty(),Cn.now()),k_(n,u)&&(a=a.insert(l,u))}),a})}}class $de{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:Xn(i.createTime)}),P.resolve();var i}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:Kx(i.bundledQuery),readTime:Xn(i.readTime)}),P.resolve();var i}}class zde{constructor(){this.overlays=new hn(he.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jo();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Jo(),s=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new hn((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);null===h&&(h=Jo(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Jo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jx(n,r));let s=this.lr.get(n);void 0===s&&(s=st(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class tR{constructor(){this.hr=new tn(Or.Pr),this.Ir=new tn(Or.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Or(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Or(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new he(new St([])),r=new Or(n,e),i=new Or(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new he(new St([])),r=new Or(n,e),i=new Or(n,e+1);let s=st();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Or(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Or{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return he.comparator(e.key,n.key)||Ye(e.gr,n.gr)}static Tr(e,n){return Ye(e.gr,n.gr)||he.comparator(e.key,n.key)}}class qde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new tn(Or.Pr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new Ux(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Or(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Or(n,0),i=new Or(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Ye);return n.forEach(i=>{const s=new Or(i,0),o=new Or(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Or(new he(s),0);let a=new tn(Ye);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){De(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const s=new Or(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Or(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Gde{constructor(e){this.Cr=e,this.docs=new hn(he.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Yi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yi();const o=n.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Cx(T$(h),r)<=0||(i.has(h.key)||k_(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wde(this)}getSize(e){return P.resolve(this.size)}}class Wde extends m4{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Kde{constructor(e){this.persistence=e,this.Fr=new Va(n=>Ru(n),P_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Mr=0,this.Or=new tR,this.targetCount=0,this.Nr=Vu.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Vu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}class nR{constructor(e,n){this.Br={},this.overlays={},this.Lr=new _s(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Kde(this),this.indexManager=new kde,this.remoteDocumentCache=new Gde(r=>this.referenceDelegate.Qr(r)),this.serializer=new Gz(n),this.Kr=new $de(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new qde(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new Yde(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Yde extends D${constructor(e){super(),this.currentSequenceNumber=e}}class pI{constructor(e){this.persistence=e,this.Gr=new tR,this.zr=null}static jr(e){return new pI(e)}get Hr(){if(this.zr)return this.zr;throw Ee()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=he.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Qde{constructor(e){this.serializer=e}N(e,n,r,i){const s=new qw("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R$,{unique:!0}),l.createObjectStore("documentMutations"),b4(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=P.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),b4(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R$,{unique:!0});const m=u.store("mutations"),g=h.map(y=>m.put(y));return P.waitFor(g)})}(e,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Oue});u.createIndex("collectionPathOverlayIndex",Fue,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Lue,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Tue});u.createIndex("documentKeyIndex",Cue),u.createIndex("collectionGroupIndex",Due)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Mue}).createIndex("sequenceNumberIndex",Pue,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Nue}).createIndex("documentKeyIndex",kue,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=dI(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>P.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>P.forEach(a,l=>{De(l.userId===s.userId);const u=Ou(this.serializer,l);return l4(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new St(o),u=[0,ui(l)];s.push(n.get(u).next(h=>h?P.resolve():n.put({targetId:0,path:ui(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>P.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Rue});const r=n.store("collectionParents"),i=new eR,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:ui(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new St(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const h=Xo(a);return s(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=q_(i),o=Kz(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(m=o,m.document?new he(St.fromString(m.document.name).popFirst(5)):m.noDocument?he.fromSegments(m.noDocument.path):m.unknownDocument?he.fromSegments(m.unknownDocument.path):Ee()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;i.push(a.put(u))}).next(()=>P.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=g4(this.serializer),s=new nR(pI.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let h=null!==(u=a.get(l.userId))&&void 0!==u?u:st();Ou(this.serializer,l).keys().forEach(m=>h=h.add(m)),a.set(l.userId,h)}),P.forEach(a,(l,u)=>{const h=new Nr(u),m=lI.ct(this.serializer,h),g=s.getIndexManager(h),y=hI.ct(h,this.serializer,g,s.referenceDelegate);return new E4(i,y,m,g).recalculateAndSaveOverlaysForDocumentKeys(new Ax(n,_s._e),l).next()})})}}function b4(t){t.createObjectStore("targetDocuments",{keyPath:Aue}).createIndex("documentTargetsIndex",xue,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sue,{unique:!0}),t.createObjectStore("targetGlobal")}const rR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iR{constructor(e,n,r,i,s,o,a,l,u,h,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=h,this.ai=m,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!iR.D())throw new J(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ude(this,i),this.Ii=n+"main",this.serializer=new Gz(l),this.Ti=new yo(this.Ii,this.ai,new Qde(this.serializer)),this.qr=new Fde(this.referenceDelegate,this.serializer),this.remoteDocumentCache=g4(this.serializer),this.Kr=new Ade,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(U.FAILED_PRECONDITION,rR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new _s(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,E.c)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,E.c)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,E.c)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Wl(e))return ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Q_(e).get("owner").next(n=>P.resolve(this.wi(n)))}Si(e){return gI(e).delete(this.clientId)}bi(){var e=this;return(0,E.c)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=kr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return P.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?P.resolve(!0):Q_(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new J(U.FAILED_PRECONDITION,rR);return!1}}return!(!this.networkEnabled||!this.inForeground)||gI(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ne("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,E.c)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new Ax(n,_s._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>gI(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return hI.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ode(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return lI.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",s=15===(l=this.ai)?Uue:14===l?k$:13===l?N$:12===l?Vue:11===l?P$:void Ee();var l;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new Ax(a,this.Lr?this.Lr.next():_s._e),"readwrite-primary"===n?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw Qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new J(U.FAILED_PRECONDITION,C$);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Q_(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(U.FAILED_PRECONDITION,rR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Q_(e).put("owner",n)}static D(){return yo.D()}pi(e){const n=Q_(e);return n.get("owner").next(r=>this.wi(r)?(ne("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):P.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(Qn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,_t.qk)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Qn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Q_(t){return kr(t,"owner")}function gI(t){return kr(t,"clientMetadata")}function sR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class oR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new oR(e,n.fromCache,r,i)}}class Xde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class w4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Xde;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(gf()<=Wo.Ge.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Cf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(gf()<=Wo.Ge.DEBUG&&ne("QueryEngine","Query:",Cf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(gf()<=Wo.Ge.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Cf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):P.resolve())}zi(e,n){if(iz(n))return P.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=tI(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=st(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,tI(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return iz(n)||i.isEqual(Se.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?P.resolve(null):(gf()<=Wo.Ge.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cf(n)),this.Xi(e,o,n,I$(i,-1)).next(a=>a))})}Yi(e,n){let r=new tn(lz(e));return n.forEach((i,s)=>{k_(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return gf()<=Wo.Ge.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Cf(n)),this.Gi.getDocumentsMatchingQuery(e,n,gs.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Zde{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new hn(Ye),this.ns=new Va(s=>Ru(s),P_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function I4(t,e,n,r){return new Zde(t,e,n,r)}function T4(t,e){return aR.apply(this,arguments)}function aR(){return aR=(0,E.c)(function*(t,e){const n=de(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=st();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}),aR.apply(this,arguments)}function C4(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function D4(t,e,n){let r=st(),i=st();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function the(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ff(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ba(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Lf(t,e,n){return lR.apply(this,arguments)}function lR(){return lR=(0,E.c)(function*(t,e,n){const r=de(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Wl(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),lR.apply(this,arguments)}function _I(t,e,n){const r=de(t);let i=Se.min(),s=st();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const m=de(l),g=m.ns.get(h);return void 0!==g?P.resolve(m.ts.get(g)):m.qr.getTargetData(u,h)}(r,o,Ni(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:st())).next(a=>(x4(r,az(e),a),{documents:a,ls:s})))}function S4(t,e){const n=de(t),r=de(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function A4(t,e){const n=de(t),r=n.rs.get(e)||Se.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,I$(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(x4(n,e,i),i))}function x4(t,e,n){let r=t.rs.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}function cR(){return cR=(0,E.c)(function*(t,e,n,r){const i=de(t);let s=st(),o=Yi();for(const u of n){const h=e.hs(u.metadata.name);u.document&&(s=s.add(h));const m=e.Ps(u);m.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(h,m)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=yield Ff(i,(h=r,Ni(If(St.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>D4(u,a,o).next(h=>(a.apply(u),h)).next(h=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.us,h.cs)).next(()=>h.us)))}),cR.apply(this,arguments)}function rhe(t,e){return uR.apply(this,arguments)}function uR(){return uR=(0,E.c)(function*(t,e,n=st()){const r=yield Ff(t,Ni(Kx(e.bundledQuery))),i=de(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Xn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Ir.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),uR.apply(this,arguments)}function R4(t,e){return`firestore_clients_${t}_${e}`}function M4(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function dR(t,e){return`firestore_targets_${t}_${e}`}class yI{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new J(i.error.code,i.error.message))),o?new yI(e,n,i.state,s):(Qn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class X_{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new J(r.error.code,r.error.message))),s?new X_(e,r.state,i):(Qn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vI{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Lx();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=A$(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new vI(e,s):(Qn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class hR{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new hR(n.clientId,n.onlineState):(Qn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fR{constructor(){this.activeTargetIds=Lx()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pR{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new hn(Ye),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=R4(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new fR),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,E.c)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const s=e.getItem(R4(e.persistenceKey,i));if(s){const o=vI.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(dR(this.persistenceKey,e));if(r){const i=X_.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dR(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ne("SharedClientState","READ",e,n),n}setItem(e,n){ne("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Qn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,E.c)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(o){let a=_s._e;if(null!=o)try{const l=JSON.parse(o);De("number"==typeof l),a=l}catch(l){Qn("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==_s._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(s=>n.syncEngine.Js(s)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new yI(this.currentUser,e,n,r),s=M4(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=M4(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=dR(this.persistenceKey,e),s=new X_(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return vI.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return yI.Ts(new Nr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return X_.Ts(i,n)}Ms(e){return hR.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,E.c)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Lx();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class P4{constructor(){this.eo=new fR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new fR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ihe{ro(e){}shutdown(){}}class N4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let EI=null;function mR(){return null===EI?EI=268435456+Math.round(2147483648*Math.random()):EI++,"0x"+EI.toString(16)}const she={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ohe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const hi="WebChannelConnection";class ahe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=mR(),l=this.So(n,r);ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(h=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Wi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+mf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${she[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=mR();return new Promise((o,a)=>{const l=new iue;l.setWithCredentials(!0),l.listenOnce(tue.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wx.NO_ERROR:const h=l.getResponseJson();ne(hi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case wx.TIMEOUT:ne(hi,`RPC '${e}' ${s} timed out`),a(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case wx.HTTP_ERROR:const m=l.getStatus();if(ne(hi,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const b=function(I){const x=I.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(y.status);a(new J(b,y.message))}else a(new J(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(U.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ne(hi,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ne(hi,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=mR(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jce(),a=eue(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new rue({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ne(hi,`Creating RPC '${e}' stream ${i}: ${h}`,l);const m=o.createWebChannel(h,l);let g=!1,y=!1;const b=new ohe({co:I=>{y?ne(hi,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(g||(ne(hi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),ne(hi,`RPC '${e}' stream ${i} sending:`,I),m.send(I))},lo:()=>m.close()}),w=(I,x,A)=>{I.listen(x,N=>{try{A(N)}catch(z){setTimeout(()=>{throw z},0)}})};return w(m,zw.EventType.OPEN,()=>{y||ne(hi,`RPC '${e}' stream ${i} transport opened.`)}),w(m,zw.EventType.CLOSE,()=>{y||(y=!0,ne(hi,`RPC '${e}' stream ${i} transport closed`),b.Ro())}),w(m,zw.EventType.ERROR,I=>{y||(y=!0,Wi(hi,`RPC '${e}' stream ${i} transport errored:`,I),b.Ro(new J(U.UNAVAILABLE,"The operation could not be completed")))}),w(m,zw.EventType.MESSAGE,I=>{var x;if(!y){const A=I.data[0];De(!!A);const z=A.error||(null===(x=A[0])||void 0===x?void 0:x.error);if(z){ne(hi,`RPC '${e}' stream ${i} received error:`,z);const se=z.status;let _e=function(Fi){const za=lr[Fi];if(void 0!==za)return Dz(za)}(se),Je=z.message;void 0===_e&&(_e=U.INTERNAL,Je="Unknown error status: "+se+" with message "+z.message),y=!0,b.Ro(new J(_e,Je)),m.close()}else ne(hi,`RPC '${e}' stream ${i} received:`,A),b.Vo(A)}}),w(a,nue.STAT_EVENT,I=>{I.stat===_$.PROXY?ne(hi,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===_$.NOPROXY&&ne(hi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function k4(){return typeof window<"u"?window:null}function bI(){return typeof document<"u"?document:null}function Z_(t){return new _de(t,!0)}class gR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class O4{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gR(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,E.c)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,E.c)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,E.c)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===U.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,E.c)(function*(){e.state=0,e.start()}))}o_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lhe extends O4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Ede(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Ee(),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(De(void 0===h||"string"==typeof h),Ir.fromBase64String(h||"")):(De(void 0===h||h instanceof Uint8Array),Ir.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=void 0===u.code?U.UNKNOWN:Dz(u.code);return new J(h,u.message||"")}(o);n=new Mz(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ea(t,r.document.name),s=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):Se.min(),a=new Yr({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,s,o,a);n=new oI(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ea(t,r.document),s=r.readTime?Xn(r.readTime):Se.min(),o=yn.newNoDocument(i,s);n=new oI([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ea(t,r.document);n=new oI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ee();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new dde(i,s);n=new Rz(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Xn(o.readTime):Se.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=$_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Jw(l)?{documents:jz(s,l)}:{query:Wx(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Oz(s,o.resumeToken);const u=$x(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=Rf(s,o.snapshotVersion.toTimestamp());const u=$x(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function wde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=$_(this.serializer),n.removeTarget=e,this.e_(n)}}class che extends O4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function bde(t,e){return t&&t.length>0?(De(void 0!==e),t.map(n=>function(i,s){let o=Xn(i.updateTime?i.updateTime:s);return o.isEqual(Se.min())&&(o=Xn(s)),new ade(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.I_(r,n)}return De(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=$_(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z_(this.serializer,r))};this.e_(n)}}class uhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(U.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class hhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Qn(n),this.f_=!1):ne("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class fhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,E.c)(function*(){var l;sc(o)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,E.c)(function*(h){const m=de(h);m.C_.add(4),yield Vf(m),m.M_.set("Unknown"),m.C_.delete(4),yield J_(m)}),function u(h){return l.apply(this,arguments)})(o))}))}),this.M_=new hhe(r,i)}}function J_(t){return yR.apply(this,arguments)}function yR(){return yR=(0,E.c)(function*(t){if(sc(t))for(const e of t.v_)yield e(!0)}),yR.apply(this,arguments)}function Vf(t){return vR.apply(this,arguments)}function vR(){return vR=(0,E.c)(function*(t){for(const e of t.v_)yield e(!1)}),vR.apply(this,arguments)}function wI(t,e){const n=de(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),wR(n)?bR(n):Bf(n).Ho()&&ER(n,e))}function ey(t,e){const n=de(t),r=Bf(n);n.D_.delete(e),r.Ho()&&F4(n,e),0===n.D_.size&&(r.Ho()?r.Zo():sc(n)&&n.M_.set("Unknown"))}function ER(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bf(t).u_(e)}function F4(t,e){t.x_.Oe(e),Bf(t).c_(e)}function bR(t){t.x_=new fde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bf(t).start(),t.M_.g_()}function wR(t){return sc(t)&&!Bf(t).jo()&&t.D_.size>0}function sc(t){return 0===de(t).C_.size}function L4(t){t.x_=void 0}function phe(t){return IR.apply(this,arguments)}function IR(){return IR=(0,E.c)(function*(t){t.D_.forEach((e,n)=>{ER(t,e)})}),IR.apply(this,arguments)}function mhe(t,e){return TR.apply(this,arguments)}function TR(){return TR=(0,E.c)(function*(t,e){L4(t),wR(t)?(t.M_.w_(e),bR(t)):t.M_.set("Unknown")}),TR.apply(this,arguments)}function ghe(t,e,n){return CR.apply(this,arguments)}function CR(){return CR=(0,E.c)(function*(t,e,n){if(t.M_.set("Online"),e instanceof Mz&&2===e.state&&e.cause)try{yield(r=(0,E.c)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield II(t,r)}else if(e instanceof oI?t.x_.$e(e):e instanceof Rz?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Se.min()))try{const r=yield C4(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.D_.get(u);h&&s.D_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.D_.get(l);if(!h)return;s.D_.set(l,h.withResumeToken(Ir.EMPTY_BYTE_STRING,h.snapshotVersion)),F4(s,l);const m=new Ba(h.target,l,u,h.sequenceNumber);ER(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),yield II(t,r)}var r}),CR.apply(this,arguments)}function II(t,e,n){return DR.apply(this,arguments)}function DR(){return DR=(0,E.c)(function*(t,e,n){if(!Wl(e))throw e;t.C_.add(1),yield Vf(t),t.M_.set("Offline"),n||(n=()=>C4(t.localStore)),t.asyncQueue.enqueueRetryable((0,E.c)(function*(){ne("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield J_(t)}))}),DR.apply(this,arguments)}function V4(t,e){return e().catch(n=>II(t,n,e))}function Uf(t){return SR.apply(this,arguments)}function SR(){return SR=(0,E.c)(function*(t){const e=de(t),n=oc(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;_he(e);)try{const i=yield the(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,yhe(e,i)}catch(i){yield II(e,i)}U4(e)&&B4(e)}),SR.apply(this,arguments)}function _he(t){return sc(t)&&t.b_.length<10}function yhe(t,e){t.b_.push(e);const n=oc(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function U4(t){return sc(t)&&!oc(t).jo()&&t.b_.length>0}function B4(t){oc(t).start()}function vhe(t){return AR.apply(this,arguments)}function AR(){return AR=(0,E.c)(function*(t){oc(t).E_()}),AR.apply(this,arguments)}function Ehe(t){return xR.apply(this,arguments)}function xR(){return xR=(0,E.c)(function*(t){const e=oc(t);for(const n of t.b_)e.P_(n.mutations)}),xR.apply(this,arguments)}function bhe(t,e,n){return RR.apply(this,arguments)}function RR(){return RR=(0,E.c)(function*(t,e,n){const r=t.b_.shift(),i=Bx.from(r,e,n);yield V4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Uf(t)}),RR.apply(this,arguments)}function whe(t,e){return MR.apply(this,arguments)}function MR(){return MR=(0,E.c)(function*(t,e){var n;e&&oc(t).h_&&(yield(n=(0,E.c)(function*(i,s){if(Cz(a=s.code)&&a!==U.ABORTED){const o=i.b_.shift();oc(i).Yo(),yield V4(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Uf(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),U4(t)&&B4(t)}),MR.apply(this,arguments)}function j4(t,e){return PR.apply(this,arguments)}function PR(){return PR=(0,E.c)(function*(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=sc(n);n.C_.add(3),yield Vf(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield J_(n)}),PR.apply(this,arguments)}function NR(t,e){return kR.apply(this,arguments)}function kR(){return kR=(0,E.c)(function*(t,e){const n=de(t);e?(n.C_.delete(2),yield J_(n)):e||(n.C_.add(2),yield Vf(n),n.M_.set("Unknown"))}),kR.apply(this,arguments)}function Bf(t){return t.O_||(t.O_=function(n,r,i){const s=de(n);return s.A_(),new lhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:phe.bind(null,t),Io:mhe.bind(null,t),a_:ghe.bind(null,t)}),t.v_.push(function(){var e=(0,E.c)(function*(n){n?(t.O_.Yo(),wR(t)?bR(t):t.M_.set("Unknown")):(yield t.O_.stop(),L4(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function oc(t){return t.N_||(t.N_=function(n,r,i){const s=de(n);return s.A_(),new che(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:vhe.bind(null,t),Io:whe.bind(null,t),T_:Ehe.bind(null,t),I_:bhe.bind(null,t)}),t.v_.push(function(){var e=(0,E.c)(function*(n){n?(t.N_.Yo(),yield Uf(t)):(yield t.N_.stop(),t.b_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class OR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new OR(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jf(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),Wl(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}class Hf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=O_(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new Hf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Hf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class H4{constructor(){this.B_=new hn(he.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ee():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $f{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $f(e,n,Hf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&N_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ihe{constructor(){this.k_=void 0,this.listeners=[]}}class The{constructor(){this.queries=new Va(e=>oz(e),N_),this.onlineState="Unknown",this.q_=new Set}}function FR(t,e){return LR.apply(this,arguments)}function LR(){return LR=(0,E.c)(function*(t,e){const n=de(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ihe),i)try{s.k_=yield n.onListen(r)}catch(o){const a=jf(o,`Initialization of query '${Cf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&BR(n)}),LR.apply(this,arguments)}function VR(t,e){return UR.apply(this,arguments)}function UR(){return UR=(0,E.c)(function*(t,e){const n=de(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),UR.apply(this,arguments)}function Che(t,e){const n=de(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&BR(n)}function Dhe(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function BR(t){t.q_.forEach(e=>{e.next()})}class jR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new $f(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=$f.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class She{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class $4{constructor(e){this.serializer=e}hs(e){return ea(this.serializer,e)}Ps(e){return e.metadata.exists?Bz(this.serializer,e.document,!1):yn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Xn(e)}}class Ahe{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=z4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=St.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new $4(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||st()).add(s);n.set(o,a)}}return n}complete(){var e=this;return(0,E.c)(function*(){const n=yield function nhe(t,e,n,r){return cR.apply(this,arguments)}(e.localStore,new $4(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield rhe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function z4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class q4{constructor(e){this.key=e}}class G4{constructor(e){this.key=e}}class W4{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=st(),this.mutatedKeys=st(),this._a=lz(e),this.aa=new Hf(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new H4,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const g=i.get(h),y=k_(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;g&&y?g.data.isEqual(y.data)?b!==w&&(r.track({type:3,doc:y}),I=!0):this.ha(g,y)||(r.track({type:2,doc:y}),I=!0,(l&&this._a(y,l)>0||u&&this._a(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),I=!0):g&&!y&&(r.track({type:1,doc:g}),I=!0,(l||u)&&(a=!0)),I&&(y?(o=o.add(y),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,h)=>function(g,y){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(g)-b(y)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new $f(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new H4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=st(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new G4(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new q4(r))}),n}da(e){this.ia=e.ls,this.oa=st();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return $f.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class xhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Rhe{constructor(e){this.key=e,this.Ra=!1}}class Mhe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Va(a=>oz(a),N_),this.fa=new Map,this.ga=new Set,this.pa=new hn(he.comparator),this.ya=new Map,this.wa=new tR,this.Sa={},this.ba=new Map,this.Da=Vu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Phe(t,e){return HR.apply(this,arguments)}function HR(){return HR=(0,E.c)(function*(t,e){const n=dM(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield Ff(n.localStore,Ni(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield $R(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&wI(n.remoteStore,o)}return i}),HR.apply(this,arguments)}function $R(t,e,n,r,i){return zR.apply(this,arguments)}function zR(){return zR=(0,E.c)(function*(t,e,n,r,i){t.va=(m,g,y)=>{return(b=(0,E.c)(function*(I,x,A,N){let z=x.view.ca(A);z.Zi&&(z=yield _I(I.localStore,x.query,!1).then(({documents:Je})=>x.view.ca(Je,z)));const se=N&&N.targetChanges.get(x.targetId),_e=x.view.applyChanges(z,I.isPrimaryClient,se);return eM(I,x.targetId,_e.Ta),_e.snapshot}),function w(I,x,A,N){return b.apply(this,arguments)})(t,m,g,y);var b};const s=yield _I(t.localStore,e,!0),o=new W4(e,s.ls),a=o.ca(s.documents),l=j_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,l);eM(t,n,u.Ta);const h=new xhe(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}),zR.apply(this,arguments)}function Nhe(t,e){return qR.apply(this,arguments)}function qR(){return qR=(0,E.c)(function*(t,e){const n=de(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!N_(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ey(n.remoteStore,r.targetId),zf(n,r.targetId)}).catch(Gl))):(zf(n,r.targetId),yield Lf(n.localStore,r.targetId,!0))}),qR.apply(this,arguments)}function GR(){return GR=(0,E.c)(function*(t,e,n){const r=hM(t);try{const i=yield function(o,a){const l=de(o),u=Cn.now(),h=a.reduce((y,b)=>y.add(b.key),st());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Yi(),w=st();return l.ss.getEntries(y,h).next(I=>{b=I,b.forEach((x,A)=>{A.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(I=>{m=I;const x=[];for(const A of a){const N=cde(A,m.get(A.key).overlayedDocument);null!=N&&x.push(new Ua(A.key,N,q$(N.value.mapValue),Dn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(I=>{g=I;const x=I.applyToLocalDocumentSet(m,w);return l.documentOverlayCache.saveOverlays(y,I.batchId,x)})}).then(()=>({batchId:g.batchId,changes:uz(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new hn(Ye)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield ja(r,i.changes),yield Uf(r.remoteStore)}catch(i){const s=jf(i,"Failed to persist write");n.reject(s)}}),GR.apply(this,arguments)}function K4(t,e){return WR.apply(this,arguments)}function WR(){return WR=(0,E.c)(function*(t,e){const n=de(t);try{const r=yield function ehe(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,m)=>{const g=i.get(m);if(!g)return;a.push(n.qr.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,m)));let y=g.withSequenceNumber(s.currentSequenceNumber);var w,I,x;null!==e.targetMismatches.get(m)?y=y.withResumeToken(Ir.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),I=y,x=h,(0===(w=g).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,y))});let l=Yi(),u=st();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(D4(s,o,e.documentUpdates).next(h=>{l=h.us,u=h.cs})),!r.isEqual(Se.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(m=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?De(o.Ra):i.removedDocuments.size>0&&(De(o.Ra),o.Ra=!1))}),yield ja(n,r,e)}catch(r){yield Gl(r)}}),WR.apply(this,arguments)}function Y4(t,e,n){const r=de(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let u=!1;l.queries.forEach((h,m)=>{for(const g of m.listeners)g.Q_(a)&&(u=!0)}),u&&BR(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ohe(t,e,n){return KR.apply(this,arguments)}function KR(){return KR=(0,E.c)(function*(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new hn(he.comparator);o=o.insert(s,yn.newNoDocument(s,Se.min()));const a=st().add(s),l=new B_(Se.min(),new Map,new hn(Ye),o,a);yield K4(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),tM(r)}else yield Lf(r.localStore,e,!1).then(()=>zf(r,e,n)).catch(Gl)}),KR.apply(this,arguments)}function Fhe(t,e){return YR.apply(this,arguments)}function YR(){return YR=(0,E.c)(function*(t,e){const n=de(t),r=e.batch.batchId;try{const i=yield function Jde(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const m=u.batch,g=m.keys();let y=P.resolve();return g.forEach(b=>{y=y.next(()=>h.getEntry(l,b)).next(w=>{const I=u.docVersions.get(b);De(null!==I),w.version.compareTo(I)<0&&(m.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=st();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);JR(n,r,null),ZR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ja(n,i)}catch(i){yield Gl(i)}}),YR.apply(this,arguments)}function Lhe(t,e,n){return QR.apply(this,arguments)}function QR(){return QR=(0,E.c)(function*(t,e,n){const r=de(t);try{const i=yield function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(m=>(De(null!==m),h=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);JR(r,e,n),ZR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ja(r,i)}catch(i){yield Gl(i)}}),QR.apply(this,arguments)}function XR(){return XR=(0,E.c)(function*(t,e){const n=de(t);sc(n.remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=de(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=jf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),XR.apply(this,arguments)}function ZR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function JR(t,e,n){const r=de(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function zf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Q4(t,r)})}function Q4(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(ey(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),tM(t))}function eM(t,e,n){for(const r of n)r instanceof q4?(t.wa.addReference(r.key,e),Uhe(t,r)):r instanceof G4?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Q4(t,r.key)):Ee()}function Uhe(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.ga.add(r),tM(t))}function tM(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new he(St.fromString(e)),r=t.Da.next();t.ya.set(r,new Rhe(n)),t.pa=t.pa.insert(n,r),wI(t.remoteStore,new Ba(Ni(If(n.path)),r,"TargetPurposeLimboResolution",_s._e))}}function ja(t,e,n){return nM.apply(this,arguments)}function nM(){return nM=(0,E.c)(function*(t,e,n){const r=de(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const h=oR.Qi(l.targetId,u);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,E.c)(function*(u,h){const m=de(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(h,y=>P.forEach(y.ki,b=>m.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>P.forEach(y.qi,b=>m.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!Wl(g))throw g;ne("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const b=m.ts.get(y),I=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);m.ts=m.ts.insert(y,I)}}}),function l(u,h){return a.apply(this,arguments)})(r.localStore,s))}),nM.apply(this,arguments)}function Bhe(t,e){return rM.apply(this,arguments)}function rM(){return rM=(0,E.c)(function*(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=yield T4(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(l=>{l.reject(new J(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ja(n,r._s)}var s}),rM.apply(this,arguments)}function jhe(t,e){const n=de(t),r=n.ya.get(e);if(r&&r.Ra)return st().add(r.key);{let i=st();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function Hhe(t,e){return iM.apply(this,arguments)}function iM(){return iM=(0,E.c)(function*(t,e){const n=de(t),r=yield _I(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&eM(n,e.targetId,i.Ta),i}),iM.apply(this,arguments)}function $he(t,e){return sM.apply(this,arguments)}function sM(){return sM=(0,E.c)(function*(t,e){const n=de(t);return A4(n.localStore,e).then(r=>ja(n,r))}),sM.apply(this,arguments)}function zhe(t,e,n,r){return oM.apply(this,arguments)}function oM(){return oM=(0,E.c)(function*(t,e,n,r){const i=de(t),s=yield function(a,l){const u=de(a),h=de(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.Cn(m,l).next(g=>g?u.localDocuments.getDocuments(m,g):P.resolve(null)))}(i.localStore,e);var l;null!==s?("pending"===n?yield Uf(i.remoteStore):"acknowledged"===n||"rejected"===n?(JR(i,e,r||null),ZR(i,e),l=e,de(de(i.localStore).mutationQueue).Fn(l)):Ee(),yield ja(i,s)):ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),oM.apply(this,arguments)}function aM(){return aM=(0,E.c)(function*(t,e){const n=de(t);if(dM(n),hM(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield X4(n,r.toArray());n.Ca=!0,yield NR(n.remoteStore,!0);for(const s of i)wI(n.remoteStore,s)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(zf(n,o),Lf(n.localStore,o,!0))),ey(n.remoteStore,o)}),yield i,yield X4(n,r),function(o){const a=de(o);a.ya.forEach((l,u)=>{ey(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new hn(he.comparator)}(n),n.Ca=!1,yield NR(n.remoteStore,!1)}}),aM.apply(this,arguments)}function X4(t,e,n){return lM.apply(this,arguments)}function lM(){return lM=(0,E.c)(function*(t,e,n){const r=de(t),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&0!==l.length){a=yield Ff(r.localStore,Ni(l[0]));for(const u of l){const h=r.ma.get(u),m=yield Hhe(r,h);m.snapshot&&s.push(m.snapshot)}}else{const u=yield S4(r.localStore,o);a=yield Ff(r.localStore,u),yield $R(r,Z4(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),lM.apply(this,arguments)}function Z4(t){return rz(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ghe(t){return n=de(t).localStore,de(de(n).persistence).Bi();var n}function Whe(t,e,n,r){return cM.apply(this,arguments)}function cM(){return cM=(0,E.c)(function*(t,e,n,r){const i=de(t);if(i.Ca)return void ne("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield A4(i.localStore,az(s[0])),a=B_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ir.EMPTY_BYTE_STRING);yield ja(i,o,a);break}case"rejected":yield Lf(i.localStore,e,!0),zf(i,e,r);break;default:Ee()}}),cM.apply(this,arguments)}function Khe(t,e,n){return uM.apply(this,arguments)}function uM(){return uM=(0,E.c)(function*(t,e,n){const r=dM(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){ne("SyncEngine","Adding an already active target "+i);continue}const s=yield S4(r.localStore,i),o=yield Ff(r.localStore,s);yield $R(r,Z4(s),o.targetId,!1,o.resumeToken),wI(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&(yield Lf(r.localStore,i,!1).then(()=>{ey(r.remoteStore,i),zf(r,i)}).catch(Gl))}}),uM.apply(this,arguments)}function dM(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ohe.bind(null,e),e.Va.a_=Che.bind(null,e.eventManager),e.Va.Fa=Dhe.bind(null,e.eventManager),e}function hM(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lhe.bind(null,e),e}class qf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,E.c)(function*(){n.serializer=Z_(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I4(this.persistence,new w4,e.initialUser,this.serializer)}createPersistence(e){return new nR(pI.jr,this.serializer)}createSharedClientState(e){return new P4}terminate(){var e=this;return(0,E.c)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fM extends qf{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,E.c)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield hM(r.xa.syncEngine),yield Uf(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return I4(this.persistence,new w4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new f4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new bue(n,this.persistence);return new Eue(e.asyncQueue,r)}createPersistence(e){const n=sR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new iR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,k4(),bI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new P4}}class J4 extends fM{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,E.c)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof pR&&(r.sharedClientState.syncEngine={Ys:zhe.bind(null,i),Zs:Whe.bind(null,i),Xs:Khe.bind(null,i),Bi:Ghe.bind(null,i),Js:$he.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,E.c)(function*(o){yield function qhe(t,e){return aM.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const n=k4();if(!pR.D(n))throw new J(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gf{initialize(e,n){var r=this;return(0,E.c)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Y4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Bhe.bind(null,r.syncEngine),yield NR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new The}createDatastore(e){const n=Z_(e.databaseInfo.databaseId),r=new ahe(e.databaseInfo);return new uhe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>Y4(this.syncEngine,n,0),a=N4.D()?new N4:new ihe,new fhe(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const m=new Mhe(i,s,o,a,l,u);return h&&(m.Ca=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,E.c)(function*(r){const i=de(r);ne("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Vf(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function e3(t,e=10240){let n=0;return{read:()=>(0,E.c)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,E.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class TI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Xhe{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new wr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,E.c)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,E.c)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,E.c)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new She(JSON.parse(s),n.length+i)})()}$a(){return this.buffer.findIndex(e=>123===e)}qa(){var e=this;return(0,E.c)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,E.c)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,E.c)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Zhe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,E.c)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new J(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,E.c)(function*(o,a){const l=de(o),u=$_(l.serializer)+"/documents",h={documents:a.map(b=>H_(l.serializer,b))},m=yield l.Co("BatchGetDocuments",u,h,a.length),g=new Map;m.forEach(b=>{const w=function vde(t,e){return"found"in e?function(r,i){De(!!i.found);const s=ea(r,i.found.name),o=Xn(i.found.updateTime),a=i.found.createTime?Xn(i.found.createTime):Se.min(),l=new Yr({mapValue:{fields:i.found.fields}});return yn.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){De(!!i.missing),De(!!i.readTime);const s=ea(r,i.missing),o=Xn(i.readTime);return yn.newNoDocument(s,o)}(t,e):Ee()}(l.serializer,b);g.set(w.key.toString(),w)});const y=[];return a.forEach(b=>{const w=g.get(b.toString());De(!!w),y.push(w)}),y}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new xf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,E.c)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=he.fromPath(i);e.mutations.push(new Vx(s,e.precondition(s)))}),yield(r=(0,E.c)(function*(s,o){const a=de(s),l=$_(a.serializer)+"/documents",u={writes:o.map(h=>z_(a.serializer,h))};yield a.wo("Commit",l,u)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee();n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new J(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?Dn.exists(!1):Dn.updateTime(n):Dn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new J(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Jhe{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new gR(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,E.c)(function*(){const n=new Zhe(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!C_(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Cz(n)}return!1}}class efe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nr.UNAUTHENTICATED,this.clientId=b$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,E.c)(function*(a){ne("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,E.c)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=jf(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function CI(t,e){return pM.apply(this,arguments)}function pM(){return pM=(0,E.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,E.c)(function*(s){r.isEqual(s)||(yield T4(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),pM.apply(this,arguments)}function mM(t,e){return gM.apply(this,arguments)}function gM(){return gM=(0,E.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield _M(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>j4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>j4(e.remoteStore,s)),t._onlineComponents=e}),gM.apply(this,arguments)}function t3(t){return"FirebaseError"===t.name?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function _M(t){return yM.apply(this,arguments)}function yM(){return yM=(0,E.c)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield CI(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!t3(n))throw n;Wi("Error using user provided cache. Falling back to memory cache: "+n),yield CI(t,new qf)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield CI(t,new qf);return t._offlineComponents}),yM.apply(this,arguments)}function DI(t){return vM.apply(this,arguments)}function vM(){return vM=(0,E.c)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield mM(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield mM(t,new Gf))),t._onlineComponents}),vM.apply(this,arguments)}function n3(t){return _M(t).then(e=>e.persistence)}function Wf(t){return _M(t).then(e=>e.localStore)}function r3(t){return DI(t).then(e=>e.remoteStore)}function EM(t){return DI(t).then(e=>e.syncEngine)}function Kf(t){return bM.apply(this,arguments)}function bM(){return bM=(0,E.c)(function*(t){const e=yield DI(t),n=e.eventManager;return n.onListen=Phe.bind(null,e.syncEngine),n.onUnlisten=Nhe.bind(null,e.syncEngine),n}),bM.apply(this,arguments)}function s3(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function(s,o,a,l,u){const h=new TI({next:g=>{o.enqueueAndForget(()=>VR(s,m));const y=g.docs.has(a);!y&&g.fromCache?u.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?u.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new jR(If(a.path),h,{includeMetadataChanges:!0,J_:!0});return FR(s,m)}(yield Kf(t),t.asyncQueue,e,n,r)})),r.promise}function o3(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function(s,o,a,l,u){const h=new TI({next:g=>{o.enqueueAndForget(()=>VR(s,m)),g.fromCache&&"server"===l.source?u.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new jR(a,h,{includeMetadataChanges:!0,J_:!0});return FR(s,m)}(yield Kf(t),t.asyncQueue,e,n,r)})),r.promise}function a3(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const l3=new Map;function wM(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c3(t,e,n,r){if(!0===e&&!0===r)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u3(t){if(!he.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d3(t){if(he.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SI(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ee()}function vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=SI(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function h3(t,e){if(e<=0)throw new J(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class f3{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=a3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f3(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new lue;switch(r.type){case"firstParty":return new hue(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l3.get(n);r&&(ne("ComponentProvider","Removing Datastore"),l3.delete(n),r.terminate())}(this),Promise.resolve()}}class Qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ta extends Qr{constructor(e,n,r){super(e,n,If(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new he(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function m3(t,e,...n){if(t=(0,_t.Yj)(t),wM("collection","path",e),t instanceof ty){const r=St.fromString(e,...n);return d3(r),new ta(t,null,r)}{if(!(t instanceof vn||t instanceof ta))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return d3(r),new ta(t.firestore,null,r)}}function AI(t,e,...n){if(t=(0,_t.Yj)(t),1===arguments.length&&(e=b$.newId()),wM("doc","path",e),t instanceof ty){const r=St.fromString(e,...n);return u3(r),new vn(t,null,new he(r))}{if(!(t instanceof vn||t instanceof ta))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return u3(r),new vn(t.firestore,t instanceof ta?t.converter:null,new he(r))}}function g3(t,e){return t=(0,_t.Yj)(t),e=(0,_t.Yj)(e),(t instanceof vn||t instanceof ta)&&(e instanceof vn||e instanceof ta)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function IM(t,e){return t=(0,_t.Yj)(t),e=(0,_t.Yj)(e),t instanceof Qr&&e instanceof Qr&&t.firestore===e.firestore&&N_(t._query,e._query)&&t.converter===e.converter}class hfe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gR(this,"async_queue_retry"),this.iu=()=>{const n=bI();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=bI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=bI();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new wr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,E.c)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Wl(n))throw n;ne("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Qn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=OR.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ee()}verifyOperationInProgress(){}uu(){var e=this;return(0,E.c)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function TM(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class ffe{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fn extends ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_3(this),this._firestoreClient.terminate()}}function Hn(t){return t._firestoreClient||_3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _3(t){var e,n,r;const i=t._freezeSettings(),s=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Hue(t._databaseId,l,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,a3(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;t._firestoreClient=new efe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function y3(t,e,n){const r=new wr;return t.asyncQueue.enqueue((0,E.c)(function*(){try{yield CI(t,n),yield mM(t,e),r.resolve()}catch(i){const s=i;if(!t3(s))throw s;Wi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function v3(t){if(t._initialized||t._terminated)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(Ir.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new na(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ha{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bu{constructor(e){this._methodName=e}}class xI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}const Tfe=/^__.*__$/;class Cfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new Af(e,this.data,n,this.fieldTransforms)}}class E3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class RI{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new RI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return NI(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(b3(this.Iu)&&Tfe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Dfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Z_(e)}pu(e,n,r,i=!1){return new RI({Iu:e,methodName:n,gu:r,path:_n.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ju(t){const e=t._freezeSettings(),n=Z_(t._databaseId);return new Dfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MI(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);AM("Data must be an object, but it was:",o,r);const a=T3(r,o);let l,u;if(s.merge)l=new Ki(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const g=iy(e,m,n);if(!o.contains(g))throw new J(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);D3(h,g)||h.push(g)}l=new Ki(h),u=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=o.fieldTransforms;return new Cfe(new Yr(a),l,u)}class ry extends Bu{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ry}}function w3(t,e,n){return new RI({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class CM extends Bu{_toFieldTransform(e){return new L_(e.path,new Df)}isEqual(e){return e instanceof CM}}class Sfe extends Bu{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=w3(this,e,!0),r=this.yu.map(s=>Hu(s,n)),i=new Mu(r);return new L_(e.path,i)}isEqual(e){return this===e}}class Afe extends Bu{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=w3(this,e,!0),r=this.yu.map(s=>Hu(s,n)),i=new Pu(r);return new L_(e.path,i)}isEqual(e){return this===e}}class xfe extends Bu{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Sf(e.serializer,pz(e.serializer,this.wu));return new L_(e.path,n)}isEqual(e){return this===e}}function DM(t,e,n,r){const i=t.pu(1,e,n);AM("Data must be an object, but it was:",i,r);const s=[],o=Yr.empty();Kl(r,(l,u)=>{const h=PI(e,l,n);u=(0,_t.Yj)(u);const m=i.Ru(h);if(u instanceof ry)s.push(h);else{const g=Hu(u,m);null!=g&&(s.push(h),o.set(h,g))}});const a=new Ki(s);return new E3(o,a,i.fieldTransforms)}function SM(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[iy(e,r,n)],l=[i];if(s.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(iy(e,s[g])),l.push(s[g+1]);const u=[],h=Yr.empty();for(let g=a.length-1;g>=0;--g)if(!D3(u,a[g])){const y=a[g];let b=l[g];b=(0,_t.Yj)(b);const w=o.Ru(y);if(b instanceof ry)u.push(y);else{const I=Hu(b,w);null!=I&&(u.push(y),h.set(y,I))}}const m=new Ki(u);return new E3(h,m,o.fieldTransforms)}function I3(t,e,n,r=!1){return Hu(n,t.pu(r?4:3,e))}function Hu(t,e){if(C3(t=(0,_t.Yj)(t)))return AM("Unsupported field value:",e,t),T3(t,e);if(t instanceof Bu)return function(r,i){if(!b3(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Hu(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=(0,_t.Yj)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return pz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Cn.fromDate(r);return{timestampValue:Rf(i.serializer,s)}}if(r instanceof Cn){const s=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rf(i.serializer,s)}}if(r instanceof xI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof na)return{bytesValue:Oz(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zx(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${SI(r)}`)}(t,e)}function T3(t,e){const n={};return F$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(t,(r,i)=>{const s=Hu(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function C3(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Cn||t instanceof xI||t instanceof na||t instanceof vn||t instanceof Bu)}function AM(t,e,n){if(!C3(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=SI(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function iy(t,e,n){if((e=(0,_t.Yj)(e))instanceof Ha)return e._internalPath;if("string"==typeof e)return PI(t,e);throw NI("Field path arguments must be of type string or ",t,!1,void 0,n)}const Rfe=new RegExp("[~\\*/\\[\\]]");function PI(t,e,n){if(e.search(Rfe)>=0)throw NI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ha(...e.split("."))._internalPath}catch{throw NI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function NI(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(U.INVALID_ARGUMENT,a+t+l)}function D3(t,e){return t.some(n=>n.isEqual(e))}class sy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Mfe extends sy{data(){return super.data()}}function kI(t,e){return"string"==typeof e?PI(t,e):e instanceof Ha?e._internalPath:e._delegate._internalPath}function S3(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xM{}class oy extends xM{}function ac(t,e,...n){let r=[];e instanceof xM&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Yf).length,a=s.filter(l=>l instanceof ay).length;if(o>1||o>0&&a>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ay extends oy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ay(e,n,r)}_apply(e){const n=this._parse(e);return M3(e._query,n),new Qr(e.firestore,e.converter,Fx(e._query,n))}_parse(e){const n=ju(e.firestore);return function(s,o,a,l,u,h,m){let g;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){R3(m,h);const y=[];for(const b of m)y.push(x3(l,s,b));g={arrayValue:{values:y}}}else g=x3(l,s,m)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||R3(m,h),g=I3(a,"where",m,"in"===h||"not-in"===h);return wt.create(u,h,g)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Yf extends xM{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Qt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)M3(o,l),o=Fx(o,l)}(e._query,n),new Qr(e.firestore,e.converter,Fx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RM extends oy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new RM(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new M_(s,o)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new La(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class OI extends oy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new OI(e,n,r)}_apply(e){return new Qr(e.firestore,e.converter,tI(e._query,this._limit,this._limitType))}}class FI extends oy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new FI(e,n,r)}_apply(e){const n=A3(e,this.type,this._docOrFields,this._inclusive);return new Qr(e.firestore,e.converter,(s=n,new La((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class LI extends oy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new LI(e,n,r)}_apply(e){const n=A3(e,this.type,this._docOrFields,this._inclusive);return new Qr(e.firestore,e.converter,(s=n,new La((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function A3(t,e,n,r){if(n[0]=(0,_t.Yj)(n[0]),n[0]instanceof sy)return function(s,o,a,l,u){if(!l)throw new J(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of Tf(s))if(m.field.isKeyField())h.push(xu(o,l.key));else{const g=l.data.field(m.field);if(Kw(g))throw new J(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=m.field.canonicalString();throw new J(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new ec(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ju(t.firestore);return function(o,a,l,u,h,m){const g=o.explicitOrderBy;if(h.length>g.length)throw new J(U.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new J(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!Ox(o)&&-1!==w.indexOf("/"))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const I=o.path.child(St.fromString(w));if(!he.isDocumentKey(I))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const x=new he(I);y.push(xu(a,x))}else{const I=I3(l,u,w);y.push(I)}}return new ec(y,m)}(t._query,t.firestore._databaseId,i,e,n,r)}}function x3(t,e,n){if("string"==typeof(n=(0,_t.Yj)(n))){if(""===n)throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ox(e)&&-1!==n.indexOf("/"))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!he.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xu(t,new he(r))}if(n instanceof vn)return xu(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${SI(n)}.`)}function R3(t,e){if(!Array.isArray(t)||0===t.length)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M3(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new J(U.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MM{convertValue(e,n="none"){switch(Zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Kl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xI(jn(e.latitude),jn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yw(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(S_(e));default:return null}}convertTimestamp(e){const n=Yl(e);return new Cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);De(qz(r));const i=new Ql(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function VI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bfe extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends sy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ly(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ly extends $a{data(e={}){return super.data(e)}}class lc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $u(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ly(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new ly(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $u(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new ly(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $u(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Hfe(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function N3(t,e){return t instanceof $a&&e instanceof $a?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lc&&e instanceof lc&&t._firestore===e._firestore&&IM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class cc extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function k3(t,e,n){t=vt(t,vn);const r=vt(t.firestore,fn),i=VI(t.converter,e,n);return Qf(r,[MI(ju(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Dn.none())])}function O3(t,e,n,...r){t=vt(t,vn);const i=vt(t.firestore,fn),s=ju(i);let o;return o="string"==typeof(e=(0,_t.Yj)(e))||e instanceof Ha?SM(s,"updateDoc",t._key,e,n,r):DM(s,"updateDoc",t._key,e),Qf(i,[o.toMutation(t._key,Dn.exists(!0))])}function F3(t,...e){var n,r,i;t=(0,_t.Yj)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||TM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(TM(e[o])){const m=e[o];e[o]=null===(n=m.next)||void 0===n?void 0:n.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let l,u,h;if(t instanceof vn)u=vt(t.firestore,fn),h=If(t._key.path),l={next:m=>{e[o]&&e[o](PM(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=vt(t,Qr);u=vt(m.firestore,fn),h=m._query;const g=new cc(u);l={next:y=>{e[o]&&e[o](new lc(u,g,m,y))},error:e[o+1],complete:e[o+2]},S3(t._query)}return function(g,y,b,w){const I=new TI(w),x=new jR(y,I,b);return g.asyncQueue.enqueueAndForget((0,E.c)(function*(){return FR(yield Kf(g),x)})),()=>{I.Na(),g.asyncQueue.enqueueAndForget((0,E.c)(function*(){return VR(yield Kf(g),x)}))}}(Hn(u),h,a,l)}function Qf(t,e){return function(r,i){const s=new wr;return r.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function khe(t,e,n){return GR.apply(this,arguments)}(yield EM(r),i,s)})),s.promise}(Hn(t),e)}function PM(t,e,n){const r=n.docs.get(e._key),i=new cc(t);return new $a(t,i,e._key,r,new $u(n.hasPendingWrites,n.fromCache),e.converter)}const ope={maxAttempts:5};class L3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ju(e)}set(e,n,r){this._verifyNotCommitted();const i=uc(e,this._firestore),s=VI(i.converter,n,r),o=MI(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=uc(e,this._firestore);let o;return o="string"==typeof(n=(0,_t.Yj)(n))||n instanceof Ha?SM(this._dataReader,"WriteBatch.update",s._key,n,r,i):DM(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=uc(e,this._firestore);return this._mutations=this._mutations.concat(new xf(n._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new J(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uc(t,e){if((t=(0,_t.Yj)(t)).firestore!==e)throw new J(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class ape extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ju(n)}get(n){const r=uc(n,this._firestore),i=new Bfe(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Ee();const o=s[0];if(o.isFoundDocument())return new sy(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new sy(this._firestore,i,r._key,null,r.converter);throw Ee()})}set(n,r,i){const s=uc(n,this._firestore),o=VI(s.converter,r,i),a=MI(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=uc(n,this._firestore);let a;return a="string"==typeof(r=(0,_t.Yj)(r))||r instanceof Ha?SM(this._dataReader,"Transaction.update",o._key,r,i,s):DM(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=uc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=uc(e,this._firestore),r=new cc(this._firestore);return super.get(e).then(i=>new $a(this._firestore,r,n._key,i._document,new $u(!1,!1),n.converter))}}function kM(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new J("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function j3(){if(typeof Uint8Array>"u")throw new J("unimplemented","Uint8Arrays are not available in this environment.")}function H3(){if(!function Bue(){return typeof atob<"u"}())throw new J("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){mf=Ho.SDK_VERSION,(0,Ho._registerComponent)(new cw.Yl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fn(new uue(r.getProvider("auth-internal")),new fue(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Ho.registerVersion)(y$,"4.3.2",e),(0,Ho.registerVersion)(y$,"4.3.2","esm2017")}();class cy{constructor(e){this._delegate=e}static fromBase64String(e){return H3(),new cy(na.fromBase64String(e))}static fromUint8Array(e){return j3(),new cy(na.fromUint8Array(e))}toBase64(){return H3(),this._delegate.toBase64()}toUint8Array(){return j3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function OM(t){return function _pe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class ype{enableIndexedDbPersistence(e,n){return function mfe(t,e){v3(t=vt(t,fn));const n=Hn(t);if(n._uninitializedComponentsProvider)throw new J(U.FAILED_PRECONDITION,"SDK cache is already specified.");Wi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Gf;return y3(n,i,new fM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function gfe(t){v3(t=vt(t,fn));const e=Hn(t);if(e._uninitializedComponentsProvider)throw new J(U.FAILED_PRECONDITION,"SDK cache is already specified.");Wi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Gf;return y3(e,r,new J4(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _fe(t){if(t._initialized&&!t._terminated)throw new J(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,E.c)(function*(){try{yield(n=(0,E.c)(function*(i){if(!yo.D())return Promise.resolve();const s=i+"main";yield yo.delete(s)}),function r(i){return n.apply(this,arguments)})(sR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class $3{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ql||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function p3(t,e,n,r={}){var i;const s=(t=vt(t,ty))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Nr.MOCK_USER;else{a=(0,_t.YD)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nr(u)}t._authCredentials=new cue(new v$(a,l))}}(this._delegate,e,n,r)}enableNetwork(){return function vfe(t){return function tfe(t){return t.asyncQueue.enqueue((0,E.c)(function*(){const e=yield n3(t),n=yield r3(t);return e.setNetworkEnabled(!0),function(i){const s=de(i);return s.C_.delete(0),J_(s)}(n)}))}(Hn(t=vt(t,fn)))}(this._delegate)}disableNetwork(){return function Efe(t){return function nfe(t){return t.asyncQueue.enqueue((0,E.c)(function*(){const e=yield n3(t),n=yield r3(t);return e.setNetworkEnabled(!1),(r=(0,E.c)(function*(s){const o=de(s);o.C_.add(0),yield Vf(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(n);var r}))}(Hn(t=vt(t,fn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,c3("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yfe(t){return function(n){const r=new wr;return n.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function Vhe(t,e){return XR.apply(this,arguments)}(yield EM(n),r)})),r.promise}(Hn(t=vt(t,fn)))}(this._delegate)}onSnapshotsInSync(e){return function Xfe(t,e){return function sfe(t,e){const n=new TI(e);return t.asyncQueue.enqueueAndForget((0,E.c)(function*(){return i=yield Kf(t),s=n,de(i).q_.add(s),void s.next();var i,s})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,E.c)(function*(){return i=yield Kf(t),s=n,void de(i).q_.delete(s);var i,s}))}}(Hn(t=vt(t,fn)),TM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new J("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xf(this,m3(this._delegate,e))}catch(n){throw ki(n,"collection()","Firestore.collection()")}}doc(e){try{return new Hs(this,AI(this._delegate,e))}catch(n){throw ki(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Oi(this,function dfe(t,e){if(t=vt(t,ty),wM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qr(t,null,(r=e,new La(St.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw ki(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lpe(t,e,n){t=vt(t,fn);const r=Object.assign(Object.assign({},ope),n);return function(s){if(s.maxAttempts<1)throw new J(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new wr;return s.asyncQueue.enqueueAndForget((0,E.c)(function*(){const u=yield function i3(t){return DI(t).then(e=>e.datastore)}(s);new Jhe(s.asyncQueue,u,a,o,l).run()})),l.promise}(Hn(t),i=>e(new ape(t,i)),r)}(this._delegate,n=>e(new z3(this,n)))}batch(){return Hn(this._delegate),new q3(new L3(this._delegate,e=>Qf(this._delegate,e)))}loadBundle(e){return function bfe(t,e){const n=Hn(t=vt(t,fn)),r=new ffe;return function ofe(t,e,n,r){const i=function(o,a){let l;return l="string"==typeof o?Sz().encode(o):o,h=function(h,m){if(h instanceof Uint8Array)return e3(h,m);if(h instanceof ArrayBuffer)return e3(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Xhe(h,a);var h}(n,Z_(e));t.asyncQueue.enqueueAndForget((0,E.c)(function*(){!function Yhe(t,e,n){const r=de(t);var i;(i=(0,E.c)(function*(o,a,l){try{const u=yield a.getMetadata();if(yield function(b,w){const I=de(b),x=Xn(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(x)>=0)}(o.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(z4(u));const h=new Ahe(u,o.localStore,a.serializer);let m=yield a.Ma();for(;m;){const y=yield h.ea(m);y&&l._updateProgress(y),m=yield a.Ma()}const g=yield h.complete();return yield ja(o,g.ra,void 0),yield function(b,w){const I=de(b);return I.persistence.runTransaction("Save bundle","readwrite",x=>I.Kr.saveBundleMetadata(x,w))}(o.localStore,u),l._completeWith(g.progress),Promise.resolve(g.na)}catch(u){return Wi("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var b}),function s(o,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield EM(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function wfe(t,e){return function afe(t,e){return t.asyncQueue.enqueue((0,E.c)(function*(){return function(r,i){const s=de(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Wf(t),e)}))}(Hn(t=vt(t,fn)),e).then(n=>n?new Qr(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Oi(this,n):null)}}class BI extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new cy(new na(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Hs.forKey(n,this.firestore,null)}}class z3{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new BI(e)}get(e){const n=qu(e);return this._delegate.get(n).then(r=>new uy(this._firestore,new $a(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=qu(e);return r?(kM("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=qu(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=qu(e);return this._delegate.delete(n),this}}class q3{constructor(e){this._delegate=e}set(e,n,r){const i=qu(e);return r?(kM("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=qu(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=qu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class zu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ly(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=zu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new zu(e,new BI(e),n),i.set(n,s)),s}}zu.INSTANCES=new WeakMap;class Hs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new BI(e)}static forPath(e,n,r){if(e.length%2!=0)throw new J("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Hs(n,new vn(n._delegate,r,new he(e)))}static forKey(e,n,r){return new Hs(n,new vn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Xf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xf(this.firestore,m3(this._delegate,e))}catch(n){throw ki(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_t.Yj)(e))instanceof vn&&g3(this._delegate,e)}set(e,n){n=kM("DocumentReference.set",n);try{return n?k3(this._delegate,e,n):k3(this._delegate,e)}catch(r){throw ki(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?O3(this._delegate,e):O3(this._delegate,e,n,...r)}catch(i){throw ki(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Yfe(t){return Qf(vt(t.firestore,fn),[new xf(t._key,Dn.none())])}(this._delegate)}onSnapshot(...e){const n=G3(e),r=W3(e,i=>new uy(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return F3(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function zfe(t){t=vt(t,vn);const e=vt(t.firestore,fn),n=Hn(e),r=new cc(e);return function rfe(t,e){const n=new wr;return t.asyncQueue.enqueueAndForget((0,E.c)(function*(){return(r=(0,E.c)(function*(s,o,a){try{const l=yield function(h,m){const g=de(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,m))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new J(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=jf(l,`Failed to get document '${o} from cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Wf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new $a(e,r,t._key,i,new $u(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function qfe(t){t=vt(t,vn);const e=vt(t.firestore,fn);return s3(Hn(e),t._key,{source:"server"}).then(n=>PM(e,t,n))}(this._delegate):function $fe(t){t=vt(t,vn);const e=vt(t.firestore,fn);return s3(Hn(e),t._key).then(n=>PM(e,t,n))}(this._delegate),n.then(r=>new uy(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Hs(this.firestore,this._delegate.withConverter(e?zu.getInstance(this.firestore,e):null))}}function ki(t,e,n){return t.message=t.message.replace(e,n),t}function G3(t){for(const e of t)if("object"==typeof e&&!OM(e))return e;return{}}function W3(t,e){var n,r;let i;return i=OM(t[0])?t[0]:OM(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class uy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Hs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return N3(this._delegate,e._delegate)}}class dy extends uy{data(e){const n=this._delegate.data(e);return this._delegate._converter||function aue(t,e){t||Ee()}(void 0!==n),n}}class Oi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new BI(e)}where(e,n,r){try{return new Oi(this.firestore,ac(this._delegate,function Pfe(t,e,n){const r=e,i=kI("where",t);return ay._create(i,r,n)}(e,n,r)))}catch(i){throw ki(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Oi(this.firestore,ac(this._delegate,function Nfe(t,e="asc"){const n=e,r=kI("orderBy",t);return RM._create(r,n)}(e,n)))}catch(r){throw ki(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Oi(this.firestore,ac(this._delegate,function kfe(t){return h3("limit",t),OI._create("limit",t,"F")}(e)))}catch(n){throw ki(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Oi(this.firestore,ac(this._delegate,function Ofe(t){return h3("limitToLast",t),OI._create("limitToLast",t,"L")}(e)))}catch(n){throw ki(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Oi(this.firestore,ac(this._delegate,function Ffe(...t){return FI._create("startAt",t,!0)}(...e)))}catch(n){throw ki(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Oi(this.firestore,ac(this._delegate,function Lfe(...t){return FI._create("startAfter",t,!1)}(...e)))}catch(n){throw ki(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Oi(this.firestore,ac(this._delegate,function Vfe(...t){return LI._create("endBefore",t,!1)}(...e)))}catch(n){throw ki(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Oi(this.firestore,ac(this._delegate,function Ufe(...t){return LI._create("endAt",t,!0)}(...e)))}catch(n){throw ki(n,"endAt()","Query.endAt()")}}isEqual(e){return IM(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function Wfe(t){t=vt(t,Qr);const e=vt(t.firestore,fn),n=Hn(e),r=new cc(e);return function ife(t,e){const n=new wr;return t.asyncQueue.enqueueAndForget((0,E.c)(function*(){return(r=(0,E.c)(function*(s,o,a){try{const l=yield _I(s,o,!0),u=new W4(o,l.ls),h=u.ca(l.documents),m=u.applyChanges(h,!1);a.resolve(m.snapshot)}catch(l){const u=jf(l,`Failed to execute query '${o} against cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Wf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new lc(e,r,t,i))}(this._delegate):"server"===e?.source?function Kfe(t){t=vt(t,Qr);const e=vt(t.firestore,fn),n=Hn(e),r=new cc(e);return o3(n,t._query,{source:"server"}).then(i=>new lc(e,r,t,i))}(this._delegate):function Gfe(t){t=vt(t,Qr);const e=vt(t.firestore,fn),n=Hn(e),r=new cc(e);return S3(t._query),o3(n,t._query).then(i=>new lc(e,r,t,i))}(this._delegate),n.then(r=>new FM(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=G3(e),r=W3(e,i=>new FM(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return F3(this._delegate,n,r)}withConverter(e){return new Oi(this.firestore,this._delegate.withConverter(e?zu.getInstance(this.firestore,e):null))}}class Epe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new dy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FM{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Oi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Epe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new dy(this._firestore,r))})}isEqual(e){return N3(this._delegate,e._delegate)}}class Xf extends Oi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hs(this.firestore,e):null}doc(e){try{return new Hs(this.firestore,void 0===e?AI(this._delegate):AI(this._delegate,e))}catch(n){throw ki(n,"doc()","CollectionReference.doc()")}}add(e){return function Qfe(t,e){const n=vt(t.firestore,fn),r=AI(t),i=VI(t.converter,e);return Qf(n,[MI(ju(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Hs(this.firestore,n))}isEqual(e){return g3(this._delegate,e._delegate)}withConverter(e){return new Xf(this.firestore,this._delegate.withConverter(e?zu.getInstance(this.firestore,e):null))}}function qu(t){return vt(t,vn)}class LM{constructor(...e){this._delegate=new Ha(...e)}static documentId(){return new LM(_n.keyField().canonicalString())}isEqual(e){return(e=(0,_t.Yj)(e))instanceof Ha&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function upe(){return new CM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gu(e)}static delete(){const e=function cpe(){return new ry("deleteField")}();return e._methodName="FieldValue.delete",new Gu(e)}static arrayUnion(...e){const n=function dpe(...t){return new Sfe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Gu(n)}static arrayRemove(...e){const n=function hpe(...t){return new Afe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Gu(n)}static increment(e){const n=function fpe(t){return new xfe("increment",t)}(e);return n._methodName="FieldValue.increment",new Gu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bpe={Firestore:$3,GeoPoint:xI,Timestamp:Cn,Blob:cy,Transaction:z3,WriteBatch:q3,DocumentReference:Hs,DocumentSnapshot:uy,Query:Oi,QueryDocumentSnapshot:dy,QuerySnapshot:FM,CollectionReference:Xf,FieldPath:LM,FieldValue:Gu,setLogLevel:function vpe(t){!function oue(t){ql.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function K3(t,e){return function Tpe(t,e=Ug){return new Ot(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function VM(t,e){return K3(t,e).pipe(fe(n=>({payload:n,type:"query"})))}!function Ipe(t){(function wpe(t,e){t.INTERNAL.registerComponent(new cw.Yl("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},bpe)))})(t,(e,n)=>new $3(e,n,new ype)),t.registerVersion("@firebase/firestore-compat","0.3.22")}($o.c);class Y3{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:s}=J3(r,n);return new Z3(i,s,this.afs)}snapshotChanges(){return function Cpe(t,e){return K3(t,e).pipe(au(void 0),kA(),fe(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return this.snapshotChanges().pipe(fe(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return Kt(this.ref.get(e)).pipe(xi)}}function jI(t,e){return VM(t,e).pipe(au(void 0),kA(),fe(n=>{const[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=s.find(m=>m.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function Q3(t,e,n){return jI(t,n).pipe(ob((r,i)=>function Dpe(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Spe(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return UM(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return UM(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UM(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(s=>s.payload),e),[]),JB(),fe(r=>r.map(i=>({type:i.type,payload:i}))))}function UM(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function X3(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class Z3{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=jI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(fe(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(au(void 0),kA(),xr(([r,i])=>i.length>0||!r),fe(([,r])=>r),xi)}auditTrail(e){return this.stateChanges(e).pipe(ob((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=X3(e);return Q3(this.query,n,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return VM(this.query,this.afs.schedulers.outsideAngular).pipe(fe(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),xi)}get(e){return Kt(this.query.get(e)).pipe(xi)}add(e){return this.ref.add(e)}doc(e){return new Y3(this.ref.doc(e),this.afs)}}class Ape{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?jI(this.query,this.afs.schedulers.outsideAngular).pipe(fe(n=>n.filter(r=>e.indexOf(r.type)>-1)),xr(n=>n.length>0),xi):jI(this.query,this.afs.schedulers.outsideAngular).pipe(xi)}auditTrail(e){return this.stateChanges(e).pipe(ob((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=X3(e);return Q3(this.query,n,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return VM(this.query,this.afs.schedulers.outsideAngular).pipe(fe(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),xi)}get(e){return Kt(this.query.get(e)).pipe(xi)}}const xpe=new ee("angularfire2.enableFirestorePersistence"),Rpe=new ee("angularfire2.firestore.persistenceSettings"),Mpe=new ee("angularfire2.firestore.settings"),Ppe=new ee("angularfire2.firestore.use-emulator");function J3(t,e=(n=>n)){return{query:e(t),ref:t}}let eq=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,l,u,h,m,g,y,b,w,I,x,A){this.schedulers=l;const N=lw(n,a,r),z=h;m&&eH(N,a,g,b,w,I,y,x),[this.firestore,this.persistenceEnabled$]=bA(`${N.name}.firestore`,"AngularFirestore",N.name,()=>{const se=a.runOutsideAngular(()=>N.firestore());if(s&&se.settings(s),z&&se.useEmulator(...z),i&&!ZE(o)){const _e=()=>{try{return Kt(se.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Je){return typeof console<"u"&&console.warn(Je),Ne(!1)}};return[se,a.runOutsideAngular(_e)]}return[se,Ne(!1)]},[s,z,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:o}=J3(i,r),a=this.schedulers.ngZone.run(()=>s);return new Z3(a,o,this)}collectionGroup(n,r){const i=r||(o=>o),s=this.firestore.collectionGroup(n);return new Ape(i(s),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new Y3(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(L(Yg),L(Qg,8),L(xpe,8),L(Mpe,8),L(Rs),L(Ve),L(EA),L(Rpe,8),L(Ppe,8),L(_w,8),L(Kj,8),L(Yj,8),L(Qj,8),L(Xj,8),L(Zj,8),L(Jj,8),L(vA,8))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Npe=(()=>{class t{constructor(n){this.afs=n,this.userDatasCollection=this.afs.collection("user_data"),this.userDatas=this.userDatasCollection.snapshotChanges().pipe(fe(r=>r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s}})))}getuserDatas(){return this.userDatas}getuserData(n){return this.userDatasCollection.doc(n).valueChanges()}adduserData(n){return this.userDatasCollection.add(n)}updateuserData(n,r){return this.userDatasCollection.doc(n).update(r)}deleteuserData(n){return this.userDatasCollection.doc(n).delete()}static#e=this.\u0275fac=function(r){return new(r||t)(L(eq))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kpe=(()=>{class t{constructor(n){this.afs=n,this.apartmentDatasCollection=this.afs.collection("flat_data"),this.apartmentDatas=this.apartmentDatasCollection.snapshotChanges().pipe(fe(r=>r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s}})))}getapartmentDatas(){return this.apartmentDatas}getapartmentData(n){return this.apartmentDatasCollection.doc(n).valueChanges()}addapartmentData(n){return this.apartmentDatasCollection.add(n)}updateapartmentData(n,r){return this.apartmentDatasCollection.doc(n).update(r)}deleteapartmentData(n){return this.apartmentDatasCollection.doc(n).delete()}static#e=this.\u0275fac=function(r){return new(r||t)(L(eq))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ope=(()=>{class t{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","text-lg-start","bg-body-tertiary","text-muted",2,"background-color","rgba(0, 0, 0, 0.05)","border-bottom","solid 1px grey"],["href","#",1,"navbar-brand"],["src","../../assets/logo-2.png","width","100","height","30","alt",""],["href","#",1,"text-center"]],template:function(r,i){1&r&&(re(0,"nav",0)(1,"a",1),ft(2,"img",2),le(),re(3,"p",3),Ke(4,"R K Builders & Developers"),le()())}})}return t})(),Fpe=(()=>{class t{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer","text-center","text-lg-start","bg-body-tertiary","text-muted",2,"border-top","solid 1px grey"],[1,"text-center","p-4",2,"background-color","rgba(0, 0, 0, 0.05)"],[1,"text-reset","fw-bold"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1),Ke(2," \xa9 2024 Copyright: "),re(3,"span",2),Ke(4,"R K Builders & Developers"),le()()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;max-height:150px}"]})}return t})();const Lpe=t=>({"background-color":t});function Vpe(t,e){if(1&t){const n=Km();re(0,"td",4)(1,"span",5),Wt("click",function(){const s=Ss(n).$implicit;return Co(cn(2).openModal(s))}),Ke(2),le()()}if(2&t){const n=e.$implicit;Tt("ngStyle",DE(2,Lpe,n.isLandowners?n.isBooked?"yellow":"orange":n.isBooked?"grey":"lightcoral")),Xe(2),Th(" ",(null==n?null:n.floorNo)+"-"+(null==n?null:n.flatNo)," ")}}function Upe(t,e){if(1&t&&(gE(0),re(1,"tr"),Lt(2,Vpe,3,4,"td",3),le(),_E()),2&t){const n=e.$implicit;Xe(2),Tt("ngForOf",n)}}let Bpe=(()=>{class t{constructor(){this.myEventEmitter=new bt,this.showDefaultMessage=!1,this.actualGrids=[],this.currentPage=0,this.data=[],this.squareData=[],this.rows=6,this.columns=6}ngOnInit(){}ngOnChanges(n){this.generateSquareData(this.apartment?.floors,this.apartment?.apartmentPerFloor)}generateSquareData(n,r){this.squareData=[];for(let i=0;i<=n;i++){this.squareData[i]=[];for(let s=0;s<=r;s++)this.apartment.flats?.forEach(o=>{o.floorNo===i&&o.flatNo===s&&(this.squareData[i-1][s-1]=o)})}}prevPage(){this.currentPage>0&&this.currentPage--}nextPage(){this.currentPage<this.actualGrids.length-1&&this.currentPage++}resetTable(){this.currentPage=0,this.actualGrids=[],this.floors=0,this.flats=0}openModal(n){n.isBooked?alert("already booked"):this.myEventEmitter.emit(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["grid"]],inputs:{apartment:"apartment"},outputs:{myEventEmitter:"myEventEmitter"},features:[Ar],decls:4,vars:1,consts:[[1,"scrollable-container"],[1,"scrollable-content"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"click"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"table"),Lt(3,Upe,3,1,"ng-container",2),le()()()),2&r&&(Xe(3),Tt("ngForOf",i.squareData))},dependencies:[lD,XE],styles:["table[_ngcontent-%COMP%]{border:none}td[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:100%;text-align:center;vertical-align:middle;margin:20px;border:10px solid aliceblue;font:14px}"]})}return t})();class jpe{constructor(){}}const Hpe=t=>({display:t});function $pe(t,e){if(1&t){const n=Km();re(0,"div",1)(1,"div",2)(2,"span",3),Ke(3," Customer Details"),le(),re(4,"form",4),Wt("ngSubmit",function(i){return Ss(n),Co(cn().submitForm(i))}),re(5,"div",5)(6,"div",6),Ke(7,"Landowners :"),le(),re(8,"div",7)(9,"div",8),ft(10,"input",9),re(11,"label",10),Ke(12,"Yes"),le()()()(),re(13,"div",5)(14,"label",11),Ke(15,"Customer Name:"),le(),re(16,"div",7),ft(17,"input",12),le()(),re(18,"div",5)(19,"label",13),Ke(20,"Booking Date:"),le(),re(21,"div",7),ft(22,"input",14),le()(),re(23,"div",5)(24,"label",15),Ke(25,"Agreement Date:"),le(),re(26,"div",7),ft(27,"input",16),le()(),re(28,"div",5)(29,"label",17),Ke(30,"Email:"),le(),re(31,"div",7),ft(32,"input",18),le()(),re(33,"div",5)(34,"label",19),Ke(35,"Contact Number:"),le(),re(36,"div",7),ft(37,"input",20),le()(),re(38,"div",5)(39,"div",6),Ke(40,"Opted For Parking:"),le(),re(41,"div",7)(42,"div",8),ft(43,"input",21),re(44,"label",22),Ke(45,"Yes"),le()()()(),re(46,"div",5)(47,"label",23),Ke(48,"Sq. Ft. Rate:"),le(),re(49,"div",7),ft(50,"input",24),le()(),re(51,"div",5)(52,"label",25),Ke(53,"Development Fees:"),le(),re(54,"div",7),ft(55,"input",26),le()(),re(56,"div",5)(57,"label",27),Ke(58,"Parking Fees:"),le(),re(59,"div",7),ft(60,"input",28),le()(),re(61,"div",5)(62,"label",29),Ke(63,"Booking Amount :"),le(),re(64,"div",7),ft(65,"input",30),le()(),re(66,"div",5),ft(67,"div",31),re(68,"div",32)(69,"button",33),Wt("click",function(){return Ss(n),Co(cn().closeModal())}),Ke(70,"Cancel"),le()(),re(71,"div",34)(72,"button",35),Ke(73," Book Now "),le()()()()()()}if(2&t){const n=cn();Tt("ngStyle",DE(3,Hpe,n.modalDisplayStyle)),Xe(4),Tt("formGroup",n.customerDataForm),Xe(68),Tt("disabled",n.customerDataForm.invalid)}}let zpe=(()=>{class t{constructor(n){this.fb=n,this.modalReset=new bt}ngOnChanges(n){}ngOnInit(){this.customerDataForm=this.fb.group({customerName:["",qr.required],bookingDate:["",qr.required],agreementDate:["",qr.required],emailId:["",[qr.required,qr.email]],contactNumber:["",qr.required],optedForParking:[!1],squareFeetRate:["",qr.required],developmentFees:["",qr.required],parkingFees:["",qr.required],bookingAmount:["",qr.required],isLandowners:[!1]})}fetchApartmentDetails(){this.showModal=!0}submitForm(n){if(n.preventDefault(),this.customerDataForm.valid){const i=this.customerDataForm.value;var r=new jpe;r.customerName=i.customerName,r.agreementDate=i.agreementDate,r.bookingAmount=i.bookingAmount,r.bookingDate=i.bookingDate,r.parkingOpted=i.optedForParking,r.bookingAmount=i.bookingAmount,r.isLandOwner=this.customerDataForm.get("isLandowners").value,this.modalReset.emit(r)}this.customerDataForm.reset(),this.showModal=!1}closeModal(){this.showModal=!1,this.modalReset.emit()}get modalDisplayStyle(){return this.showModal?"block":"none"}static#e=this.\u0275fac=function(r){return new(r||t)(B(yA))};static#t=this.\u0275cmp=pr({type:t,selectors:[["app-modal-user"]],inputs:{showModal:"showModal"},outputs:{modalReset:"modalReset"},features:[Ar],decls:1,vars:1,consts:[["class","modal",3,"ngStyle",4,"ngIf"],[1,"modal",3,"ngStyle"],[1,"modal-content"],[2,"text-align","center","font-size","24px","padding-bottom","15px"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"form-check"],["type","checkbox","id","isLandowners","formControlName","isLandowners",1,"form-check-input"],["for","isLandowners",1,"form-check-label"],["for","customerName",1,"col-sm-4","col-form-label"],["type","text","id","customerName","placeholder","Customer Name","formControlName","customerName",1,"form-control"],["for","bookingDate",1,"col-sm-4","col-form-label"],["type","date","id","bookingDate","placeholder","Booking Date","formControlName","bookingDate",1,"form-control"],["for","agreementDate",1,"col-sm-4","col-form-label"],["type","date","id","agreementDate","placeholder","Agreement Date","formControlName","agreementDate",1,"form-control"],["for","emailId",1,"col-sm-4","col-form-label"],["type","email","id","emailId","placeholder","Email","formControlName","emailId",1,"form-control"],["for","contactNumber",1,"col-sm-4","col-form-label"],["type","tel","id","contactNumber","placeholder","Contact Number","formControlName","contactNumber",1,"form-control"],["type","checkbox","id","optedForParking","formControlName","optedForParking",1,"form-check-input"],["for","optedForParking",1,"form-check-label"],["for","squareFeetRate",1,"col-sm-4","col-form-label"],["type","number","id","squareFeetRate","placeholder","Sq. Ft. Rate","formControlName","squareFeetRate",1,"form-control"],["for","developmentFees",1,"col-sm-4","col-form-label"],["type","number","id","developmentFees","placeholder","Development Fees","formControlName","developmentFees",1,"form-control"],["for","parkingFees",1,"col-sm-4","col-form-label"],["type","number","id","parkingFees","placeholder","Parking Fees","formControlName","parkingFees",1,"form-control"],["for","bookingAmount",1,"col-sm-4","col-form-label"],["type","number","id","bookingAmount","placeholder","Booking Amout","formControlName","bookingAmount",1,"form-control"],[1,"col-7"],[1,"col-sm-2"],[1,"btn","btn-danger",3,"click"],[1,"col-sm-3"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,i){1&r&&Lt(0,$pe,74,5,"div",0),2&r&&Tt("ngIf",i.showModal)},dependencies:[QE,XE,sw,Xh,ow,eA,Wb,Kb,yu,Kg],styles:[".modal[_ngcontent-%COMP%]{position:absolute;z-index:1;left:0;top:1;width:100%;overflow:none;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fffc;margin:5% auto;padding:20px;border:1px solid #888;border-radius:10px;width:100%;max-width:600px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}return t})();class qpe{constructor(){}}class Gpe{constructor(e,n,r,i,s){this.flatNo=e,this.floorNo=n,this.isBooked=r,this.isLandowners=i,this.allocatedTo=s}}function Wpe(t,e){1&t&&(re(0,"div"),Ke(1," Apartment Name is required. "),le())}const Kpe=t=>({display:t});function Ype(t,e){if(1&t){const n=Km();re(0,"div",1)(1,"div",2)(2,"span",3),Ke(3," Apartment Details"),le(),re(4,"form",4),Wt("ngSubmit",function(i){return Ss(n),Co(cn().submitForm(i))}),re(5,"div",5)(6,"label",6),Ke(7,"Apartment Name :"),le(),re(8,"div",7),ft(9,"input",8),le()(),re(10,"div",5)(11,"label",9),Ke(12,"No. of Floors :"),le(),re(13,"div",7),ft(14,"input",10),le()(),re(15,"div",5)(16,"label",11),Ke(17,"Flat per Floor :"),le(),re(18,"div",7),ft(19,"input",12),le()(),re(20,"div",5)(21,"label",13),Ke(22,"Parking Lots :"),le(),re(23,"div",7),ft(24,"input",14),le()(),re(25,"div",15)(26,"div",16)(27,"button",17),Wt("click",function(){return Ss(n),Co(cn().closeModal())}),Ke(28,"Cancel"),le()(),re(29,"div",18)(30,"button",19),Ke(31," Add Now "),le()(),Lt(32,Wpe,2,0,"div",20),le()()()()}if(2&t){const n=cn();Tt("ngStyle",DE(4,Kpe,n.modalDisplayStyle)),Xe(4),Tt("formGroup",n.apartmentDataForm),Xe(26),Tt("disabled",!n.apartmentDataForm.valid),Xe(2),Tt("ngIf",(null==n.apartmentDataForm.get("apartmentName").errors?null:n.apartmentDataForm.get("apartmentName").errors.required)&&n.apartmentDataForm.get("apartmentName").touched)}}let Qpe=(()=>{class t{constructor(n){this.fb=n,this.aptModalReset=new bt}ngOnInit(){this.apartmentDataForm=this.fb.group({apartmentName:["",qr.required],numberOfFloors:["",qr.required],flatsPerFloor:["",qr.required],numberOfParking:["",qr.required]})}closeModal(){this.showModal=!1,this.aptModalReset.emit()}submitForm(n){if(n.preventDefault(),this.apartmentDataForm.valid){const i=this.apartmentDataForm.value;var r=new qpe;r.apartmentName=i.apartmentName,r.apartmentPerFloor=i.flatsPerFloor,r.floors=i.numberOfFloors,r.parkingSpaces=i.numberOfParking,r.parkingLeft=i.numberOfParking,r.flats=this.generateFlatData(i.numberOfFloors,i.flatsPerFloor),this.aptModalReset.emit(r)}}generateFlatData(n,r){var i=[];for(let o=1;o<=n;o++)for(let a=1;a<=r;a++){var s=new Gpe(a,o,!1,!1,{});i.push(s)}return i}get modalDisplayStyle(){return this.showModal?"block":"none"}static#e=this.\u0275fac=function(r){return new(r||t)(B(yA))};static#t=this.\u0275cmp=pr({type:t,selectors:[["app-modal-apartment"]],inputs:{showModal:"showModal"},outputs:{aptModalReset:"aptModalReset"},decls:1,vars:1,consts:[["class","modal",3,"ngStyle",4,"ngIf"],[1,"modal",3,"ngStyle"],[1,"modal-content"],[2,"text-align","center","font-size","24px","padding-bottom","15px"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","apartmentName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","apartmentName","placeholder","Apartment Name","formControlName","apartmentName",1,"form-control"],["for","floors",1,"col-sm-4","col-form-label"],["type","number","id","floors","placeholder","No. of Floors","formControlName","numberOfFloors",1,"form-control"],["for","flats",1,"col-sm-4","col-form-label"],["type","number","id","flats","placeholder","Flat per Floor","formControlName","flatsPerFloor",1,"form-control"],["for","parkingLot",1,"col-sm-4","col-form-label"],["type","number","id","parkingLot","placeholder","No. of Parking Spaces","formControlName","numberOfParking",1,"form-control"],[1,"form-group","row",2,"display","flex","justify-content","flex-end"],[1,"col-sm-2"],[1,"btn","btn-danger",3,"click"],[1,"col-sm-3"],[1,"btn","btn-primary",3,"disabled"],[4,"ngIf"]],template:function(r,i){1&r&&Lt(0,Ype,33,6,"div",0),2&r&&Tt("ngIf",i.showModal)},dependencies:[QE,XE,sw,Xh,ow,Wb,Kb,yu,Kg],styles:[".modal[_ngcontent-%COMP%]{position:absolute;z-index:1;left:0;top:1;width:100%;overflow:none;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fffc;margin:5% auto;padding:20px;border:1px solid #888;border-radius:10px;width:100%;max-width:600px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}return t})();function Xpe(t,e){if(1&t&&(re(0,"mat-option",16),Ke(1),le()),2&t){const n=e.$implicit;Tt("value",n),Xe(),Th(" ",n.apartmentName," ")}}function Zpe(t,e){1&t&&(re(0,"h4",17),Ke(1," Select an Apartment to check Layout "),le())}function Jpe(t,e){if(1&t&&(re(0,"div",3)(1,"div")(2,"span"),Ke(3,"Total Parking :"),le(),re(4,"span"),Ke(5),le()(),re(6,"div")(7,"span"),Ke(8,"No of parking left :"),le(),re(9,"span"),Ke(10),le()()()),2&t){const n=cn();Xe(5),ru(n.selectedOption.parkingSpaces),Xe(5),ru(n.selectedOption.parkingLeft)}}let eme=(()=>{class t{constructor(n,r){this.userService=n,this.apartmentService=r,this.displayModal=!1,this.displayAptModal=!1,this.apartments=[],this.rows=0,this.columns=0,this.squareData=[],this.masterData=new Zle(this.apartments),this.apartmentService.getapartmentDatas().subscribe(i=>{i.forEach(s=>{this.apartments.push(s)})})}ngOnInit(){}onSelectionChange(){}fetchSelectedFlat(n){this.selectedOption&&n&&(this.flatSelectedForBooking=n),this.displayModal=!this.displayModal}saveUserData(n){n&&(this.selectedOption.flats.forEach((r,i)=>{r.flatNo===this.flatSelectedForBooking.flatNo&&r.floorNo===this.flatSelectedForBooking.floorNo&&(r.isBooked=!0,r.isLandowners=n.isLandOwner,n.flatNumber=r.flatNo,n.floor=r.floorNo,r.allocatedTo=n,n.parkingOpted&&(this.selectedOption.parkingLeft=this.selectedOption.parkingLeft-1))}),this.apartmentService.updateapartmentData(this.selectedOption.id,this.convertToPlainObject(this.selectedOption))),this.displayModal=!this.displayModal,this.resetApartmentList()}convertToPlainObject(n){if("object"!=typeof n||null===n)return n;const r=Array.isArray(n)?[]:{};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=this.convertToPlainObject(n[i]));return r}addNewApartment(){this.displayAptModal=!this.displayAptModal}saveApartmentData(n){this.displayAptModal=!this.displayAptModal,this.apartmentService.addapartmentData(this.convertToPlainObject(n))}resetApartmentList(){this.apartments=[],this.apartmentService.getapartmentDatas().subscribe(n=>{n.forEach(r=>{this.apartments.push(r)})})}static#e=this.\u0275fac=function(r){return new(r||t)(B(Npe),B(kpe))};static#t=this.\u0275cmp=pr({type:t,selectors:[["app-main-app"]],decls:25,vars:7,consts:[[2,"background-color","aliceblue","height","calc(100% - 130px)"],[1,"wrapper"],[1,"row"],[1,"col-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-10"],["appearance","fill"],[3,"value","valueChange","change"],[3,"value",4,"ngFor","ngForOf"],["style","padding-top: 15px; padding-left: 50px",4,"ngIf"],[1,"scrollable-container"],[1,"scrollable-content"],[3,"apartment","myEventEmitter"],["class","col-2",4,"ngIf"],[3,"showModal","modalReset"],[3,"showModal","aptModalReset"],[3,"value"],[2,"padding-top","15px","padding-left","50px"]],template:function(r,i){1&r&&(ft(0,"app-header"),re(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),Wt("click",function(){return i.addNewApartment()}),Ke(6," ADD APARTMENT "),le()(),ft(7,"div",5),le(),re(8,"div",2)(9,"div",3)(10,"mat-form-field",6)(11,"mat-label"),Ke(12,"Select Apartment"),le(),re(13,"mat-select",7),Wt("valueChange",function(o){return i.selectedOption=o})("change",function(){return i.onSelectionChange()}),Lt(14,Xpe,2,2,"mat-option",8),le()()(),re(15,"div",5),Lt(16,Zpe,2,0,"h4",9),re(17,"div",10)(18,"div",11)(19,"grid",12),Wt("myEventEmitter",function(o){return i.fetchSelectedFlat(o)}),le()()()()(),re(20,"div",2),Lt(21,Jpe,11,2,"div",13),le()()(),re(22,"app-modal-user",14),Wt("modalReset",function(o){return i.saveUserData(o)}),le(),re(23,"app-modal-apartment",15),Wt("aptModalReset",function(o){return i.saveApartmentData(o)}),le(),ft(24,"app-footer")),2&r&&(Xe(13),Tt("value",i.selectedOption),Xe(),Tt("ngForOf",null==i.masterData?null:i.masterData.apartments),Xe(2),Tt("ngIf",!i.selectedOption),Xe(3),Tt("apartment",i.selectedOption),Xe(2),Tt("ngIf",i.selectedOption),Xe(),Tt("showModal",i.displayModal),Xe(),Tt("showModal",i.displayAptModal))},dependencies:[lD,QE,Pie,GS,Loe,wU,Ope,Fpe,Bpe,zpe,Qpe],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:5%;margin-right:5%;padding:50px 50px 0;background-color:#f0f8ff;border-radius:20px;min-height:calc(100% - 130px)}.scrollable-container[_ngcontent-%COMP%]{position:fixed;top:100px;min-height:calc(100% - 210px);max-height:calc(100% - 210px);min-width:70%;max-width:70%;overflow:auto}.scrollable-content[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:center;align-items:center}.scrollable-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.scrollable-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#aaa;border-radius:5px}.mat-select-trigger[_ngcontent-%COMP%]{background-color:#fff;color:#333;border:1px solid #ccc;border-radius:4px}.mat-select-trigger[_ngcontent-%COMP%]{height:40px;min-width:200px}.mat-select-panel[_ngcontent-%COMP%]{max-height:200px;width:100%}.row[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return t})();const tq=fe(t=>!!t);let ime=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}canActivate(n,r){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(r){return new(r||t)(L(tH),L(ds))};static#t=this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();(t=>{Xs(tq,fe(e=>e||t))})(["login"]);const sme=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Xle},{path:"app",component:eme,canActivate:[ime]}];let ome=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=zt({imports:[_2.forRoot(sme),_2]})}return t})(),ame=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Zt({type:t,bootstrap:[See]});static#n=this.\u0275inj=zt({imports:[QL,Ine,ome,OU,Voe,rae.initializeApp(Gj_firebaseConfig),Kle,Eoe,Qle]})}return t})();DX().bootstrapModule(ame).catch(t=>console.error(t))},144:(zs,cr,Qe)=>{Qe.d(cr,{A3:()=>j,AL:()=>Li,AV:()=>$n,Cc:()=>Sn,IN:()=>qs,Su:()=>tt,UR:()=>Y,Uv:()=>vo,WW:()=>X,Wg:()=>xt,Ww:()=>we,Y7:()=>er,YD:()=>Xr,Yd:()=>nn,Yj:()=>mc,aw:()=>_i,ik:()=>qa,kF:()=>fc,kx:()=>Z,my:()=>Ws,o9:()=>Ft,qk:()=>Es,sX:()=>kt,t7:()=>mi,uH:()=>bn,yW:()=>Q,yy:()=>V});const Ue=function(S){const T=[];let D=0;for(let G=0;G<S.length;G++){let M=S.charCodeAt(G);M<128?T[D++]=M:M<2048?(T[D++]=M>>6|192,T[D++]=63&M|128):55296==(64512&M)&&G+1<S.length&&56320==(64512&S.charCodeAt(G+1))?(M=65536+((1023&M)<<10)+(1023&S.charCodeAt(++G)),T[D++]=M>>18|240,T[D++]=M>>12&63|128,T[D++]=M>>6&63|128,T[D++]=63&M|128):(T[D++]=M>>12|224,T[D++]=M>>6&63|128,T[D++]=63&M|128)}return T},Ht={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(S,T){if(!Array.isArray(S))throw Error("encodeByteArray takes an array as a parameter");this.init_();const D=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let M=0;M<S.length;M+=3){const me=S[M],ve=M+1<S.length,Ie=ve?S[M+1]:0,Jr=M+2<S.length,fe=Jr?S[M+2]:0;let O=(15&Ie)<<2|fe>>6,ei=63&fe;Jr||(ei=64,ve||(O=64)),G.push(D[me>>2],D[(3&me)<<4|Ie>>4],D[O],D[ei])}return G.join("")},encodeString(S,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(S):this.encodeByteArray(Ue(S),T)},decodeString(S,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(S):function(S){const T=[];let D=0,G=0;for(;D<S.length;){const M=S[D++];if(M<128)T[G++]=String.fromCharCode(M);else if(M>191&&M<224){const me=S[D++];T[G++]=String.fromCharCode((31&M)<<6|63&me)}else if(M>239&&M<365){const Jr=((7&M)<<18|(63&S[D++])<<12|(63&S[D++])<<6|63&S[D++])-65536;T[G++]=String.fromCharCode(55296+(Jr>>10)),T[G++]=String.fromCharCode(56320+(1023&Jr))}else{const me=S[D++],ve=S[D++];T[G++]=String.fromCharCode((15&M)<<12|(63&me)<<6|63&ve)}}return T.join("")}(this.decodeStringToByteArray(S,T))},decodeStringToByteArray(S,T){this.init_();const D=T?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let M=0;M<S.length;){const me=D[S.charAt(M++)],Ie=M<S.length?D[S.charAt(M)]:0;++M;const fe=M<S.length?D[S.charAt(M)]:64;++M;const ot=M<S.length?D[S.charAt(M)]:64;if(++M,null==me||null==Ie||null==fe||null==ot)throw new et;G.push(me<<2|Ie>>4),64!==fe&&(G.push(Ie<<4&240|fe>>2),64!==ot&&G.push(fe<<6&192|ot))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let S=0;S<this.ENCODED_VALS.length;S++)this.byteToCharMap_[S]=this.ENCODED_VALS.charAt(S),this.charToByteMap_[this.byteToCharMap_[S]]=S,this.byteToCharMapWebSafe_[S]=this.ENCODED_VALS_WEBSAFE.charAt(S),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[S]]=S,S>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(S)]=S,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(S)]=S)}}};class et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xt=function(S){return function(S){const T=Ue(S);return Ht.encodeByteArray(T,!0)}(S).replace(/\./g,"")},X=function(S){try{return Ht.decodeString(S,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function we(S,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===S&&(S={});break;case Array:S=[];break;default:return T}for(const D in T)!T.hasOwnProperty(D)||!dt(D)||(S[D]=we(S[D],T[D]));return S}function dt(S){return"__proto__"!==S}const ht=()=>{try{return function It(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const S=process.env.__FIREBASE_DEFAULTS__;return S?JSON.parse(S):void 0})()||(()=>{if(typeof document>"u")return;let S;try{S=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=S&&X(S[1]);return T&&JSON.parse(T)})()}catch(S){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${S}`)}},nn=()=>{var S;return null===(S=ht())||void 0===S?void 0:S.config},kt=S=>{var T;return null===(T=ht())||void 0===T?void 0:T[`_${S}`]};class Ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,D)=>{this.resolve=T,this.reject=D})}wrapCallback(T){return(D,G)=>{D?this.reject(D):this.resolve(G),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(D):T(D,G))}}}function Xr(S,T){if(S.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=T||"demo-project",M=S.iat||0,me=S.sub||S.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ve=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:M,exp:M+3600,auth_time:M,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},S);return[xt(JSON.stringify({alg:"none",type:"JWT"})),xt(JSON.stringify(ve)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $n(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Q(){var S;const T=null===(S=ht())||void 0===S?void 0:S.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bn(){return"object"==typeof self&&self.self===self}function Sn(){const S="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof S&&void 0!==S.id}function Li(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vo(){const S=tt();return S.indexOf("MSIE ")>=0||S.indexOf("Trident/")>=0}function Es(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){try{return"object"==typeof indexedDB}catch{return!1}}function j(){return new Promise((S,T)=>{try{let D=!0;const G="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(G);M.onsuccess=()=>{M.result.close(),D||self.indexedDB.deleteDatabase(G),S(!0)},M.onupgradeneeded=()=>{D=!1},M.onerror=()=>{var me;T((null===(me=M.error)||void 0===me?void 0:me.message)||"")}}catch(D){T(D)}})}class Z extends Error{constructor(T,D,G){super(D),this.code=T,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,Z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y.prototype.create)}}class Y{constructor(T,D,G){this.service=T,this.serviceName=D,this.errors=G}create(T,...D){const G=D[0]||{},M=`${this.service}/${T}`,me=this.errors[T],ve=me?function ke(S,T){return S.replace(yt,(D,G)=>{const M=T[G];return null!=M?String(M):`<${G}?>`})}(me,G):"Error";return new Z(M,`${this.serviceName}: ${ve} (${M}).`,G)}}const yt=/\{\$([^}]+)}/g;function er(S,T){return Object.prototype.hasOwnProperty.call(S,T)}function mi(S){for(const T in S)if(Object.prototype.hasOwnProperty.call(S,T))return!1;return!0}function qs(S,T){if(S===T)return!0;const D=Object.keys(S),G=Object.keys(T);for(const M of D){if(!G.includes(M))return!1;const me=S[M],ve=T[M];if(gi(me)&&gi(ve)){if(!qs(me,ve))return!1}else if(me!==ve)return!1}for(const M of G)if(!D.includes(M))return!1;return!0}function gi(S){return null!==S&&"object"==typeof S}function qa(S){const T=[];for(const[D,G]of Object.entries(S))Array.isArray(G)?G.forEach(M=>{T.push(encodeURIComponent(D)+"="+encodeURIComponent(M))}):T.push(encodeURIComponent(D)+"="+encodeURIComponent(G));return T.length?"&"+T.join("&"):""}function _i(S){const T={};return S.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[M,me]=G.split("=");T[decodeURIComponent(M)]=decodeURIComponent(me)}}),T}function fc(S){const T=S.indexOf("?");if(!T)return"";const D=S.indexOf("#",T);return S.substring(T,D>0?D:void 0)}function Ws(S,T){const D=new bs(S,T);return D.subscribe.bind(D)}class bs{constructor(T,D){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=D,this.task.then(()=>{T(this)}).catch(G=>{this.error(G)})}next(T){this.forEachObserver(D=>{D.next(T)})}error(T){this.forEachObserver(D=>{D.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,D,G){let M;if(void 0===T&&void 0===D&&void 0===G)throw new Error("Missing Observer.");M=function ws(S,T){if("object"!=typeof S||null===S)return!1;for(const D of T)if(D in S&&"function"==typeof S[D])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:D,complete:G},void 0===M.next&&(M.next=Eo),void 0===M.error&&(M.error=Eo),void 0===M.complete&&(M.complete=Eo);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),me}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let D=0;D<this.observers.length;D++)this.sendOne(D,T)}sendOne(T,D){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{D(this.observers[T])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eo(){}function mc(S){return S&&S._delegate?S._delegate:S}},368:(zs,cr,Qe)=>{Qe.d(cr,{c:()=>Zn});var E=Qe(144),ze=Qe(920),F=Qe(360),Ue=Qe(976);class En{constructor(rt,ht){this._delegate=rt,this.firebase=ht,(0,F._addComponent)(rt,new ze.Yl("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(rt,ht=F._DEFAULT_ENTRY_NAME){var Jn;this._delegate.checkDestroyed();const ur=this._delegate.container.getProvider(rt);return!ur.isInitialized()&&"EXPLICIT"===(null===(Jn=ur.getComponent())||void 0===Jn?void 0:Jn.instantiationMode)&&ur.initialize(),ur.getImmediate({identifier:ht})}_removeServiceInstance(rt,ht=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(ht)}_addComponent(rt){(0,F._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,F._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const et=new E.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function xt(){const Nt=function Lr(Nt){const rt={},ht={__esModule:!0,initializeApp:function nn(tt,$n={}){const Q=F.initializeApp(tt,$n);if((0,E.Y7)(rt,Q.name))return rt[Q.name];const bn=new Nt(Q,ht);return rt[Q.name]=bn,bn},app:ur,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ft(tt){const $n=tt.name,Q=$n.replace("-compat","");if(F._registerComponent(tt)&&"PUBLIC"===tt.type){const bn=(Sn=ur())=>{if("function"!=typeof Sn[Q])throw et.create("invalid-app-argument",{appName:$n});return Sn[Q]()};void 0!==tt.serviceProps&&(0,E.Ww)(bn,tt.serviceProps),ht[Q]=bn,Nt.prototype[Q]=function(...Sn){return this._getService.bind(this,$n).apply(this,tt.multipleInstances?Sn:[])}}return"PUBLIC"===tt.type?ht[Q]:null},removeApp:function Jn(tt){delete rt[tt]},useAsService:function Xr(tt,$n){return"serverAuth"===$n?null:$n},modularAPIs:F}};function ur(tt){if(!(0,E.Y7)(rt,tt=tt||F._DEFAULT_ENTRY_NAME))throw et.create("no-app",{appName:tt});return rt[tt]}return ht.default=ht,Object.defineProperty(ht,"apps",{get:function kt(){return Object.keys(rt).map(tt=>rt[tt])}}),ur.App=Nt,ht}(En);return Nt.INTERNAL=Object.assign(Object.assign({},Nt.INTERNAL),{createFirebaseNamespace:xt,extendNamespace:function rt(ht){(0,E.Ww)(Nt,ht)},createSubscribe:E.my,ErrorFactory:E.UR,deepExtend:E.Ww}),Nt}(),oe=new Ue.YJ("@firebase/app-compat");if((0,E.uH)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Nt=self.firebase.SDK_VERSION;Nt&&Nt.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Zn=X;!function It(Nt){(0,F.registerVersion)("@firebase/app-compat","0.2.23",Nt)}()},360:(zs,cr,Qe)=>{Qe.r(cr),Qe.d(cr,{FirebaseError:()=>Ue.kx,SDK_VERSION:()=>Qs,_DEFAULT_ENTRY_NAME:()=>_i,_addComponent:()=>bs,_addOrOverwriteComponent:()=>Zr,_apps:()=>yi,_clearComponents:()=>Ks,_components:()=>Ws,_getProvider:()=>Eo,_registerComponent:()=>ws,_removeServiceInstance:()=>bo,deleteApp:()=>Qi,getApp:()=>Ga,getApps:()=>Wa,initializeApp:()=>pc,onLog:()=>sa,registerVersion:()=>Xs,setLogLevel:()=>Ot});var E=Qe(528),ze=Qe(920),F=Qe(976),Ue=Qe(144);const En=(H,k)=>k.some(te=>H instanceof te);let Ht,et;const X=new WeakMap,oe=new WeakMap,we=new WeakMap,dt=new WeakMap,It=new WeakMap;let rt={get(H,k,te){if(H instanceof IDBTransaction){if("done"===k)return oe.get(H);if("objectStoreNames"===k)return H.objectStoreNames||we.get(H);if("store"===k)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return nn(H[k])},set:(H,k,te)=>(H[k]=te,!0),has:(H,k)=>H instanceof IDBTransaction&&("done"===k||"store"===k)||k in H};function ur(H){return"function"==typeof H?function Jn(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xt(){return et||(et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...k){return H.apply(kt(this),k),nn(X.get(this))}:function(...k){return nn(H.apply(kt(this),k))}:function(k,...te){const Re=H.call(kt(this),k,...te);return we.set(Re,k.sort?k.sort():[k]),nn(Re)}}(H):(H instanceof IDBTransaction&&function Nt(H){if(oe.has(H))return;const k=new Promise((te,Re)=>{const qe=()=>{H.removeEventListener("complete",pt),H.removeEventListener("error",Te),H.removeEventListener("abort",Te)},pt=()=>{te(),qe()},Te=()=>{Re(H.error||new DOMException("AbortError","AbortError")),qe()};H.addEventListener("complete",pt),H.addEventListener("error",Te),H.addEventListener("abort",Te)});oe.set(H,k)}(H),En(H,function Lr(){return Ht||(Ht=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,rt):H)}function nn(H){if(H instanceof IDBRequest)return function Zn(H){const k=new Promise((te,Re)=>{const qe=()=>{H.removeEventListener("success",pt),H.removeEventListener("error",Te)},pt=()=>{te(nn(H.result)),qe()},Te=()=>{Re(H.error),qe()};H.addEventListener("success",pt),H.addEventListener("error",Te)});return k.then(te=>{te instanceof IDBCursor&&X.set(te,H)}).catch(()=>{}),It.set(k,H),k}(H);if(dt.has(H))return dt.get(H);const k=ur(H);return k!==H&&(dt.set(H,k),It.set(k,H)),k}const kt=H=>It.get(H),tt=["get","getKey","getAll","getAllKeys","count"],$n=["put","add","delete","clear"],Q=new Map;function bn(H,k){if(!(H instanceof IDBDatabase)||k in H||"string"!=typeof k)return;if(Q.get(k))return Q.get(k);const te=k.replace(/FromIndex$/,""),Re=k!==te,qe=$n.includes(te);if(!(te in(Re?IDBIndex:IDBObjectStore).prototype)||!qe&&!tt.includes(te))return;const pt=function(){var Te=(0,E.c)(function*(fr,...at){const Is=this.transaction(fr,qe?"readwrite":"readonly");let gc=Is.store;return Re&&(gc=gc.index(at.shift())),(yield Promise.all([gc[te](...at),qe&&Is.done]))[0]});return function(at){return Te.apply(this,arguments)}}();return Q.set(k,pt),pt}!function ht(H){rt=H(rt)}(H=>({...H,get:(k,te,Re)=>bn(k,te)||H.get(k,te,Re),has:(k,te)=>!!bn(k,te)||H.has(k,te)}));class Sn{constructor(k){this.container=k}getPlatformInfoString(){return this.container.getProviders().map(te=>{if(function Li(H){const k=H.getComponent();return"VERSION"===k?.type}(te)){const Re=te.getImmediate();return`${Re.library}/${Re.version}`}return null}).filter(te=>te).join(" ")}}const vs="@firebase/app",pi=new F.YJ("@firebase/app"),_i="[DEFAULT]",fc={[vs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yi=new Map,Ws=new Map;function bs(H,k){try{H.container.addComponent(k)}catch(te){pi.debug(`Component ${k.name} failed to register with FirebaseApp ${H.name}`,te)}}function Zr(H,k){H.container.addOrOverwriteComponent(k)}function ws(H){const k=H.name;if(Ws.has(k))return pi.debug(`There were multiple attempts to register component ${k}.`),!1;Ws.set(k,H);for(const te of yi.values())bs(te,H);return!0}function Eo(H,k){const te=H.container.getProvider("heartbeat").getImmediate({optional:!0});return te&&te.triggerHeartbeat(),H.container.getProvider(k)}function bo(H,k,te=_i){Eo(H,k).clearInstance(te)}function Ks(){Ws.clear()}const Vi=new Ue.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tr{constructor(k,te,Re){this._isDeleted=!1,this._options=Object.assign({},k),this._config=Object.assign({},te),this._name=te.name,this._automaticDataCollectionEnabled=te.automaticDataCollectionEnabled,this._container=Re,this.container.addComponent(new ze.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this.checkDestroyed(),this._automaticDataCollectionEnabled=k}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(k){this._isDeleted=k}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const Qs="10.6.0";function pc(H,k={}){let te=H;"object"!=typeof k&&(k={name:k});const Re=Object.assign({name:_i,automaticDataCollectionEnabled:!1},k),qe=Re.name;if("string"!=typeof qe||!qe)throw Vi.create("bad-app-name",{appName:String(qe)});if(te||(te=(0,Ue.Yd)()),!te)throw Vi.create("no-options");const pt=yi.get(qe);if(pt){if((0,Ue.IN)(te,pt.options)&&(0,Ue.IN)(Re,pt.config))return pt;throw Vi.create("duplicate-app",{appName:qe})}const Te=new ze.op(qe);for(const at of Ws.values())Te.addComponent(at);const fr=new Tr(te,Re,Te);return yi.set(qe,fr),fr}function Ga(H=_i){const k=yi.get(H);if(!k&&H===_i&&(0,Ue.Yd)())return pc();if(!k)throw Vi.create("no-app",{appName:H});return k}function Wa(){return Array.from(yi.values())}function Qi(H){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,E.c)(function*(H){const k=H.name;yi.has(k)&&(yi.delete(k),yield Promise.all(H.container.getProviders().map(te=>te.delete())),H.isDeleted=!0)})).apply(this,arguments)}function Xs(H,k,te){var Re;let qe=null!==(Re=fc[H])&&void 0!==Re?Re:H;te&&(qe+=`-${te}`);const pt=qe.match(/\s|\//),Te=k.match(/\s|\//);if(pt||Te){const fr=[`Unable to register library "${qe}" with version "${k}":`];return pt&&fr.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),pt&&Te&&fr.push("and"),Te&&fr.push(`version name "${k}" contains illegal characters (whitespace or "/")`),void pi.warn(fr.join(" "))}ws(new ze.Yl(`${qe}-version`,()=>({library:qe,version:k}),"VERSION"))}function sa(H,k){if(null!==H&&"function"!=typeof H)throw Vi.create("invalid-log-argument");(0,F.S2)(H,k)}function Ot(H){(0,F.QN)(H)}const Ka="firebase-heartbeat-database",mc=1,S="firebase-heartbeat-store";let T=null;function D(){return T||(T=function Ft(H,k,{blocked:te,upgrade:Re,blocking:qe,terminated:pt}={}){const Te=indexedDB.open(H,k),fr=nn(Te);return Re&&Te.addEventListener("upgradeneeded",at=>{Re(nn(Te.result),at.oldVersion,at.newVersion,nn(Te.transaction),at)}),te&&Te.addEventListener("blocked",at=>te(at.oldVersion,at.newVersion,at)),fr.then(at=>{pt&&at.addEventListener("close",()=>pt()),qe&&at.addEventListener("versionchange",Is=>qe(Is.oldVersion,Is.newVersion,Is))}).catch(()=>{}),fr}(Ka,mc,{upgrade:(H,k)=>{0===k&&H.createObjectStore(S)}}).catch(H=>{throw Vi.create("idb-open",{originalErrorMessage:H.message})})),T}function M(){return(M=(0,E.c)(function*(H){try{return yield(yield D()).transaction(S).objectStore(S).get(Ie(H))}catch(k){if(k instanceof Ue.kx)pi.warn(k.message);else{const te=Vi.create("idb-get",{originalErrorMessage:k?.message});pi.warn(te.message)}}})).apply(this,arguments)}function me(H,k){return ve.apply(this,arguments)}function ve(){return(ve=(0,E.c)(function*(H,k){try{const Re=(yield D()).transaction(S,"readwrite");yield Re.objectStore(S).put(k,Ie(H)),yield Re.done}catch(te){if(te instanceof Ue.kx)pi.warn(te.message);else{const Re=Vi.create("idb-set",{originalErrorMessage:te?.message});pi.warn(Re.message)}}})).apply(this,arguments)}function Ie(H){return`${H.name}!${H.options.appId}`}class hr{constructor(k){this.container=k,this._heartbeatsCache=null;const te=this.container.getProvider("app").getImmediate();this._storage=new ei(te),this._heartbeatsCachePromise=this._storage.read().then(Re=>(this._heartbeatsCache=Re,Re))}triggerHeartbeat(){var k=this;return(0,E.c)(function*(){var te;const qe=k.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=ot();if(null==(null===(te=k._heartbeatsCache)||void 0===te?void 0:te.heartbeats)&&(k._heartbeatsCache=yield k._heartbeatsCachePromise),k._heartbeatsCache.lastSentHeartbeatDate!==pt&&!k._heartbeatsCache.heartbeats.some(Te=>Te.date===pt))return k._heartbeatsCache.heartbeats.push({date:pt,agent:qe}),k._heartbeatsCache.heartbeats=k._heartbeatsCache.heartbeats.filter(Te=>{const fr=new Date(Te.date).valueOf();return Date.now()-fr<=2592e6}),k._storage.overwrite(k._heartbeatsCache)})()}getHeartbeatsHeader(){var k=this;return(0,E.c)(function*(){var te;if(null===k._heartbeatsCache&&(yield k._heartbeatsCachePromise),null==(null===(te=k._heartbeatsCache)||void 0===te?void 0:te.heartbeats)||0===k._heartbeatsCache.heartbeats.length)return"";const Re=ot(),{heartbeatsToSend:qe,unsentEntries:pt}=function O(H,k=1024){const te=[];let Re=H.slice();for(const qe of H){const pt=te.find(Te=>Te.agent===qe.agent);if(pt){if(pt.dates.push(qe.date),Zs(te)>k){pt.dates.pop();break}}else if(te.push({agent:qe.agent,dates:[qe.date]}),Zs(te)>k){te.pop();break}Re=Re.slice(1)}return{heartbeatsToSend:te,unsentEntries:Re}}(k._heartbeatsCache.heartbeats),Te=(0,Ue.Wg)(JSON.stringify({version:2,heartbeats:qe}));return k._heartbeatsCache.lastSentHeartbeatDate=Re,pt.length>0?(k._heartbeatsCache.heartbeats=pt,yield k._storage.overwrite(k._heartbeatsCache)):(k._heartbeatsCache.heartbeats=[],k._storage.overwrite(k._heartbeatsCache)),Te})()}}function ot(){return(new Date).toISOString().substring(0,10)}class ei{constructor(k){this.app=k,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.c)(function*(){return!!(0,Ue.yy)()&&(0,Ue.A3)().then(()=>!0).catch(()=>!1)})()}read(){var k=this;return(0,E.c)(function*(){return(yield k._canUseIndexedDBPromise)&&(yield function G(H){return M.apply(this,arguments)}(k.app))||{heartbeats:[]}})()}overwrite(k){var te=this;return(0,E.c)(function*(){var Re;if(yield te._canUseIndexedDBPromise){const pt=yield te.read();return me(te.app,{lastSentHeartbeatDate:null!==(Re=k.lastSentHeartbeatDate)&&void 0!==Re?Re:pt.lastSentHeartbeatDate,heartbeats:k.heartbeats})}})()}add(k){var te=this;return(0,E.c)(function*(){var Re;if(yield te._canUseIndexedDBPromise){const pt=yield te.read();return me(te.app,{lastSentHeartbeatDate:null!==(Re=k.lastSentHeartbeatDate)&&void 0!==Re?Re:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...k.heartbeats]})}})()}}function Zs(H){return(0,Ue.Wg)(JSON.stringify({version:2,heartbeats:H})).length}!function Yu(H){ws(new ze.Yl("platform-logger",k=>new Sn(k),"PRIVATE")),ws(new ze.Yl("heartbeat",k=>new hr(k),"PRIVATE")),Xs(vs,"0.9.23",H),Xs(vs,"0.9.23","esm2017"),Xs("fire-js","")}("")},920:(zs,cr,Qe)=>{Qe.d(cr,{Yl:()=>F,op:()=>Lr});var E=Qe(528),ze=Qe(144);class F{constructor(X,oe,we){this.name=X,this.instanceFactory=oe,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Ue="[DEFAULT]";class En{constructor(X,oe){this.name=X,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const oe=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(oe)){const we=new ze.o9;if(this.instancesDeferred.set(oe,we),this.isInitialized(oe)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:oe});dt&&we.resolve(dt)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(X){var oe;const we=this.normalizeInstanceIdentifier(X?.identifier),dt=null!==(oe=X?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(It){if(dt)return null;throw It}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function et(xt){return"EAGER"===xt.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch{}for(const[oe,we]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(oe);try{const It=this.getOrInitializeService({instanceIdentifier:dt});we.resolve(It)}catch{}}}}clearInstance(X=Ue){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,E.c)(function*(){const oe=Array.from(X.instances.values());yield Promise.all([...oe.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...oe.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Ue){return this.instances.has(X)}getOptions(X=Ue){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:oe={}}=X,we=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:we,options:oe});for(const[It,Zn]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(It)&&Zn.resolve(dt);return dt}onInit(X,oe){var we;const dt=this.normalizeInstanceIdentifier(oe),It=null!==(we=this.onInitCallbacks.get(dt))&&void 0!==we?we:new Set;It.add(X),this.onInitCallbacks.set(dt,It);const Zn=this.instances.get(dt);return Zn&&X(Zn,dt),()=>{It.delete(X)}}invokeOnInitCallbacks(X,oe){const we=this.onInitCallbacks.get(oe);if(we)for(const dt of we)try{dt(X,oe)}catch{}}getOrInitializeService({instanceIdentifier:X,options:oe={}}){let we=this.instances.get(X);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(xt=X,xt===Ue?void 0:xt),options:oe}),this.instances.set(X,we),this.instancesOptions.set(X,oe),this.invokeOnInitCallbacks(we,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,we)}catch{}var xt;return we||null}normalizeInstanceIdentifier(X=Ue){return this.component?this.component.multipleInstances?X:Ue:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lr{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const oe=this.getProvider(X.name);if(oe.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);oe.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const oe=new En(X,this);return this.providers.set(X,oe),oe}getProviders(){return Array.from(this.providers.values())}}},976:(zs,cr,Qe)=>{Qe.d(cr,{Ge:()=>ze,QN:()=>Lr,S2:()=>xt,YJ:()=>et});const E=[];var ze=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(ze||{});const F={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Ue=ze.INFO,En={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Ht=(X,oe,...we)=>{if(oe<X.logLevel)return;const dt=(new Date).toISOString(),It=En[oe];if(!It)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[It](`[${dt}]  ${X.name}:`,...we)};class et{constructor(oe){this.name=oe,this._logLevel=Ue,this._logHandler=Ht,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in ze))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?F[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...oe),this._logHandler(this,ze.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...oe),this._logHandler(this,ze.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...oe),this._logHandler(this,ze.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...oe),this._logHandler(this,ze.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...oe),this._logHandler(this,ze.ERROR,...oe)}}function Lr(X){E.forEach(oe=>{oe.setLogLevel(X)})}function xt(X,oe){for(const we of E){let dt=null;oe&&oe.level&&(dt=F[oe.level]),we.userLogHandler=null===X?null:(It,Zn,...Nt)=>{const rt=Nt.map(ht=>{if(null==ht)return null;if("string"==typeof ht)return ht;if("number"==typeof ht||"boolean"==typeof ht)return ht.toString();if(ht instanceof Error)return ht.message;try{return JSON.stringify(ht)}catch{return null}}).filter(ht=>ht).join(" ");Zn>=(dt??It.logLevel)&&X({level:ze[Zn].toLowerCase(),message:rt,args:Nt,type:It.name})}}}},344:(zs,cr,Qe)=>{Qe.r(cr);var E=Qe(528),ze=Qe(368),F=Qe(144),Ue=Qe(360),En=Qe(976),Ht=Qe(316),et=Qe(920);const xt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Zn=function dt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Nt=function It(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new F.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jn=new En.YJ("@firebase/auth");function nn(f,...c){Jn.logLevel<=En.Ge.ERROR&&Jn.error(`Auth (${Ue.SDK_VERSION}): ${f}`,...c)}function kt(f,...c){throw $n(f,...c)}function Ft(f,...c){return $n(f,...c)}function Xr(f,c,d){const p=Object.assign(Object.assign({},Nt()),{[c]:d});return new F.UR("auth","Firebase",p).create(c,{appName:f.name})}function tt(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&kt(f,"argument-error"),Xr(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $n(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return rt.create(f,...c)}function Q(f,c,...d){if(!f)throw $n(c,...d)}function bn(f){const c="INTERNAL ASSERTION FAILED: "+f;throw nn(c),new Error(c)}function Sn(f,c){f||bn(c)}function Li(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function vs(){return"http:"===vo()||"https:"===vo()}function vo(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Es{constructor(c,d){this.shortDelay=c,this.longDelay=d,Sn(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,F.AV)()||(0,F.AL)()}get(){return function pi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vs()||(0,F.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(f,c){Sn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class j{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},W=new Es(3e4,6e4);function Z(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function Y(f,c,d,p){return ke.apply(this,arguments)}function ke(){return(ke=(0,E.c)(function*(f,c,d,p,_={}){return yt(f,_,(0,E.c)(function*(){let v={},C={};p&&("GET"===c?C=p:v={body:JSON.stringify(p)});const R=(0,F.ik)(Object.assign({key:f.config.apiKey},C)).slice(1),$=yield f._getAdditionalHeaders();return $["Content-Type"]="application/json",f.languageCode&&($["X-Firebase-Locale"]=f.languageCode),j.fetch()(An(f,f.config.apiHost,d,R),Object.assign({method:c,headers:$,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function yt(f,c,d){return kn.apply(this,arguments)}function kn(){return(kn=(0,E.c)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},K),c);try{const _=new dr(f),v=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const C=yield v.json();if("needConfirmation"in C)throw zn(f,"account-exists-with-different-credential",C);if(v.ok&&!("errorMessage"in C))return C;{const R=v.ok?C.errorMessage:C.error.message,[$,ue]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$)throw zn(f,"credential-already-in-use",C);if("EMAIL_EXISTS"===$)throw zn(f,"email-already-in-use",C);if("USER_DISABLED"===$)throw zn(f,"user-disabled",C);const ye=p[$]||$.toLowerCase().replace(/[_\s]+/g,"-");if(ue)throw Xr(f,ye,ue);kt(f,ye)}}catch(_){if(_ instanceof F.kx)throw _;kt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ae(f,c,d,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,E.c)(function*(f,c,d,p,_={}){const v=yield Y(f,c,d,p,_);return"mfaPendingCredential"in v&&kt(f,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function An(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?V(f.config,_):`${f.config.apiScheme}://${_}`}function xe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Ft(this.auth,"network-request-failed")),W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Ft(f,c,p);return _.customData._tokenResponse=d,_}function er(f){return void 0!==f&&void 0!==f.getResponse}function gt(f){return void 0!==f&&void 0!==f.enterprise}class mi{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return xe(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function qs(){return(qs=(0,E.c)(function*(f){return(yield Y(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gi(f,c){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,E.c)(function*(f,c){return Y(f,"GET","/v2/recaptchaConfig",Z(f,c))})).apply(this,arguments)}function _i(){return(_i=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function yi(){return(yi=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function bs(){return(bs=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Zr(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function bo(){return(bo=(0,E.c)(function*(f,c=!1){const d=(0,F.Yj)(f),p=yield d.getIdToken(c),_=Ys(p);Q(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,C=v?.sign_in_provider;return{claims:_,token:p,authTime:Zr(Ks(_.auth_time)),issuedAtTime:Zr(Ks(_.iat)),expirationTime:Zr(Ks(_.exp)),signInProvider:C||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function Ks(f){return 1e3*Number(f)}function Ys(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return nn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,F.WW)(d);return _?JSON.parse(_):(nn("Failed to decode base64 JWT payload"),null)}catch(_){return nn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Tr(f,c){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,E.c)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof F.kx&&function pc({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Ga{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,E.c)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,E.c)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class Wa{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qi(f){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,E.c)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield Tr(f,function Ws(f,c){return bs.apply(this,arguments)}(d,{idToken:p}));Q(_?.users.length,d,"internal-error");const v=_.users[0];f._notifyReloadListener(v);const C=null!==(c=v.providerUserInfo)&&void 0!==c&&c.length?function Ka(f){return f.map(c=>{var{providerId:d}=c,p=(0,Ht.sX)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(v.providerUserInfo):[],R=function Ot(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,C),ye=!!f.isAnonymous&&!(f.email&&v.passwordHash||R?.length),be={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:R,metadata:new Wa(v.createdAt,v.lastLoginAt),isAnonymous:ye};Object.assign(f,be)}),Cr.apply(this,arguments)}function sa(){return(sa=(0,E.c)(function*(f){const c=(0,F.Yj)(f);yield Qi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function S(){return(S=(0,E.c)(function*(f,c){const d=yield yt(f,{},(0,E.c)(function*(){const p=(0,F.ik)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:v}=f.config,C=An(f,_,"/v1/token",`key=${v}`),R=yield f._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(C,{method:"POST",headers:R,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,E.c)(function*(f,c){return Y(f,"POST","/v2/accounts:revokeToken",Z(f,c))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Q(c.idToken,"internal-error"),Q(typeof c.idToken<"u","internal-error"),Q(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Vi(f){const c=Ys(f);return Q(c,"internal-error"),Q(typeof c.exp<"u","internal-error"),Q(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,E.c)(function*(){return Q(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,E.c)(function*(){const{accessToken:_,refreshToken:v,expiresIn:C}=yield function mc(f,c){return S.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,v,Number(C))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:v}=d,C=new G;return p&&(Q("string"==typeof p,"internal-error",{appName:c}),C.refreshToken=p),_&&(Q("string"==typeof _,"internal-error",{appName:c}),C.accessToken=_),v&&(Q("number"==typeof v,"internal-error",{appName:c}),C.expirationTime=v),C}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return bn("not implemented")}}function M(f,c){Q("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class me{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,v=(0,Ht.sX)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ga(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new Wa(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,E.c)(function*(){const p=yield Tr(d,d.stsTokenManager.getToken(d.auth,c));return Q(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function Eo(f){return bo.apply(this,arguments)}(this,c)}reload(){return function Xs(f){return sa.apply(this,arguments)}(this)}_assign(c){this!==c&&(Q(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new me(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,E.c)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield Qi(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,E.c)(function*(){const d=yield c.getIdToken();return yield Tr(c,function qa(f,c){return _i.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,v,C,R,$,ue,ye;const be=null!==(p=d.displayName)&&void 0!==p?p:void 0,mn=null!==(_=d.email)&&void 0!==_?_:void 0,$i=null!==(v=d.phoneNumber)&&void 0!==v?v:void 0,so=null!==(C=d.photoURL)&&void 0!==C?C:void 0,Ev=null!==(R=d.tenantId)&&void 0!==R?R:void 0,hm=null!==($=d._redirectEventId)&&void 0!==$?$:void 0,bv=null!==(ue=d.createdAt)&&void 0!==ue?ue:void 0,Gd=null!==(ye=d.lastLoginAt)&&void 0!==ye?ye:void 0,{uid:oo,emailVerified:Wd,isAnonymous:fm,providerData:pm,stsTokenManager:wv}=d;Q(oo&&wv,c,"internal-error");const Iv=G.fromJSON(this.name,wv);Q("string"==typeof oo,c,"internal-error"),M(be,c.name),M(mn,c.name),Q("boolean"==typeof Wd,c,"internal-error"),Q("boolean"==typeof fm,c,"internal-error"),M($i,c.name),M(so,c.name),M(Ev,c.name),M(hm,c.name),M(bv,c.name),M(Gd,c.name);const mm=new me({uid:oo,auth:c,email:mn,emailVerified:Wd,displayName:be,isAnonymous:fm,photoURL:so,phoneNumber:$i,tenantId:Ev,stsTokenManager:Iv,createdAt:bv,lastLoginAt:Gd});return pm&&Array.isArray(pm)&&(mm.providerData=pm.map(Tv=>Object.assign({},Tv))),hm&&(mm._redirectEventId=hm),mm}static _fromIdTokenResponse(c,d,p=!1){return(0,E.c)(function*(){const _=new G;_.updateFromServerResponse(d);const v=new me({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Qi(v),v})()}}const ve=new Map;function Ie(f){Sn(f instanceof Function,"Expected a class definition");let c=ve.get(f);return c?(Sn(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,ve.set(f,c),c)}const fe=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.c)(function*(){return!0})()}_set(d,p){var _=this;return(0,E.c)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,E.c)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,E.c)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function hr(f,c,d){return`firebase:${f}:${c}:${d}`}class ot{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:v}=this.auth;this.fullUserKey=hr(this.userKey,_.apiKey,v),this.fullPersistenceKey=hr("persistence",_.apiKey,v),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,E.c)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?me._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,E.c)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,E.c)(function*(){if(!d.length)return new ot(Ie(fe),c,p);const _=(yield Promise.all(d.map(function(){var ue=(0,E.c)(function*(ye){if(yield ye._isAvailable())return ye});return function(ye){return ue.apply(this,arguments)}}()))).filter(ue=>ue);let v=_[0]||Ie(fe);const C=hr(p,c.config.apiKey,c.name);let R=null;for(const ue of d)try{const ye=yield ue._get(C);if(ye){const be=me._fromJSON(c,ye);ue!==v&&(R=be),v=ue;break}}catch{}const $=_.filter(ue=>ue._shouldAllowMigration);return v._shouldAllowMigration&&$.length?(v=$[0],R&&(yield v._set(C,R.toJSON())),yield Promise.all(d.map(function(){var ue=(0,E.c)(function*(ye){if(ye!==v)try{yield ye._remove(C)}catch{}});return function(ye){return ue.apply(this,arguments)}}())),new ot(v,c,p)):new ot(v,c,p)})()}}function O(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(H(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(ei(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(te(c))return"Blackberry";if(Re(c))return"Webos";if(Zs(c))return"Safari";if((c.includes("chrome/")||Yu(c))&&!c.includes("edge/"))return"Chrome";if(k(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function ei(f=(0,F.Su)()){return/firefox\//i.test(f)}function Zs(f=(0,F.Su)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Yu(f=(0,F.Su)()){return/crios\//i.test(f)}function H(f=(0,F.Su)()){return/iemobile/i.test(f)}function k(f=(0,F.Su)()){return/android/i.test(f)}function te(f=(0,F.Su)()){return/blackberry/i.test(f)}function Re(f=(0,F.Su)()){return/webos/i.test(f)}function qe(f=(0,F.Su)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function at(f=(0,F.Su)()){return qe(f)||k(f)||Re(f)||te(f)||/windows phone/i.test(f)||H(f)}function gc(f,c=[]){let d;switch(f){case"Browser":d=O((0,F.Su)());break;case"Worker":d=`${O((0,F.Su)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${Ue.SDK_VERSION}/${p}`}class $I{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=v=>new Promise((C,R)=>{try{C(c(v))}catch($){R($)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,E.c)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const v of p)try{v()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Oe(){return(Oe=(0,E.c)(function*(f,c={}){return Y(f,"GET","/v2/passwordPolicy",Z(f,c))})).apply(this,arguments)}class Zf{constructor(c){var d,p,_,v;const C=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=C.minPasswordLength)&&void 0!==d?d:6,C.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=C.maxPasswordLength),void 0!==C.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=C.containsLowercaseCharacter),void 0!==C.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=C.containsUppercaseCharacter),void 0!==C.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=C.containsNumericCharacter),void 0!==C.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=C.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=c.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,v,C,R;const $={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,$),this.validatePasswordCharacterOptions(c,$),$.isValid&&($.isValid=null===(d=$.meetsMinPasswordLength)||void 0===d||d),$.isValid&&($.isValid=null===(p=$.meetsMaxPasswordLength)||void 0===p||p),$.isValid&&($.isValid=null===(_=$.containsLowercaseLetter)||void 0===_||_),$.isValid&&($.isValid=null===(v=$.containsUppercaseLetter)||void 0===v||v),$.isValid&&($.isValid=null===(C=$.containsNumericCharacter)||void 0===C||C),$.isValid&&($.isValid=null===(R=$.containsNonAlphanumericCharacter)||void 0===R||R),$}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,v){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=v))}}class _c{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xu(this),this.idTokenSubscription=new Xu(this),this.beforeStateQueue=new $I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=Ie(d)),this._initializationPromise=this.queue((0,E.c)(function*(){var _,v;if(!p._deleted&&(p.persistenceManager=yield ot.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(v=p.currentUser)||void 0===v?void 0:v.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,E.c)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,E.c)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let v=_,C=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const R=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,$=v?._redirectEventId,ue=yield d.tryRedirectSignIn(c);(!R||R===$)&&ue?.user&&(v=ue.user,C=!0)}if(!v)return d.directlySetCurrentUser(null);if(!v._redirectEventId){if(C)try{yield d.beforeStateQueue.runMiddleware(v)}catch(R){v=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(R))}return v?d.reloadAndSetCurrentUserOrClear(v):d.directlySetCurrentUser(null)}return Q(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===v._redirectEventId?d.directlySetCurrentUser(v):d.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(c){var d=this;return(0,E.c)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,E.c)(function*(){try{yield Qi(c)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function ia(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,E.c)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,E.c)(function*(){const p=c?(0,F.Yj)(c):null;return p&&Q(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,E.c)(function*(){if(!p._deleted)return c&&Q(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,E.c)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,E.c)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,E.c)(function*(){yield d.assertedPersistence.setPersistence(Ie(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,E.c)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,E.c)(function*(){const d=yield function Xt(f){return Oe.apply(this,arguments)}(c),p=new Zf(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new F.UR("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,E.c)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function T(f,c){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,E.c)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,E.c)(function*(){if(!d.redirectPersistenceManager){const p=c&&Ie(c)||d._popupRedirectResolver;Q(p,d,"argument-error"),d.redirectPersistenceManager=yield ot.create(d,[Ie(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,E.c)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,E.c)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,E.c)(function*(){if(c===d.currentUser)return d.queue((0,E.c)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const v="function"==typeof d?d:d.next.bind(d);let C=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(R,this,"internal-error"),R.then(()=>{C||v(this.currentUser)}),"function"==typeof d){const $=c.addObserver(d,p,_);return()=>{C=!0,$()}}{const $=c.addObserver(d);return()=>{C=!0,$()}}}directlySetCurrentUser(c){var d=this;return(0,E.c)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=gc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,E.c)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const v=yield c._getAppCheckToken();return v&&(p["X-Firebase-AppCheck"]=v),p})()}_getAppCheckToken(){var c=this;return(0,E.c)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function ur(f,...c){Jn.logLevel<=En.Ge.WARN&&Jn.warn(`Auth (${Ue.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function $t(f){return(0,F.Yj)(f)}class Xu{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,F.my)(d=>this.observer=d)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xi(f){return new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const v=Ft("internal-error");v.customData=_,d(v)},p.type="text/javascript",p.charset="UTF-8",function hy(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)})}function Ya(f){return`__${f}${Math.floor(1e6*Math.random())}`}class zI{constructor(c){this.type="recaptcha-enterprise",this.auth=$t(c)}verify(c="verify",d=!1){var p=this;return(0,E.c)(function*(){function v(){return v=(0,E.c)(function*(R){if(!d){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var $=(0,E.c)(function*(ue,ye){gi(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(be=>{if(void 0!==be.recaptchaKey){const mn=new mi(be);return null==R.tenantId?R._agentRecaptchaConfig=mn:R._tenantRecaptchaConfigs[R.tenantId]=mn,ue(mn.siteKey)}ye(new Error("recaptcha Enterprise site key undefined"))}).catch(be=>{ye(be)})});return function(ue,ye){return $.apply(this,arguments)}}())}),v.apply(this,arguments)}function C(R,$,ue){const ye=window.grecaptcha;gt(ye)?ye.enterprise.ready(()=>{ye.enterprise.execute(R,{action:c}).then(be=>{$(be)}).catch(()=>{$("NO_RECAPTCHA")})}):ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,$)=>{(function _(R){return v.apply(this,arguments)})(p.auth).then(ue=>{if(!d&&gt(window.grecaptcha))C(ue,R,$);else{if(typeof window>"u")return void $(new Error("RecaptchaVerifier is only supported in browser"));Xi("https://www.google.com/recaptcha/enterprise.js?render="+ue).then(()=>{C(ue,R,$)}).catch(ye=>{$(ye)})}}).catch(ue=>{$(ue)})})})()}}function py(f,c,d){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,E.c)(function*(f,c,d,p=!1){const _=new zI(f);let v;try{v=yield _.verify(d)}catch{v=yield _.verify(d,!0)}const C=Object.assign({},c);return Object.assign(C,p?{captchaResp:v}:{captchaResponse:v}),Object.assign(C,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(C,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),C})).apply(this,arguments)}function Zu(f,c,d,p){return ep.apply(this,arguments)}function ep(){return ep=(0,E.c)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield py(f,c,d,"getOobCode"===d);return p(f,v)}return p(f,c).catch(function(){var v=(0,E.c)(function*(C){if("auth/missing-recaptcha-token"===C.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield py(f,c,d,"getOobCode"===d);return p(f,R)}return Promise.reject(C)});return function(C){return v.apply(this,arguments)}}())}),ep.apply(this,arguments)}function Js(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function WI(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class yc{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return bn("not implemented")}_getIdTokenResponse(c){return bn("not implemented")}_linkToIdToken(c,d){return bn("not implemented")}_getReauthenticationResolver(c){return bn("not implemented")}}function my(f,c){return gy.apply(this,arguments)}function gy(){return(gy=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:resetPassword",Z(f,c))})).apply(this,arguments)}function _y(){return(_y=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function vi(f,c){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function yy(){return(yy=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",Z(f,c))})).apply(this,arguments)}function GM(f,c){return vy.apply(this,arguments)}function vy(){return(vy=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signInWithPassword",Z(f,c))})).apply(this,arguments)}function ce(f,c){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:sendOobCode",Z(f,c))})).apply(this,arguments)}function Qa(){return(Qa=(0,E.c)(function*(f,c){return ce(f,c)})).apply(this,arguments)}function YI(f,c){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,E.c)(function*(f,c){return ce(f,c)})).apply(this,arguments)}function QI(f,c){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,E.c)(function*(f,c){return ce(f,c)})).apply(this,arguments)}function vc(){return(vc=(0,E.c)(function*(f,c){return ce(f,c)})).apply(this,arguments)}function np(){return(np=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signInWithEmailLink",Z(f,c))})).apply(this,arguments)}function Ec(){return(Ec=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signInWithEmailLink",Z(f,c))})).apply(this,arguments)}class Za extends yc{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Za(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Za(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,E.c)(function*(){switch(d.signInMethod){case"password":return Zu(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",GM);case"emailLink":return function by(f,c){return np.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:kt(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,E.c)(function*(){switch(p.signInMethod){case"password":return Zu(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vi);case"emailLink":return function mt(f,c){return Ec.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:kt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function wn(f,c){return td.apply(this,arguments)}function td(){return(td=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signInWithIdp",Z(f,c))})).apply(this,arguments)}class lt extends yc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new lt(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):kt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,v=(0,Ht.sX)(d,["providerId","signInMethod"]);if(!p||!_)return null;const C=new lt(p,_);return C.idToken=v.idToken||void 0,C.accessToken=v.accessToken||void 0,C.secret=v.secret,C.nonce=v.nonce,C.pendingToken=v.pendingToken||null,C}_getIdTokenResponse(c){return wn(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,wn(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,wn(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,F.ik)(d)}return c}}function wy(){return(wy=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:sendVerificationCode",Z(f,c))})).apply(this,arguments)}function bc(){return(bc=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signInWithPhoneNumber",Z(f,c))})).apply(this,arguments)}function nd(){return(nd=(0,E.c)(function*(f,c){const d=yield Ae(f,"POST","/v1/accounts:signInWithPhoneNumber",Z(f,c));if(d.temporaryProof)throw zn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const ip={USER_NOT_FOUND:"user-not-found"};function wc(){return(wc=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signInWithPhoneNumber",Z(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),ip)})).apply(this,arguments)}class Ja extends yc{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Ja({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Ja({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function ee(f,c){return bc.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function rp(f,c){return nd.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function XI(f,c){return wc.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}=c;return p||d||_||v?new Ja({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}):null}}class rd{constructor(c){var d,p,_,v,C,R;const $=(0,F.aw)((0,F.kF)(c)),ue=null!==(d=$.apiKey)&&void 0!==d?d:null,ye=null!==(p=$.oobCode)&&void 0!==p?p:null,be=function YM(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=$.mode)&&void 0!==_?_:null);Q(ue&&ye&&be,"argument-error"),this.apiKey=ue,this.operation=be,this.code=ye,this.continueUrl=null!==(v=$.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(C=$.languageCode)&&void 0!==C?C:null,this.tenantId=null!==(R=$.tenantId)&&void 0!==R?R:null}static parseLink(c){const d=function QM(f){const c=(0,F.aw)((0,F.kF)(f)).link,d=c?(0,F.aw)((0,F.kF)(c)).deep_link_id:null,p=(0,F.aw)((0,F.kF)(f)).deep_link_id;return(p?(0,F.aw)((0,F.kF)(p)).link:null)||p||d||c||f}(c);try{return new rd(d)}catch{return null}}}let oa=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Za._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=rd.parseLink(p);return Q(_,"argument-error"),Za._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Zi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class eo extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class el extends eo{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return Q("providerId"in d&&"signInMethod"in d,"argument-error"),lt._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Q(c.idToken||c.accessToken,"argument-error"),lt._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return el.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return el.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:v,nonce:C,providerId:R}=c;if(!p&&!_&&!d&&!v||!R)return null;try{return new el(R)._credential({idToken:d,accessToken:p,nonce:C,pendingToken:v})}catch{return null}}}let Iy=(()=>{class f extends eo{constructor(){super("facebook.com")}static credential(d){return lt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Ty=(()=>{class f extends eo{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return lt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),sp=(()=>{class f extends eo{constructor(){super("github.com")}static credential(d){return lt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class nl extends yc{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return wn(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,wn(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,wn(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:v}=d;return p&&_&&v&&p===_?new nl(p,v):null}static _create(c,d){return new nl(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class id extends Zi{constructor(c){Q(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return id.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return id.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=nl.fromJSON(c);return Q(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return nl._create(p,d)}catch{return null}}}let L=(()=>{class f extends eo{constructor(){super("twitter.com")}static credential(d,p){return lt._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function op(f,c){return ie.apply(this,arguments)}function ie(){return(ie=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signUp",Z(f,c))})).apply(this,arguments)}class Ur{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,E.c)(function*(){const v=yield me._fromIdTokenResponse(c,p,_),C=sd(p);return new Ur({user:v,providerId:C,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,E.c)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=sd(p);return new Ur({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function sd(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function ap(){return(ap=(0,E.c)(function*(f){var c;const d=$t(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Ur({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield op(d,{returnSecureToken:!0}),_=yield Ur._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class od extends F.kx{constructor(c,d,p,_){var v;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,od.prototype),this.customData={appName:c.name,tenantId:null!==(v=c.tenantId)&&void 0!==v?v:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new od(c,d,p,_)}}function Cy(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?od._fromErrorAndOperation(f,v,c,p):v})}function Ts(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function Ei(){return Ei=(0,E.c)(function*(f,c){const d=(0,F.Yj)(f);yield ge(!0,d,c);const{providerUserInfo:p}=yield function fc(f,c){return yi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=Ts(p||[]);return d.providerData=d.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Ei.apply(this,arguments)}function Ui(f,c){return Et.apply(this,arguments)}function Et(){return(Et=(0,E.c)(function*(f,c,d=!1){const p=yield Tr(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return Ur._forOperation(f,"link",p)})).apply(this,arguments)}function ge(f,c,d){return ld.apply(this,arguments)}function ld(){return(ld=(0,E.c)(function*(f,c,d){yield Qi(c);const _=!1===f?"provider-already-linked":"no-such-provider";Q(Ts(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function cd(f,c){return ud.apply(this,arguments)}function ud(){return(ud=(0,E.c)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const v=yield Tr(f,Cy(p,_,c,f),d);Q(v.idToken,p,"internal-error");const C=Ys(v.idToken);Q(C,p,"internal-error");const{sub:R}=C;return Q(f.uid===R,p,"user-mismatch"),Ur._forOperation(f,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&kt(p,"user-mismatch"),v}})).apply(this,arguments)}function lp(f,c){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.c)(function*(f,c,d=!1){const p="signIn",_=yield Cy(f,p,c),v=yield Ur._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(v.user)),v})).apply(this,arguments)}function Tc(f,c){return dd.apply(this,arguments)}function dd(){return(dd=(0,E.c)(function*(f,c){return lp($t(f),c)})).apply(this,arguments)}function Dy(f,c){return hd.apply(this,arguments)}function hd(){return(hd=(0,E.c)(function*(f,c){const d=(0,F.Yj)(f);return yield ge(!1,d,c.providerId),Ui(d,c)})).apply(this,arguments)}function Sy(f,c){return cp.apply(this,arguments)}function cp(){return(cp=(0,E.c)(function*(f,c){return cd((0,F.Yj)(f),c)})).apply(this,arguments)}function up(){return(up=(0,E.c)(function*(f,c){return Ae(f,"POST","/v1/accounts:signInWithCustomToken",Z(f,c))})).apply(this,arguments)}function dp(){return dp=(0,E.c)(function*(f,c){const d=$t(f),p=yield function Ji(f,c){return up.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield Ur._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),dp.apply(this,arguments)}class Cc{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?hp._fromServerResponse(c,d):"totpInfo"in d?fp._fromServerResponse(c,d):kt(c,"internal-error")}}class hp extends Cc{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new hp(d)}}class fp extends Cc{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new fp(d)}}function Dc(f,c,d){var p;Q((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),Q(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Q(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(Q(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function pp(f){return mp.apply(this,arguments)}function mp(){return(mp=(0,E.c)(function*(f){const c=$t(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function pr(){return(pr=(0,E.c)(function*(f,c,d){const p=$t(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&Dc(p,_,d),yield Zu(p,_,"getOobCode",YI)})).apply(this,arguments)}function gp(){return gp=(0,E.c)(function*(f,c,d){yield my((0,F.Yj)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,E.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&pp(f),_});return function(_){return p.apply(this,arguments)}}())}),gp.apply(this,arguments)}function fd(){return fd=(0,E.c)(function*(f,c){yield function qM(f,c){return yy.apply(this,arguments)}((0,F.Yj)(f),{oobCode:c})}),fd.apply(this,arguments)}function Me(f,c){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,E.c)(function*(f,c){const d=(0,F.Yj)(f),p=yield my(d,{oobCode:c}),_=p.requestType;switch(Q(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(p.mfaInfo,d,"internal-error");default:Q(p.email,d,"internal-error")}let v=null;return p.mfaInfo&&(v=Cc._fromServerResponse($t(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function xn(){return(xn=(0,E.c)(function*(f,c){const{data:d}=yield Me((0,F.Yj)(f),c);return d.email})).apply(this,arguments)}function Cs(){return(Cs=(0,E.c)(function*(f,c,d){const p=$t(f),C=yield Zu(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",op).catch($=>{throw"auth/password-does-not-meet-requirements"===$.code&&pp(f),$}),R=yield Ur._fromIdTokenResponse(p,"signIn",C);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}function pd(){return(pd=(0,E.c)(function*(f,c,d){const p=$t(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function v(C,R){Q(R.handleCodeInApp,p,"argument-error"),R&&Dc(p,C,R)})(_,d),yield Zu(p,_,"getOobCode",QI)})).apply(this,arguments)}function _p(){return(_p=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f),_=oa.credentialWithLink(c,d||Li());return Q(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Tc(p,_)})).apply(this,arguments)}function ae(){return(ae=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:createAuthUri",Z(f,c))})).apply(this,arguments)}function pn(){return pn=(0,E.c)(function*(f,c){const p={identifier:c,continueUri:vs()?Li():"http://localhost"},{signinMethods:_}=yield function an(f,c){return ae.apply(this,arguments)}((0,F.Yj)(f),p);return _||[]}),pn.apply(this,arguments)}function tr(){return tr=(0,E.c)(function*(f,c){const d=(0,F.Yj)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&Dc(d.auth,_,c);const{email:v}=yield function zt(f,c){return Qa.apply(this,arguments)}(d.auth,_);v!==f.email&&(yield f.reload())}),tr.apply(this,arguments)}function Io(){return Io=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&Dc(p.auth,v,d);const{email:C}=yield function ed(f,c){return vc.apply(this,arguments)}(p.auth,v);C!==f.email&&(yield f.reload())}),Io.apply(this,arguments)}function gr(){return(gr=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function He(){return He=(0,E.c)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,F.Yj)(f),v={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},C=yield Tr(p,function Jt(f,c){return gr.apply(this,arguments)}(p.auth,v));p.displayName=C.displayName||null,p.photoURL=C.photoUrl||null;const R=p.providerData.find(({providerId:$})=>"password"===$);R&&(R.displayName=p.displayName,R.photoURL=p.photoURL),yield p._updateTokensIfNecessary(C)}),He.apply(this,arguments)}function la(f,c,d){return rn.apply(this,arguments)}function rn(){return rn=(0,E.c)(function*(f,c,d){const{auth:p}=f,v={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(v.email=c),d&&(v.password=d);const C=yield Tr(f,function KI(f,c){return _y.apply(this,arguments)}(p,v));yield f._updateTokensIfNecessary(C,!0)}),rn.apply(this,arguments)}class ns{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class rs extends ns{constructor(c,d,p,_){super(c,d,p),this.username=_}}class xc extends ns{constructor(c,d){super(c,"facebook.com",d)}}class My extends rs{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class To extends ns{constructor(c,d){super(c,"google.com",d)}}class gd extends rs{constructor(c,d,p){super(c,"twitter.com",d,p)}}function ca(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function Ac(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},v=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const C=null===(d=null===(c=Ys(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(C)return new ns(v,"anonymous"!==C&&"custom"!==C?C:null)}if(!p)return null;switch(p){case"facebook.com":return new xc(v,_);case"github.com":return new My(v,_);case"google.com":return new To(v,_);case"twitter.com":return new gd(v,_,f.screenName||null);case"custom":case"anonymous":return new ns(v,null);default:return new ns(v,p,_)}}(d)}class _r{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new _r("enroll",c,d)}static _fromMfaPendingCredential(c){return new _r("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return _r._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return _r._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Rc{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=$t(c),_=d.customData._serverResponse,v=(_.mfaInfo||[]).map(R=>Cc._fromServerResponse(p,R));Q(_.mfaPendingCredential,p,"internal-error");const C=_r._fromMfaPendingCredential(_.mfaPendingCredential);return new Rc(C,v,function(){var R=(0,E.c)(function*($){const ue=yield $._process(p,C);delete _.mfaInfo,delete _.mfaPendingCredential;const ye=Object.assign(Object.assign({},_),{idToken:ue.idToken,refreshToken:ue.refreshToken});switch(d.operationType){case"signIn":const be=yield Ur._fromIdTokenResponse(p,d.operationType,ye);return yield p._updateCurrentUser(be.user),be;case"reauthenticate":return Q(d.user,p,"internal-error"),Ur._forOperation(d.user,d.operationType,ye);default:kt(p,"internal-error")}});return function($){return R.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,E.c)(function*(){return d.signInResolver(c)})()}}class Oy{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>Cc._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new Oy(c)}getSession(){var c=this;return(0,E.c)(function*(){return _r._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,E.c)(function*(){const _=c,v=yield p.getSession(),C=yield Tr(p.user,_._process(p.user.auth,v,d));return yield p.user._updateTokensIfNecessary(C),p.user.reload()})()}unenroll(c){var d=this;return(0,E.c)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const v=yield Tr(d.user,function vp(f,c){return Y(f,"POST","/v2/accounts/mfaEnrollment:withdraw",Z(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:C})=>C!==p),yield d.user._updateTokensIfNecessary(v),yield d.user.reload()}catch(v){throw v}})()}}const Fy=new WeakMap,Ep="__sak";class sT{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const bp=(()=>{class f extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ZM(){const f=(0,F.Su)();return Zs(f)||qe(f)}()&&function Is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),v=this.localCache[p];_!==v&&d(p,v,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((R,$,ue)=>{this.notifyListeners(R,ue)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(d.newValue!==R)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const v=()=>{const R=this.storage.getItem(_);!p&&this.localCache[_]===R||this.notifyListeners(_,R)},C=this.storage.getItem(_);!function fr(){return(0,F.Uv)()&&10===document.documentMode}()||C===d.newValue||d.newValue===d.oldValue?v():setTimeout(v,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,v=this;return(0,E.c)(function*(){yield _().call(v,d,p),v.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,E.c)(function*(){const v=yield p().call(_,d);return _.localCache[d]=JSON.stringify(v),v})()}_remove(d){var p=()=>super._remove,_=this;return(0,E.c)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),ua=(()=>{class f extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let Vy=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(v=>v.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,E.c)(function*(){const _=d,{eventId:v,eventType:C,data:R}=_.data,$=p.handlersMap[C];if(!$?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:C});const ue=Array.from($).map(function(){var be=(0,E.c)(function*(mn){return mn(_.origin,R)});return function(mn){return be.apply(this,arguments)}}()),ye=yield function Ly(f){return Promise.all(f.map(function(){var c=(0,E.c)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(ue);_.ports[0].postMessage({status:"done",eventId:v,eventType:C,response:ye})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function vd(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class tP{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,E.c)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let C,R;return new Promise(($,ue)=>{const ye=vd("",20);v.port1.start();const be=setTimeout(()=>{ue(new Error("unsupported_event"))},p);R={messageChannel:v,onMessage(mn){const $i=mn;if($i.data.eventId===ye)switch($i.data.status){case"ack":clearTimeout(be),C=setTimeout(()=>{ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(C),$($i.data.response);break;default:clearTimeout(be),clearTimeout(C),ue(new Error("invalid_response"))}}},_.handlers.add(R),v.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:c,eventId:ye,data:d},[v.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function qn(){return window}function no(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function Ed(){return(Ed=(0,E.c)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const By="firebaseLocalStorageDb",Mc="firebaseLocalStorage",wp="fbase_key";class Pc{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ol(f,c){return f.transaction([Mc],c?"readwrite":"readonly").objectStore(Mc)}function ji(){const f=indexedDB.open(By,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Mc,{keyPath:wp})}catch(_){d(_)}}),f.addEventListener("success",(0,E.c)(function*(){const p=f.result;p.objectStoreNames.contains(Mc)?c(p):(p.close(),yield function lT(){const f=indexedDB.deleteDatabase(By);return new Pc(f).toPromise()}(),c(yield ji()))}))})}function Ip(f,c,d){return bd.apply(this,arguments)}function bd(){return(bd=(0,E.c)(function*(f,c,d){const p=ol(f,!0).put({[wp]:c,value:d});return new Pc(p).toPromise()})).apply(this,arguments)}function Tp(){return(Tp=(0,E.c)(function*(f,c){const d=ol(f,!1).get(c),p=yield new Pc(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function cT(f,c){const d=ol(f,!0).delete(c);return new Pc(d).toPromise()}const Fn=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.c)(function*(){return d.db||(d.db=yield ji()),d.db})()}_withRetries(d){var p=this;return(0,E.c)(function*(){let _=0;for(;;)try{const v=yield p._openDb();return yield d(v)}catch(v){if(_++>3)throw v;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.c)(function*(){return no()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.c)(function*(){d.receiver=Vy._getInstance(function Uy(){return no()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,E.c)(function*(_,v){return{keyProcessed:(yield d._poll()).includes(v.key)}});return function(_,v){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,E.c)(function*(_,v){return["keyChanged"]});return function(_,v){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.c)(function*(){var p,_;if(d.activeServiceWorker=yield function oT(){return Ed.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new tP(d.activeServiceWorker);const v=yield d.sender._send("ping",{},800);v&&null!==(p=v[0])&&void 0!==p&&p.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,E.c)(function*(){if(p.sender&&p.activeServiceWorker&&function Ar(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.c)(function*(){try{if(!indexedDB)return!1;const d=yield ji();return yield Ip(d,Ep,"1"),yield cT(d,Ep),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,E.c)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,E.c)(function*(){return _._withPendingWrite((0,E.c)(function*(){return yield _._withRetries(v=>Ip(v,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,E.c)(function*(){const _=yield p._withRetries(v=>function jy(f,c){return Tp.apply(this,arguments)}(v,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,E.c)(function*(){return p._withPendingWrite((0,E.c)(function*(){return yield p._withRetries(_=>cT(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.c)(function*(){const p=yield d._withRetries(C=>{const R=ol(C,!1).getAll();return new Pc(R).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],v=new Set;for(const{fbase_key:C,value:R}of p)v.add(C),JSON.stringify(d.localCache[C])!==JSON.stringify(R)&&(d.notifyListeners(C,R),_.push(C));for(const C of Object.keys(d.localCache))d.localCache[C]&&!v.has(C)&&(d.notifyListeners(C,null),_.push(C));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.c)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),ll=1e12;class hT{constructor(c){this.auth=c,this.counter=ll,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new Ds(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||ll;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||ll))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,E.c)(function*(){var p;return null===(p=d._widgets.get(c||ll))||void 0===p||p.execute(),""})()}}class Ds{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;Q(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hy(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dp=Ya("rcb"),$y=new Es(3e4,6e4);class Ap{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=qn().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return Q(function kc(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&er(qn().grecaptcha)?Promise.resolve(qn().grecaptcha):new Promise((p,_)=>{const v=qn().setTimeout(()=>{_(Ft(c,"network-request-failed"))},$y.get());qn()[Dp]=()=>{qn().clearTimeout(v),delete qn()[Dp];const R=qn().grecaptcha;if(!R||!er(R))return void _(Ft(c,"internal-error"));const $=R.render;R.render=(ue,ye)=>{const be=$(ue,ye);return this.counter++,be},this.hostLanguage=d,p(R)},Xi(`https://www.google.com/recaptcha/api.js??${(0,F.ik)({onload:Dp,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(v),_(Ft(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=qn().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Id{load(c){return(0,E.c)(function*(){return new hT(c)})()}clearedOneInstance(){}}const Td="recaptcha",da={theme:"light",type:"image"};class Be{constructor(c,d,p=Object.assign({},da)){this.parameters=p,this.type=Td,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(c),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;Q(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Id:new Ap,this.validateStartingState()}verify(){var c=this;return(0,E.c)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(v=>{const C=R=>{R&&(c.tokenChangeListeners.delete(C),v(R))};c.tokenChangeListeners.add(C),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=qn()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,E.c)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,E.c)(function*(){Q(vs()&&!no(),c.auth,"internal-error"),yield function zy(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function hc(f){return qs.apply(this,arguments)}(c.auth);Q(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qy{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Ja._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function xp(){return(xp=(0,E.c)(function*(f,c,d){const p=$t(f),_=yield Dd(p,c,(0,F.Yj)(d));return new qy(_,v=>Tc(p,v))})).apply(this,arguments)}function Cd(){return(Cd=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f);yield ge(!1,p,"phone");const _=yield Dd(p.auth,c,(0,F.Yj)(d));return new qy(_,v=>Dy(p,v))})).apply(this,arguments)}function Rp(){return(Rp=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f),_=yield Dd(p.auth,c,(0,F.Yj)(d));return new qy(_,v=>Sy(p,v))})).apply(this,arguments)}function Dd(f,c,d){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,E.c)(function*(f,c,d){var p;const _=yield d.verify();try{let v;if(Q("string"==typeof _,f,"argument-error"),Q(d.type===Td,f,"argument-error"),v="string"==typeof c?{phoneNumber:c}:c,"session"in v){const C=v.session;if("phoneNumber"in v)return Q("enroll"===C.type,f,"internal-error"),(yield function nT(f,c){return Y(f,"POST","/v2/accounts/mfaEnrollment:start",Z(f,c))}(f,{idToken:C.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{Q("signin"===C.type,f,"internal-error");const R=(null===(p=v.multiFactorHint)||void 0===p?void 0:p.uid)||v.multiFactorUid;return Q(R,f,"missing-multi-factor-info"),(yield function uT(f,c){return Y(f,"POST","/v2/accounts/mfaSignIn:start",Z(f,c))}(f,{mfaPendingCredential:C.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:C}=yield function KM(f,c){return wy.apply(this,arguments)}(f,{phoneNumber:v.phoneNumber,recaptchaToken:_});return C}}finally{d._reset()}}),Mp.apply(this,arguments)}function Pp(){return(Pp=(0,E.c)(function*(f,c){yield Ui((0,F.Yj)(f),c)})).apply(this,arguments)}let q=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=$t(d)}verifyPhoneNumber(d,p){return Dd(this.auth,d,(0,F.Yj)(p))}static credential(d,p){return Ja._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Ja._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function it(f,c){return c?Ie(c):(Q(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ss extends yc{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return wn(c,this._buildIdpRequest())}_linkToIdToken(c,d){return wn(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return wn(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Co(f){return lp(f.auth,new Ss(f),f.bypassAuthState)}function jt(f){const{auth:c,user:d}=f;return Q(d,c,"internal-error"),cd(d,new Ss(f),f.bypassAuthState)}function Gy(f){return ha.apply(this,arguments)}function ha(){return(ha=(0,E.c)(function*(f){const{auth:c,user:d}=f;return Q(d,c,"internal-error"),Ui(d,new Ss(f),f.bypassAuthState)})).apply(this,arguments)}class is{constructor(c,d,p,_,v=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,E.c)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(v){c.reject(v)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,E.c)(function*(){const{urlResponse:p,sessionId:_,postBody:v,tenantId:C,error:R,type:$}=c;if(R)return void d.reject(R);const ue={auth:d.auth,requestUri:p,sessionId:_,tenantId:C||void 0,postBody:v||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask($)(ue))}catch(ye){d.reject(ye)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Co;case"linkViaPopup":case"linkViaRedirect":return Gy;case"reauthViaPopup":case"reauthViaRedirect":return jt;default:kt(this.auth,"internal-error")}}resolve(c){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Np=new Es(2e3,1e4);function Op(){return(Op=(0,E.c)(function*(f,c,d){const p=$t(f);tt(f,c,Zi);const _=it(p,d);return new Ad(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function Sd(){return(Sd=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f);tt(p.auth,c,Zi);const _=it(p.auth,d);return new Ad(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function ss(){return(ss=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f);tt(p.auth,c,Zi);const _=it(p.auth,d);return new Ad(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let Ad=(()=>{class f extends is{constructor(d,p,_,v,C){super(d,p,v,C),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.c)(function*(){const p=yield d.execute();return Q(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,E.c)(function*(){Sn(1===d.filter.length,"Popup operations only handle one event");const p=vd();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Ft(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Ft(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ft(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Np.get())};d()}}return f.currentPopupAction=null,f})();const As="pendingRedirect",wi=new Map;class gT extends is{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,E.c)(function*(){let p=wi.get(d.auth._key());if(!p){try{const v=(yield function Wy(f,c){return Fp.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(v)}catch(_){p=()=>Promise.reject(_)}wi.set(d.auth._key(),p)}return d.bypassAuthState||wi.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,E.c)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,E.c)(function*(){})()}cleanUp(){}}function Fp(){return(Fp=(0,E.c)(function*(f,c){const d=Ky(c),p=Rd(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Lp(f,c){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,E.c)(function*(f,c){return Rd(f)._set(Ky(c),"true")})).apply(this,arguments)}function xd(f,c){wi.set(f._key(),c)}function Rd(f){return Ie(f._redirectPersistence)}function Ky(f){return hr(As,f.config.apiKey,f.name)}function Yy(f,c,d){return function Up(f,c,d){return Md.apply(this,arguments)}(f,c,d)}function Md(){return(Md=(0,E.c)(function*(f,c,d){const p=$t(f);tt(f,c,Zi),yield p._initializationPromise;const _=it(p,d);return yield Lp(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function Qy(f,c,d){return function Xy(f,c,d){return Pd.apply(this,arguments)}(f,c,d)}function Pd(){return(Pd=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f);tt(p.auth,c,Zi),yield p.auth._initializationPromise;const _=it(p.auth,d);yield Lp(_,p.auth);const v=yield Hp(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",v)})).apply(this,arguments)}function Bp(f,c,d){return function _T(f,c,d){return nr.apply(this,arguments)}(f,c,d)}function nr(){return(nr=(0,E.c)(function*(f,c,d){const p=(0,F.Yj)(f);tt(p.auth,c,Zi),yield p.auth._initializationPromise;const _=it(p.auth,d);yield ge(!1,p,c.providerId),yield Lp(_,p.auth);const v=yield Hp(p);return _._openRedirect(p.auth,c,"linkViaRedirect",v)})).apply(this,arguments)}function qt(){return(qt=(0,E.c)(function*(f,c){return yield $t(f)._initializationPromise,ul(f,c,!1)})).apply(this,arguments)}function ul(f,c){return jp.apply(this,arguments)}function jp(){return(jp=(0,E.c)(function*(f,c,d=!1){const p=$t(f),_=it(p,c),C=yield new gT(p,_,d).execute();return C&&!d&&(delete C.user._redirectEventId,yield p._persistUserIfCurrent(C.user),yield p._setRedirectUser(null,c)),C})).apply(this,arguments)}function Hp(f){return $p.apply(this,arguments)}function $p(){return($p=(0,E.c)(function*(f){const c=vd(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class zp{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function yT(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ro(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!ro(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Ft(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fc(c))}saveEventToCache(c){this.cachedEventUids.add(Fc(c)),this.lastProcessedEventTime=Date.now()}}function Fc(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function ro({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===c?.code}function Lc(f){return dl.apply(this,arguments)}function dl(){return(dl=(0,E.c)(function*(f,c={}){return Y(f,"GET","/v1/projects",c)})).apply(this,arguments)}const Nd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qp=/^https?/;function kd(){return(kd=(0,E.c)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield Lc(f);for(const d of c)try{if(vT(d))return}catch{}kt(f,"unauthorized-domain")})).apply(this,arguments)}function vT(f){const c=Li(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const C=new URL(f);return""===C.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&C.hostname===p}if(!qp.test(d))return!1;if(Nd.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const hl=new Es(3e4,6e4);function fl(){const f=qn().___jsl;if(f?.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let pl=null;const wT=new Es(5e3,15e3),IT="__/auth/iframe",iP="emulator/auth/iframe",sP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vc(f){const c=f.config;Q(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?V(c,iP):`https://${f.config.authDomain}/${IT}`,p={apiKey:c.apiKey,appName:f.name,v:Ue.SDK_VERSION},_=Gp.get(f.config.apiHost);_&&(p.eid=_);const v=f._getFrameworks();return v.length&&(p.fw=v.join(",")),`${d}?${(0,F.ik)(p).slice(1)}`}function pa(){return pa=(0,E.c)(function*(f){const c=yield function bT(f){return pl=pl||function ET(f){return new Promise((c,d)=>{var p,_,v;function C(){fl(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{fl(),d(Ft(f,"network-request-failed"))},timeout:hl.get()})}if(null!==(_=null===(p=qn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(v=qn().gapi)||void 0===v||!v.load){const R=Ya("iframefcb");return qn()[R]=()=>{gapi.load?C():d(Ft(f,"network-request-failed"))},Xi(`https://apis.google.com/js/api.js?onload=${R}`).catch($=>d($))}C()}}).catch(c=>{throw pl=null,c})}(f),pl}(f),d=qn().gapi;return Q(d,f,"internal-error"),c.open({where:document.body,url:Vc(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sP,dontclear:!0},p=>new Promise(function(){var _=(0,E.c)(function*(v,C){yield p.restyle({setHideOnLeave:!1});const R=Ft(f,"network-request-failed"),$=qn().setTimeout(()=>{C(R)},wT.get());function ue(){qn().clearTimeout($),v(p)}p.ping(ue).then(ue,()=>{C(R)})});return function(v,C){return _.apply(this,arguments)}}()))}),pa.apply(this,arguments)}const Wp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nv{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fd="__/auth/handler",Kp="emulator/auth/handler",rv=encodeURIComponent("fac");function ml(f,c,d,p,_,v){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,E.c)(function*(f,c,d,p,_,v){Q(f.config.authDomain,f,"auth-domain-config-required"),Q(f.config.apiKey,f,"invalid-api-key");const C={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:Ue.SDK_VERSION,eventId:_};if(c instanceof Zi){c.setDefaultLanguage(f.languageCode),C.providerId=c.providerId||"",(0,F.t7)(c.getCustomParameters())||(C.customParameters=JSON.stringify(c.getCustomParameters()));for(const[ye,be]of Object.entries(v||{}))C[ye]=be}if(c instanceof eo){const ye=c.getScopes().filter(be=>""!==be);ye.length>0&&(C.scopes=ye.join(","))}f.tenantId&&(C.tid=f.tenantId);const R=C;for(const ye of Object.keys(R))void 0===R[ye]&&delete R[ye];const $=yield f._getAppCheckToken(),ue=$?`#${rv}=${encodeURIComponent($)}`:"";return`${function DT({config:f}){return f.emulator?V(f,Kp):`https://${f.authDomain}/${Fd}`}(f)}?${(0,F.ik)(R).slice(1)}${ue}`})).apply(this,arguments)}const Ld="webStorageSupport",Yp=class iv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ua,this._completeRedirectFn=ul,this._overrideRedirectResult=xd}_openPopup(c,d,p,_){var v=this;return(0,E.c)(function*(){var C;Sn(null===(C=v.eventManagers[c._key()])||void 0===C?void 0:C.manager,"_initialize() not called before _openPopup()");const R=yield ml(c,d,p,Li(),_);return function xs(f,c,d,p=500,_=600){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),C=Math.max((window.screen.availWidth-p)/2,0).toString();let R="";const $=Object.assign(Object.assign({},Wp),{width:p.toString(),height:_.toString(),top:v,left:C}),ue=(0,F.Su)().toLowerCase();d&&(R=Yu(ue)?"_blank":d),ei(ue)&&(c=c||"http://localhost",$.scrollbars="yes");const ye=Object.entries($).reduce((mn,[$i,so])=>`${mn}${$i}=${so},`,"");if(function Te(f=(0,F.Su)()){var c;return qe(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(ue)&&"_self"!==R)return function CT(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",R),new nv(null);const be=window.open(c||"",R,ye);Q(be,f,"popup-blocked");try{be.focus()}catch{}return new nv(be)}(c,R,vd())})()}_openRedirect(c,d,p,_){var v=this;return(0,E.c)(function*(){return yield v._originValidation(c),function nP(f){qn().location.href=f}(yield ml(c,d,p,Li(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:v}=this.eventManagers[d];return _?Promise.resolve(_):(Sn(v,"If manager is not set, promise should be"),v)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,E.c)(function*(){const p=yield function TT(f){return pa.apply(this,arguments)}(c),_=new zp(c);return p.register("authEvent",v=>(Q(v?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Ld,{type:Ld},_=>{var v;const C=null===(v=_?.[0])||void 0===v?void 0:v[Ld];void 0!==C&&d(!!C),kt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Jy(f){return kd.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return at()||Zs()||qe()}};class Qp{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return bn("unexpected MultiFactorSessionType")}}}class Xp extends Qp{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Xp(c)}_finalizeEnroll(c,d,p){return function yp(f,c){return Y(f,"POST","/v2/accounts/mfaEnrollment:finalize",Z(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Nc(f,c){return Y(f,"POST","/v2/accounts/mfaSignIn:finalize",Z(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vd=(()=>{class f{constructor(){}static assertion(d){return Xp._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var ma="@firebase/auth";class Gn{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,E.c)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hi(){return window}(0,F.sX)("authIdTokenMaxAge"),function rr(f){(0,Ue._registerComponent)(new et.Yl("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),v=c.getProvider("app-check-internal"),{apiKey:C,authDomain:R}=p.options;Q(C&&!C.includes(":"),"invalid-api-key",{appName:p.name});const $={apiKey:C,authDomain:R,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gc(f)},ue=new _c(p,_,v,$);return function qI(f,c){const d=c?.persistence||[],p=(Array.isArray(d)?d:[d]).map(Ie);c?.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,c?.popupRedirectResolver)}(ue,d),ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,Ue._registerComponent)(new et.Yl("auth-internal",c=>{const d=$t(c.getProvider("auth").getImmediate());return new Gn(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)(ma,"1.4.0",function ST(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Ue.registerVersion)(ma,"1.4.0","esm2017")}("Browser");function $c(){return $c=(0,E.c)(function*(f,c,d){var p;const{BuildInfo:_}=Hi();Sn(c.sessionId,"AuthEvent did not contain a session ID");const v=yield function cP(f){return lv.apply(this,arguments)}(c.sessionId),C={};return qe()?C.ibi=_.packageName:k()?C.apn=_.packageName:kt(f,"operation-not-supported-in-this-environment"),_.displayName&&(C.appDisplayName=_.displayName),C.sessionId=v,ml(f,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,C)}),$c.apply(this,arguments)}function ov(){return(ov=(0,E.c)(function*(f){const{BuildInfo:c}=Hi(),d={};qe()?d.iosBundleId=c.packageName:k()?d.androidPackageName=c.packageName:kt(f,"operation-not-supported-in-this-environment"),yield Lc(f,d)})).apply(this,arguments)}function av(){return(av=(0,E.c)(function*(f,c,d){const{cordova:p}=Hi();let _=()=>{};try{yield new Promise((v,C)=>{let R=null;function $(){var be;v();const mn=null===(be=p.plugins.browsertab)||void 0===be?void 0:be.close;"function"==typeof mn&&mn(),"function"==typeof d?.close&&d.close()}function ue(){R||(R=window.setTimeout(()=>{C(Ft(f,"redirect-cancelled-by-user"))},2e3))}function ye(){"visible"===document?.visibilityState&&ue()}c.addPassiveListener($),document.addEventListener("resume",ue,!1),k()&&document.addEventListener("visibilitychange",ye,!1),_=()=>{c.removePassiveListener($),document.removeEventListener("resume",ue,!1),document.removeEventListener("visibilitychange",ye,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function lv(){return(lv=(0,E.c)(function*(f){const c=function uP(f){if(Sn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),d=new Uint8Array(c);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class RT extends zp{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,E.c)(function*(){yield c.initPromise})()}}function cv(f){return _a.apply(this,arguments)}function _a(){return(_a=(0,E.c)(function*(f){const c=yield Do()._get(Ud(f));return c&&(yield Do()._remove(Ud(f))),c})).apply(this,arguments)}function ti(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function Do(){return Ie(bp)}function Ud(f){return hr("authEvent",f.config.apiKey,f.name)}function El(f){if(!f?.includes("?"))return{};const[c,...d]=f.split("?");return(0,F.aw)(d.join("?"))}const hP=class uv{constructor(){this._redirectPersistence=ua,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ul,this._overrideRedirectResult=xd}_initialize(c){var d=this;return(0,E.c)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new RT(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){kt(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var v=this;return(0,E.c)(function*(){!function lP(f){var c,d,p,_,v,C,R,$,ue,ye;const be=Hi();Q("function"==typeof(null===(c=be?.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(d=be?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(v=null===(_=null===(p=be?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===($=null===(R=null===(C=be?.cordova)||void 0===C?void 0:C.plugins)||void 0===R?void 0:R.browsertab)||void 0===$?void 0:$.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(ye=null===(ue=be?.cordova)||void 0===ue?void 0:ue.InAppBrowser)||void 0===ye?void 0:ye.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const C=yield v._initialize(c);yield C.initialized(),C.resetRedirect(),function Vp(){wi.clear()}(),yield v._originValidation(c);const R=function MT(f,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:ti(),postBody:null,tenantId:f.tenantId,error:Ft(f,"no-auth-event")}}(c,p,_);yield function Wn(f,c){return Do()._set(Ud(f),c)}(c,R);const $=yield function sv(f,c,d){return $c.apply(this,arguments)}(c,R,d),ue=yield function xT(f){const{cordova:c}=Hi();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function pt(f=(0,F.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}($);return function aP(f,c,d){return av.apply(this,arguments)}(c,C,ue)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function yl(f){return ov.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:v}=Hi(),C=setTimeout((0,E.c)(function*(){yield cv(c),d.onEvent(ni())}),500),R=function(){var ye=(0,E.c)(function*(be){clearTimeout(C);const mn=yield cv(c);let $i=null;mn&&be?.url&&($i=function PT(f,c){var d,p;const _=function jd(f){const c=El(f),d=c.link?decodeURIComponent(c.link):void 0,p=El(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return El(_).link||_||p||d||f}(c);if(_.includes("/__/auth/callback")){const v=El(_),C=v.firebaseError?function Bd(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,R=null===(p=null===(d=C?.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],$=R?Ft(R):null;return $?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:$,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(mn,be.url)),d.onEvent($i||ni())});return function(mn){return ye.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,R);const $=_,ue=`${v.packageName.toLowerCase()}://`;Hi().handleOpenURL=function(){var ye=(0,E.c)(function*(be){if(be.toLowerCase().startsWith(ue)&&R({url:be}),"function"==typeof $)try{$(be)}catch(mn){console.error(mn)}});return function(be){return ye.apply(this,arguments)}}()}};function ni(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ft("no-auth-event")}}function zc(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function hv(f=(0,F.Su)()){return!("file:"!==zc()&&"ionic:"!==zc()&&"capacitor:"!==zc()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function qc(){try{const f=self.localStorage,c=vd();if(f)return f.setItem(c,"1"),f.removeItem(c),!function rm(f=(0,F.Su)()){return function OT(){return(0,F.Uv)()&&11===document?.documentMode}()||function FT(f=(0,F.Su)()){return/Edge\/\d+/.test(f)}(f)}()||(0,F.yy)()}catch{return im()&&(0,F.yy)()}return!1}function im(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ya(){return(function NT(){return"http:"===zc()||"https:"===zc()}()||(0,F.Cc)()||hv())&&!function kT(){return(0,F.AL)()||(0,F.yW)()}()&&qc()&&!im()}function fv(){return hv()&&typeof document<"u"}function sm(){return(sm=(0,E.c)(function*(){return!!fv()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const $r={LOCAL:"local",NONE:"none",SESSION:"session"},So=Q,om="persistence";function am(f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,E.c)(function*(f){yield f._initializationPromise;const c=mv(),d=hr(om,f.config.apiKey,f.name);c&&c.setItem(d,f._getPersistence())})).apply(this,arguments)}function mv(){var f;try{return(null===(f=function pv(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const pP=Q;class io{constructor(){this.browserResolver=Ie(Yp),this.cordovaResolver=Ie(hP),this.underlyingResolver=null,this._redirectPersistence=ua,this._completeRedirectFn=ul,this._overrideRedirectResult=xd}_initialize(c){var d=this;return(0,E.c)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var v=this;return(0,E.c)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var v=this;return(0,E.c)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return fv()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pP(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,E.c)(function*(){if(c.underlyingResolver)return;const d=yield function Hd(){return sm.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function gv(f){return f.unwrap()}function VT(f){return _v(f)}function _v(f){const{_tokenResponse:c}=f instanceof F.kx?f.customData:f;if(!c)return null;if(!(f instanceof F.kx)&&"temporaryProof"in c&&"phoneNumber"in c)return q.credentialFromResult(f);const d=c.providerId;if(!d||d===xt.PASSWORD)return null;let p;switch(d){case xt.GOOGLE:p=Ty;break;case xt.FACEBOOK:p=Iy;break;case xt.GITHUB:p=sp;break;case xt.TWITTER:p=L;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:C,pendingToken:R,nonce:$}=c;return v||C||_||R?R?d.startsWith("saml.")?nl._create(d,R):lt._fromParams({providerId:d,signInMethod:d,pendingToken:R,idToken:_,accessToken:v}):new el(d).credential({idToken:_,accessToken:v,rawNonce:$}):null}return f instanceof F.kx?p.credentialFromError(f):p.credentialFromResult(f)}function Ln(f,c){return c.catch(d=>{throw d instanceof F.kx&&function UT(f,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new zd(f,function tT(f,c){var d;const p=(0,F.Yj)(f),_=c;return Q(c.customData.operationType,p,"argument-error"),Q(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),Rc._fromError(p,_)}(f,c));else if(p){const _=_v(c),v=c;_&&(v.credential=_,v.tenantId=p.tenantId||void 0,v.email=p.email||void 0,v.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:VT(d),additionalUserInfo:ca(d),user:os.getOrCreate(_)}})}function $d(f,c){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,E.c)(function*(f,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>Ln(f,d.confirm(p))}})).apply(this,arguments)}class zd{constructor(c,d){this.resolver=d,this.auth=function mP(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Ln(gv(this.auth),this.resolver.resolveSignIn(c))}}class os{constructor(c){this._delegate=c,this.multiFactor=function XM(f){const c=(0,F.Yj)(f);return Fy.has(c)||Fy.set(c,Oy._fromUser(c)),Fy.get(c)}(c)}static getOrCreate(c){return os.USER_MAP.has(c)||os.USER_MAP.set(c,new os(c)),os.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,E.c)(function*(){return Ln(d.auth,Dy(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,E.c)(function*(){return $d(p.auth,function pT(f,c,d){return Cd.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,E.c)(function*(){return Ln(d.auth,function Hr(f,c,d){return ss.apply(this,arguments)}(d._delegate,c,io))})()}linkWithRedirect(c){var d=this;return(0,E.c)(function*(){return yield am($t(d.auth)),Bp(d._delegate,c,io)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,E.c)(function*(){return Ln(d.auth,Sy(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return $d(this.auth,function cl(f,c,d){return Rp.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Ln(this.auth,function rP(f,c,d){return Sd.apply(this,arguments)}(this._delegate,c,io))}reauthenticateWithRedirect(c){var d=this;return(0,E.c)(function*(){return yield am($t(d.auth)),Qy(d._delegate,c,io)})()}sendEmailVerification(c){return function es(f,c){return tr.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,E.c)(function*(){return yield function ad(f,c){return Ei.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function Sc(f,c){return la((0,F.Yj)(f),c,null)}(this._delegate,c)}updatePassword(c){return function Ry(f,c){return la((0,F.Yj)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function mT(f,c){return Pp.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function to(f,c){return He.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function ts(f,c,d){return Io.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}os.USER_MAP=new WeakMap;const Kc=Q;let lm=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;Kc(_,"invalid-api-key",{appName:d.name}),Kc(_,"invalid-api-key",{appName:d.name});const v=typeof window<"u"?io:void 0;this._delegate=p.initialize({options:{persistence:qd(_,d.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(Zn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function GI(f,c,d){const p=$t(f);Q(p._canInitEmulator,p,"emulator-config-failed"),Q(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,v=Js(c),{host:C,port:R}=function $M(f){const c=Js(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const v=_[1];return{host:v,port:WI(p.substr(v.length+1))}}{const[v,C]=p.split(":");return{host:v,port:WI(C)}}}(c);p.config.emulator={url:`${v}//${C}${null===R?"":`:${R}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:C,port:R,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function zM(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function Zt(f,c){return fd.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Me(this._delegate,d)}confirmPasswordReset(d,p){return function JI(f,c,d){return gp.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,E.c)(function*(){return Ln(_._delegate,function mr(f,c,d){return Cs.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Pe(f,c){return pn.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function md(f,c){const d=rd.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,E.c)(function*(){Kc(ya(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function fa(f,c){return qt.apply(this,arguments)}(d._delegate,io);return p?Ln(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function nm(f,c){$t(f)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:v,error:C,complete:R}=cm(d,p,_);return this._delegate.onAuthStateChanged(v,C,R)}onIdTokenChanged(d,p,_){const{next:v,error:C,complete:R}=cm(d,p,_);return this._delegate.onIdTokenChanged(v,C,R)}sendSignInLinkToEmail(d,p){return function xy(f,c,d){return pd.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function ZI(f,c,d){return pr.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,E.c)(function*(){let _;switch(function LT(f,c){So(Object.values($r).includes(c),f,"invalid-persistence-type"),(0,F.AL)()?So(c!==$r.SESSION,f,"unsupported-persistence-type"):(0,F.yW)()?So(c===$r.NONE,f,"unsupported-persistence-type"):im()?So(c===$r.NONE||c===$r.LOCAL&&(0,F.yy)(),f,"unsupported-persistence-type"):So(c===$r.NONE||qc(),f,"unsupported-persistence-type")}(p._delegate,d),d){case $r.SESSION:_=ua;break;case $r.LOCAL:_=(yield Ie(Fn)._isAvailable())?Fn:bp;break;case $r.NONE:_=fe;break;default:return kt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Ln(this._delegate,function Ic(f){return ap.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Ln(this._delegate,Tc(this._delegate,d))}signInWithCustomToken(d){return Ln(this._delegate,function Ay(f,c){return dp.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return Ln(this._delegate,function Sr(f,c,d){return Tc((0,F.Yj)(f),oa.credential(c,d)).catch(function(){var p=(0,E.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&pp(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return Ln(this._delegate,function eT(f,c,d){return _p.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return $d(this._delegate,function fT(f,c,d){return xp.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,E.c)(function*(){return Kc(ya(),p._delegate,"operation-not-supported-in-this-environment"),Ln(p._delegate,function kp(f,c,d){return Op.apply(this,arguments)}(p._delegate,d,io))})()}signInWithRedirect(d){var p=this;return(0,E.c)(function*(){return Kc(ya(),p._delegate,"operation-not-supported-in-this-environment"),yield am(p._delegate),Yy(p._delegate,d,io)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function ct(f,c){return xn.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=$r,f})();function cm(f,c,d){let p=f;"function"!=typeof f&&({next:p,error:c,complete:d}=f);const _=p;return{next:C=>_(C&&os.getOrCreate(C)),error:c,complete:d}}function qd(f,c){const d=function Gc(f,c){const d=mv();if(!d)return[];const p=hr(om,f,c);switch(d.getItem(p)){case $r.NONE:return[fe];case $r.LOCAL:return[Fn,ua];case $r.SESSION:return[ua];default:return[]}}(f,c);if(typeof self<"u"&&!d.includes(Fn)&&d.push(Fn),typeof window<"u")for(const p of[bp,ua])d.includes(p)||d.push(p);return d.includes(fe)||d.push(fe),d}class yv{constructor(){this.providerId="phone",this._delegate=new q(gv(ze.c.auth()))}static credential(c,d){return q.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}yv.PHONE_SIGN_IN_METHOD=q.PHONE_SIGN_IN_METHOD,yv.PROVIDER_ID=q.PROVIDER_ID;const um=Q;class BT{constructor(c,d,p=ze.c.app()){var _;um(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new Be(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vv(f){f.INTERNAL.registerComponent(new et.Yl("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new lm(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:oa,FacebookAuthProvider:Iy,GithubAuthProvider:sp,GoogleAuthProvider:Ty,OAuthProvider:el,SAMLAuthProvider:id,PhoneAuthProvider:yv,PhoneMultiFactorGenerator:Vd,RecaptchaVerifier:BT,TwitterAuthProvider:L,Auth:lm,AuthCredential:yc,Error:F.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(ze.c)},528:(zs,cr,Qe)=>{function E(F,Ue,En,Ht,et,Lr,xt){try{var X=F[Lr](xt),oe=X.value}catch(we){return void En(we)}X.done?Ue(oe):Promise.resolve(oe).then(Ht,et)}function ze(F){return function(){var Ue=this,En=arguments;return new Promise(function(Ht,et){var Lr=F.apply(Ue,En);function xt(oe){E(Lr,Ht,et,xt,X,"next",oe)}function X(oe){E(Lr,Ht,et,xt,X,"throw",oe)}xt(void 0)})}}Qe.d(cr,{c:()=>ze})},316:(zs,cr,Qe)=>{function Ue(V,j){var K={};for(var W in V)Object.prototype.hasOwnProperty.call(V,W)&&j.indexOf(W)<0&&(K[W]=V[W]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(W=Object.getOwnPropertySymbols(V);Z<W.length;Z++)j.indexOf(W[Z])<0&&Object.prototype.propertyIsEnumerable.call(V,W[Z])&&(K[W[Z]]=V[W[Z]])}return K}function we(V,j,K,W){return new(K||(K=Promise))(function(Y,ke){function yt(Dt){try{Ae(W.next(Dt))}catch(An){ke(An)}}function kn(Dt){try{Ae(W.throw(Dt))}catch(An){ke(An)}}function Ae(Dt){Dt.done?Y(Dt.value):function Z(Y){return Y instanceof K?Y:new K(function(ke){ke(Y)})}(Dt.value).then(yt,kn)}Ae((W=W.apply(V,j||[])).next())})}function nn(V){return this instanceof nn?(this.v=V,this):new nn(V)}function kt(V,j,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,W=K.apply(V,j||[]),Y=[];return Z={},ke("next"),ke("throw"),ke("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ke(xe){W[xe]&&(Z[xe]=function(dr){return new Promise(function(zn,er){Y.push([xe,dr,zn,er])>1||yt(xe,dr)})})}function yt(xe,dr){try{!function kn(xe){xe.value instanceof nn?Promise.resolve(xe.value.v).then(Ae,Dt):An(Y[0][2],xe)}(W[xe](dr))}catch(zn){An(Y[0][3],zn)}}function Ae(xe){yt("next",xe)}function Dt(xe){yt("throw",xe)}function An(xe,dr){xe(dr),Y.shift(),Y.length&&yt(Y[0][0],Y[0][1])}}function Xr(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,j=V[Symbol.asyncIterator];return j?j.call(V):(V=function Nt(V){var j="function"==typeof Symbol&&Symbol.iterator,K=j&&V[j],W=0;if(K)return K.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&W>=V.length&&(V=void 0),{value:V&&V[W++],done:!V}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),K={},W("next"),W("throw"),W("return"),K[Symbol.asyncIterator]=function(){return this},K);function W(Y){K[Y]=V[Y]&&function(ke){return new Promise(function(yt,kn){!function Z(Y,ke,yt,kn){Promise.resolve(kn).then(function(Ae){Y({value:Ae,done:yt})},ke)}(yt,kn,(ke=V[Y](ke)).done,ke.value)})}}}Qe.d(cr,{U1:()=>nn,kH:()=>we,mA:()=>Xr,o7:()=>kt,sX:()=>Ue}),"function"==typeof SuppressedError&&SuppressedError}},zs=>{zs(zs.s=820)}]);