"use strict";(self.webpackChunkflat_booking_app=self.webpackChunkflat_booking_app||[]).push([[590],{532:(Ms,nr,Ke)=>{var E=Ke(528);let O=null,pn=1;const Bt=Symbol("SIGNAL");function Xe(n){const e=O;return O=n,e}function yt(n){if((!Br(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==pn)){if(!n.producerMustRecompute(n)&&!rr(n))return n.dirty=!1,void(n.lastCleanEpoch=pn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=pn}}function rr(n){Ze(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(yt(t),r!==t.version))return!0}return!1}function Rt(n,e){if(function Fn(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ze(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Rt(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ze(i),i.producerIndexOfThis[r]=e}}function Br(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ze(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ni=null;function xe(n){return"function"==typeof n}function ir(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ln=ir(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Kn(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class vt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof Ln?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Ps(s)}catch(o){e=e??[],o instanceof Ln?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ln(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ps(e);else{if(e instanceof vt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Kn(t,e)}remove(e){const{_finalizers:t}=this;t&&Kn(t,e),e instanceof vt&&e._removeParent(this)}}vt.EMPTY=(()=>{const n=new vt;return n.closed=!0,n})();const ri=vt.EMPTY;function Hl(n){return n instanceof vt||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function Ps(n){xe(n)?n():n.unsubscribe()}const ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ns={setTimeout(n,e,...t){const{delegate:r}=Ns;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ns;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ca(n){Ns.setTimeout(()=>{const{onUnhandledError:e}=ii;if(!e)throw n;e(n)})}function si(){}const zl=ds("C",void 0,void 0);function ds(n,e,t){return{kind:n,value:e,error:t}}let Ur=null;function hs(n){if(ii.useDeprecatedSynchronousErrorHandling){const e=!Ur;if(e&&(Ur={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ur;if(Ur=null,t)throw r}}else n()}class lo extends vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hl(e)&&e.add(this)):this.destination=Aa}static create(e,t,r){return new mr(e,t,r)}next(e){this.isStopped?Sa(function ks(n){return ds("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Sa(function oi(n){return ds("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sa(zl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Os=Function.prototype.bind;function Fs(n,e){return Os.call(n,e)}class Ai{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ls(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ls(r)}else Ls(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ls(t)}}}class mr extends lo{constructor(e,t,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ii.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fs(e.next,s),error:e.error&&Fs(e.error,s),complete:e.complete&&Fs(e.complete,s)}):i=e}this.destination=new Ai(i)}}function Ls(n){ii.useDeprecatedSynchronousErrorHandling?function ao(n){ii.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=n)}(n):Ca(n)}function Sa(n,e){const{onStoppedNotification:t}=ii;t&&Ns.setTimeout(()=>t(n,e))}const Aa={closed:!0,next:si,error:function $l(n){throw n},complete:si},Hi="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cr(n){return n}let Ot=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function C(n){return n&&n instanceof lo||function ql(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}(n)&&Hl(n)}(t)?t:new mr(t,r,i);return hs(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=xa(r))((i,s)=>{const o=new mr({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Hi](){return this}pipe(...t){return function zo(n){return 0===n.length?Cr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=xa(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function xa(n){var e;return null!==(e=n??ii.Promise)&&void 0!==e?e:Promise}const T=ir(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let S=(()=>{class n extends Ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new G(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new T}next(t){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ri:(this.currentObservers=null,s.push(t),new vt(()=>{this.currentObservers=null,Kn(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ot;return t.source=this,t}}return n.create=(e,t)=>new G(e,t),n})();class G extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:ri}}class N extends S{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ee(n){return e=>{if(function he(n){return xe(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,r,i){return new jr(n,e,t,r,i)}class jr extends lo{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Be(n,e){return Ee((t,r)=>{let i=0;t.subscribe(Te(r,s=>{r.next(n.call(e,s,i++))}))})}class U extends Error{constructor(e,t){super(function Hr(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function be(n){for(let e in n)if(n[e]===be)return e;throw Error("Could not find renamed property on target object.")}function or(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function it(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(it).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function fs(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Tw=be({__forward_ref__:be});function qt(n){return n.__forward_ref__=qt,n.toString=function(){return it(this())},n}function Pe(n){return Tu(n)?n():n}function Tu(n){return"function"==typeof n&&n.hasOwnProperty(Tw)&&n.__forward_ref__===qt}function pf(n){return n&&!!n.\u0275providers}const Wl=be({\u0275cmp:be}),Ut=be({\u0275dir:be}),Du=be({\u0275pipe:be}),f_=be({\u0275mod:be}),zi=be({\u0275fac:be}),Ra=be({__NG_ELEMENT_ID__:be}),p_=be({__NG_ENV_ID__:be});function $e(n){return"string"==typeof n?n:null==n?"":String(n)}function _f(n,e){throw new U(-201,!1)}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ma(n){return Su(n,Au)||Su(n,w_)}function Su(n,e){return n.hasOwnProperty(e)?n[e]:null}function Pa(n){return n&&(n.hasOwnProperty(Yl)||n.hasOwnProperty(yf))?n[Yl]:null}const Au=be({\u0275prov:be}),Yl=be({\u0275inj:be}),w_=be({ngInjectableDef:be}),yf=be({ngInjectorDef:be});var pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pt||{});let Ql;function gn(n){const e=Ql;return Ql=n,e}function xu(n,e,t){const r=Ma(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&pt.Optional?null:void 0!==e?e:void _f()}const st=globalThis;class ie{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $o={},$i="__NG_DI_FLAG__",Us="ngTempTokenPath",T_=/\n/gm,bf="__source";let Fa;function co(n){const e=Fa;return Fa=n,e}function Pu(n,e=pt.Default){if(void 0===Fa)throw new U(-203,!1);return null===Fa?xu(n,void 0,e):Fa.get(n,e&pt.Optional?null:void 0,e)}function B(n,e=pt.Default){return(function Na(){return Ql}()||Pu)(Pe(n),e)}function ke(n,e=pt.Default){return B(n,Ar(e))}function Ar(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nu(n){const e=[];for(let t=0;t<n.length;t++){const r=Pe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,s=pt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=If(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function Jl(n,e){return n[$i]=e,n.prototype[$i]=e,n}function If(n){return n[$i]}function ps(n){return{toString:n}.toString()}var Ou=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ou||{}),li=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(li||{});const xi={},gt=[];var ge=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ge||{});function Fu(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Lu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Tf(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Vu(n){return 3===n||4===n||6===n}function Tf(n){return 64===n.charCodeAt(0)}function qo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||ec(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function ec(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Bu="ng-template";function S_(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Fu(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Uu(n){return 4===n.type&&n.value!==Bu}function A_(n,e,t){return e===(4!==n.type||t?n.value:Bu)}function Df(n,e,t){let r=4;const i=n.attrs||[],s=function tc(n){for(let e=0;e<n.length;e++)if(Vu(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!A_(n,l,t)||""===l&&1===e.length){if(qi(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!S_(n.attrs,u,t)){if(qi(r))return!1;o=!0}continue}const m=Cf(8&r?"class":l,i,Uu(n),t);if(-1===m){if(qi(r))return!1;o=!0;continue}if(""!==u){let g;g=m>s?"":i[m+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==Fu(y,u,0)||2&r&&u!==g){if(qi(r))return!1;o=!0}}}}else{if(!o&&!qi(r)&&!qi(l))return!1;if(o&&qi(l))continue;o=!1,r=l|1&r}}return qi(r)||o}function qi(n){return 0==(1&n)}function Cf(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Af(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function x_(n,e,t=!1){for(let r=0;r<e.length;r++)if(Df(n,e[r],t))return!0;return!1}function xf(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function nc(n,e){return n?":not("+e.trim()+")":e}function Rf(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!qi(o)&&(e+=nc(s,i),i=""),r=o,s=s||!qi(r);t++}return""!==i&&(e+=nc(s,i)),e}function xr(n){return ps(()=>{const e=R_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ou.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||li.Emulated,styles:n.styles||gt,_:null,schemas:n.schemas||null,tView:null,id:""};Hu(t);const r=n.dependencies;return t.directiveDefs=zu(r,!1),t.pipeDefs=zu(r,!0),t.id=function Nf(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Nw(n){return ot(n)||In(n)}function Pf(n){return null!==n}function on(n){return ps(()=>({type:n.type,bootstrap:n.bootstrap||gt,declarations:n.declarations||gt,imports:n.imports||gt,exports:n.exports||gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ju(n,e){if(null==n)return xi;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=ge.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==ge.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Re(n){return ps(()=>{const e=R_(n);return Hu(e),e})}function ot(n){return n[Wl]||null}function In(n){return n[Ut]||null}function ar(n){return n[Du]||null}function R_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||xi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ju(n.inputs,e),outputs:ju(n.outputs),debugInfo:null}}function Hu(n){n.features?.forEach(e=>e(n))}function zu(n,e){if(!n)return null;const t=e?ar:Nw;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Pf)}const Jt=0,se=1,Ae=2,an=3,Gi=4,Yn=5,Wi=6,uo=7,Gt=8,lr=9,Hs=10,Ue=11,rc=12,M_=13,Go=14,Yt=15,ic=16,Ki=17,Yi=18,sc=19,P_=20,ho=21,$u=22,Wo=23,qe=25,N_=1,Ri=7,Va=9,Sn=10;var k_=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(k_||{});function Rr(n){return Array.isArray(n)&&"object"==typeof n[N_]}function Mr(n){return Array.isArray(n)&&!0===n[N_]}function O_(n){return 0!=(4&n.flags)}function Ba(n){return n.componentOffset>-1}function Ua(n){return 1==(1&n.flags)}function cr(n){return!!n.template}function oc(n){return 0!=(512&n[Ae])}function zs(n,e){return n.hasOwnProperty(zi)?n[zi]:null}class Uw{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ku(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function ci(){return U_}function U_(n){return n.type.prototype.ngOnChanges&&(n.setInput=jw),j_}function j_(){const n=Vf(this),e=n?.current;if(e){const t=n.previous;if(t===xi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function jw(n,e,t,r,i){const s=this.declaredInputs[r],o=Vf(n)||function lc(n,e){return n[ac]=e}(n,{previous:xi,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new Uw(u&&u.currentValue,t,l===xi),Ku(n,e,i,t)}ci.ngInherit=!0;const ac="__ngSimpleChanges__";function Vf(n){return n[ac]||null}const Mi=function(n,e,t){},Bf="svg";let H_=!1;function Ft(n){for(;Array.isArray(n);)n=n[Jt];return n}function Qu(n,e){return Ft(e[n])}function An(n,e){return Ft(e[n.index])}function cc(n,e){return n.data[e]}function ui(n,e){const t=e[n];return Rr(t)?t:t[Jt]}function za(n){return 128==(128&n[Ae])}function ms(n,e){return null==e?null:n[e]}function z_(n){n[Ki]=0}function Hf(n){1024&n[Ae]||(n[Ae]|=1024,za(n)&&uc(n))}function zf(n){return!!(9216&n[Ae]||n[Wo]?.dirty)}function $f(n){zf(n)?uc(n):64&n[Ae]&&(function Uf(){return H_}()?(n[Ae]|=1024,uc(n)):n[Hs].changeDetectionScheduler?.notify())}function uc(n){n[Hs].changeDetectionScheduler?.notify();let e=Yo(n);for(;null!==e&&!(8192&e[Ae])&&(e[Ae]|=8192,za(e));)e=Yo(e)}function Yo(n){const e=n[an];return Mr(e)?e[an]:e}const Le={lFrame:X_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ju(){return Le.bindingsEnabled}function $a(){return null!==Le.skipHydrationRootTNode}function z(){return Le.lFrame.lView}function tt(){return Le.lFrame.tView}function gs(n){return Le.lFrame.contextLView=n,n[Gt]}function fo(n){return Le.lFrame.contextLView=null,n}function Lt(){let n=W_();for(;null!==n&&64===n.type;)n=n.parent;return n}function W_(){return Le.lFrame.currentTNode}function Qi(n,e){const t=Le.lFrame;t.currentTNode=n,t.isParent=e}function Yf(){return Le.lFrame.isParent}function Qf(){Le.lFrame.isParent=!1}function _s(){return Le.lFrame.bindingIndex++}function di(n){const e=Le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Zf(n,e){const t=Le.lFrame;t.bindingIndex=t.bindingRootIndex=n,dc(e)}function dc(n){Le.lFrame.currentDirectiveIndex=n}function rd(){return Le.lFrame.currentQueryIndex}function id(n){Le.lFrame.currentQueryIndex=n}function Y_(n){const e=n[se];return 2===e.type?e.declTNode:1===e.type?n[Yn]:null}function Q_(n,e,t){if(t&pt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&pt.Host||(i=Y_(s),null===i||(s=s[Go],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Le.lFrame=sd();return r.currentTNode=e,r.lView=n,!0}function tp(n){const e=sd(),t=n[se];Le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sd(){const n=Le.lFrame,e=null===n?null:n.child;return null===e?X_(n):e}function X_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Z_(){const n=Le.lFrame;return Le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const od=Z_;function np(){const n=Z_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qn(){return Le.lFrame.selectedIndex}function Xo(n){Le.lFrame.selectedIndex=n}function jt(){const n=Le.lFrame;return cc(n.tView,n.selectedIndex)}function qa(){Le.lFrame.currentNamespace=Bf}let op=!0;function hc(){return op}function $s(n){op=n}function fc(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Ga(n,e,t){ey(n,e,3,t)}function ad(n,e,t,r){(3&n[Ae])===t&&ey(n,e,t,r)}function ap(n,e){let t=n[Ae];(3&t)===e&&(t&=16383,t+=1,n[Ae]=t)}function ey(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[Ki]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[Ki]+=65536),(a<s||-1==s)&&(Jw(n,t,e,l),n[Ki]=(4294901760&n[Ki])+l+2),l++}function ld(n,e){Mi(4,n,e);const t=Xe(null);try{e.call(n)}finally{Xe(t),Mi(5,n,e)}}function Jw(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ae]>>14<n[Ki]>>16&&(3&n[Ae])===e&&(n[Ae]+=16384,ld(a,s)):ld(a,s)}const Wa=-1;class Ka{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function lp(n){return n!==Wa}function pc(n){return 32767&n}function Zo(n,e){let t=function iI(n){return n>>16}(n),r=e;for(;t>0;)r=r[Go],t--;return r}let cp=!0;function cd(n){const e=cp;return cp=n,e}const ty=255,ny=5;let ry=0;const ys={};function ud(n,e){const t=iy(n,e);if(-1!==t)return t;const r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,up(r.data,n),up(e,null),up(r.blueprint,null));const i=Qa(n,e),s=n.injectorIndex;if(lp(i)){const o=pc(i),a=Zo(i,e),l=a[se].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function up(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Qa(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=_p(i),null===r)return Wa;if(t++,i=i[Go],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Wa}function mc(n,e,t){!function sI(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ra)&&(r=t[Ra]),null==r&&(r=t[Ra]=ry++);const i=r&ty;e.data[n+(i>>ny)]|=1<<i}(n,e,t)}function dd(n,e,t){if(t&pt.Optional||void 0!==n)return n;_f()}function sy(n,e,t,r){if(t&pt.Optional&&void 0===r&&(r=null),!(t&(pt.Self|pt.Host))){const i=n[lr],s=gn(void 0);try{return i?i.get(e,r,t&pt.Optional):xu(e,r,t&pt.Optional)}finally{gn(s)}}return dd(r,0,t)}function dp(n,e,t,r=pt.Default,i){if(null!==n){if(2048&e[Ae]&&!(r&pt.Self)){const o=function lI(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Ae]&&!(512&o[Ae]);){const a=hp(s,o,t,r|pt.Self,ys);if(a!==ys)return a;let l=s.parent;if(!l){const u=o[P_];if(u){const h=u.get(t,ys,r);if(h!==ys)return h}l=_p(o),o=o[Go]}s=l}return i}(n,e,t,r,ys);if(o!==ys)return o}const s=hp(n,e,t,r,ys);if(s!==ys)return s}return sy(e,t,r,i)}function hp(n,e,t,r,i){const s=function pp(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ra)?n[Ra]:void 0;return"number"==typeof e?e>=0?e&ty:aI:e}(t);if("function"==typeof s){if(!Q_(e,n,r))return r&pt.Host?dd(i,0,r):sy(e,t,r,i);try{let o;if(o=s(r),null!=o||r&pt.Optional)return o;_f()}finally{od()}}else if("number"==typeof s){let o=null,a=iy(n,e),l=Wa,u=r&pt.Host?e[Yt][Yn]:null;for((-1===a||r&pt.SkipSelf)&&(l=-1===a?Qa(n,e):e[a+8],l!==Wa&&gc(r,!1)?(o=e[se],a=pc(l),e=Zo(l,e)):a=-1);-1!==a;){const h=e[se];if(mp(s,a,h.data)){const m=fp(a,e,t,o,r,u);if(m!==ys)return m}l=e[a+8],l!==Wa&&gc(r,e[se].data[a+8]===u)&&mp(s,a,e)?(o=h,a=pc(l),e=Zo(l,e)):a=-1}}return i}function fp(n,e,t,r,i,s){const o=e[se],a=o.data[n+8],h=hd(a,o,t,null==r?Ba(a)&&cp:r!=o&&0!=(3&a.type),i&pt.Host&&s===a);return null!==h?Xa(e,o,h,a):ys}function hd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,h=s>>20,g=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<g;y++){const b=o[y];if(y<l&&t===b||y>=l&&b.type===t)return y}if(i){const y=o[l];if(y&&cr(y)&&y.type===t)return l}return null}function Xa(n,e,t,r){let i=n[t];const s=e.data;if(function eI(n){return n instanceof Ka}(i)){const o=i;o.resolving&&function mf(n,e){throw e&&e.join(" > "),new U(-200,n)}(function Tt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$e(n)}(s[t]));const a=cd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?gn(o.injectImpl):null;Q_(n,r,pt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Zw(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=U_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==u&&gn(u),cd(a),o.resolving=!1,od()}}return i}function mp(n,e,t){return!!(t[e+(n>>ny)]&1<<n)}function gc(n,e){return!(n&pt.Self||n&pt.Host&&e)}class Bn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return dp(this._tNode,this._lView,e,Ar(r),t)}}function aI(){return new Bn(Lt(),z())}function yr(n){return ps(()=>{const e=n.prototype.constructor,t=e[zi]||gp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[zi]||gp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gp(n){return Tu(n)?()=>{const e=gp(Pe(n));return e&&e()}:zs(n)}function _p(n){const e=n[se],t=e.type;return 2===t?e.declTNode:1===t?n[Yn]:null}const Pi="__parameters__";function Ja(n,e,t){return ps(()=>{const r=function yc(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,h){const m=l.hasOwnProperty(Pi)?l[Pi]:Object.defineProperty(l,Pi,{value:[]})[Pi];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function po(n,e){n.forEach(t=>Array.isArray(t)?po(t,e):e(t))}function pd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function md(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $r(n,e,t){let r=nl(n,e);return r>=0?n[1|r]=t:(r=~r,function dy(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function yp(n,e){const t=nl(n,e);if(t>=0)return n[1|t]}function nl(n,e){return function hy(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const rl=Jl(Ja("Optional"),8),bp=Jl(Ja("SkipSelf"),4),jn=new ie(""),_d=new ie("",-1),wc=new ie("");class yd{get(e,t=$o){if(t===$o){const r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return t}}function Ic(...n){return{\u0275providers:Dp(0,n),\u0275fromNgModule:!0}}function Dp(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return po(e,o=>{const a=o;vd(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Cp(i,s),t}function Cp(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Sp(i,s=>{e(s,r)})}}function vd(n,e,t,r){if(!(n=Pe(n)))return!1;let i=null,s=Pa(n);const o=!s&&ot(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Pa(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)vd(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{po(s.imports,h=>{vd(h,e,t,r)&&(u||=[],u.push(h))})}finally{}void 0!==u&&Cp(u,e)}if(!a){const u=zs(i)||(()=>new i);e({provide:i,useFactory:u,deps:gt},i),e({provide:wc,useValue:i,multi:!0},i),e({provide:jn,useValue:()=>B(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=n;Sp(l,h=>{e(h,u)})}}}return i!==n&&void 0!==n.providers}function Sp(n,e){for(let t of n)pf(t)&&(t=t.\u0275providers),Array.isArray(t)?Sp(t,e):e(t)}const EI=be({provide:String,useValue:be});function Ap(n){return null!==n&&"object"==typeof n&&EI in n}function c(n){return"function"==typeof n}const p=new ie(""),_={},v={};let D;function R(){return void 0===D&&(D=new yd),D}class ${}class ae extends ${get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ed(e,o=>this.processProvider(o)),this.records.set(_d,Gs(void 0,this)),i.has("environment")&&this.records.set($,Gs(void 0,this));const s=this.records.get(p);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(wc,gt,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=co(this),r=gn(void 0);try{return e()}finally{co(t),gn(r)}}get(e,t=$o,r=pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(p_))return e[p_](this);r=Ar(r);const s=co(this),o=gn(void 0);try{if(!(r&pt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function wy(n){return"function"==typeof n||"object"==typeof n&&n instanceof ie}(e)&&Ma(e);l=u&&this.injectableDefInScope(u)?Gs(me(e),_):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&pt.Self?R():this.parent).get(e,t=r&pt.Optional&&t===$o?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Us]=a[Us]||[]).unshift(it(e)),s)throw a;return function ku(n,e,t,r){const i=n[Us];throw e[bf]&&i.unshift(e[bf]),n.message=function C_(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(T_,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Us]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{gn(o),co(s)}}resolveInjectorInitializers(){const e=co(this),t=gn(void 0);try{const i=this.get(jn,gt,pt.Self);for(const s of i)s()}finally{co(e),gn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=c(e=Pe(e))?e:Pe(e&&e.provide);const r=function ln(n){return Ap(n)?Gs(void 0,n.useValue):Gs(Ni(n),_)}(e);if(!c(e)&&!0===e.multi){let i=this.records.get(t);i||(i=Gs(void 0,_,!0),i.factory=()=>Nu(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===_&&(t.value=v,t.value=t.factory()),"object"==typeof t.value&&t.value&&function xp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Pe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function me(n){const e=Ma(n),t=null!==e?e.factory:zs(n);if(null!==t)return t;if(n instanceof ie)throw new U(204,!1);if(n instanceof Function)return function ye(n){if(n.length>0)throw new U(204,!1);const t=function Rw(n){return n&&(n[Au]||n[w_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function Ni(n,e,t){let r;if(c(n)){const i=Pe(n);return zs(i)||me(i)}if(Ap(n))r=()=>Pe(n.useValue);else if(function f(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Nu(n.deps||[]));else if(function Ey(n){return!(!n||!n.useExisting)}(n))r=()=>B(Pe(n.useExisting));else{const i=Pe(n&&(n.useClass||n.provide));if(!function by(n){return!!n.deps}(n))return zs(i)||me(i);r=()=>new i(...Nu(n.deps))}return r}function Gs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ed(n,e){for(const t of n)Array.isArray(t)?Ed(t,e):t&&pf(t)?Ed(t.\u0275providers,e):e(t)}function IR(n,e=null,t=null,r){const i=TR(n,e,t,r);return i.resolveInjectorInitializers(),i}function TR(n,e=null,t=null,r,i=new Set){const s=[t||gt,Ic(n)];return r=r||("object"==typeof n?void 0:it(n)),new ae(s,e||R(),r||null,i)}let wI,ki=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=$o;static#t=this.NULL=new yd;static create(t,r){if(Array.isArray(t))return IR({name:""},r,t,"");{const i=t.name??"";return IR({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=pe({token:n,providedIn:"any",factory:()=>B(_d)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();const Ay=new ie("",{providedIn:"root",factory:()=>g$}),g$="ng",CR=new ie(""),Ws=new ie("",{providedIn:"platform",factory:()=>"unknown"}),wd=new ie(""),II=new ie("",{providedIn:"root",factory:()=>function il(){if(void 0!==wI)return wI;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Py(n){return 128==(128&n.flags)}var al=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(al||{});const C$=/^>|^->|<!--|-->|--!>|<!-$/g,S$=/(<|>)/g,A$="\u200b$1\u200b";const AI=new Map;let x$=0;const RI="__ngContext__";function qr(n,e){Rr(e)?(n[RI]=e[sc],function M$(n){AI.set(n[sc],n)}(e)):n[RI]=e}let MI;function PI(n,e){return MI(n,e)}function Td(n,e,t,r,i){if(null!=r){let s,o=!1;Mr(r)?s=r:Rr(r)&&(o=!0,r=r[Jt]);const a=Ft(r);0===n&&null!==t?null==i?KR(e,t,a):Dc(e,t,a,i||null,!0):1===n&&null!==t?Dc(e,t,a,i||null,!0):2===n?function By(n,e,t){const r=Ly(n,e);r&&function W$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Q$(n,e,t,r,i){const s=t[Ri];s!==Ft(t)&&Td(e,n,r,s,i);for(let a=Sn;a<t.length;a++){const l=t[a];Uy(l[se],l,n,e,r,s)}}(e,n,s,t,i)}}function NI(n,e){return n.createComment(function FR(n){return n.replace(C$,e=>e.replace(S$,A$))}(e))}function Oy(n,e,t){return n.createElement(e,t)}function qR(n,e){Uy(n,e,e[Ue],2,null,null)}function GR(n,e){const t=n[Va],r=t.indexOf(e);t.splice(r,1)}function Lp(n,e){if(n.length<=Sn)return;const t=Sn+e,r=n[t];if(r){const i=r[ic];null!==i&&i!==n&&GR(i,r),e>0&&(n[t-1][Gi]=r[Gi]);const s=md(n,Sn+e);!function U$(n,e){qR(n,e),e[Jt]=null,e[Yn]=null}(r[se],r);const o=s[Yi];null!==o&&o.detachView(s[se]),r[an]=null,r[Gi]=null,r[Ae]&=-129}return r}function Fy(n,e){if(!(256&e[Ae])){const t=e[Ue];t.destroyNode&&Uy(n,e,t,3,null,null),function H$(n){let e=n[rc];if(!e)return kI(n[se],n);for(;e;){let t=null;if(Rr(e))t=e[rc];else{const r=e[Sn];r&&(t=r)}if(!t){for(;e&&!e[Gi]&&e!==n;)Rr(e)&&kI(e[se],e),e=e[an];null===e&&(e=n),Rr(e)&&kI(e[se],e),t=e&&e[Gi]}e=t}}(e)}}function kI(n,e){if(!(256&e[Ae])){e[Ae]&=-129,e[Ae]|=256,e[Wo]&&function Kt(n){if(Ze(n),Br(n))for(let e=0;e<n.producerNode.length;e++)Rt(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[Wo]),function G$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ka)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Mi(4,a,l);try{l.call(a)}finally{Mi(5,a,l)}}else{Mi(4,i,s);try{s.call(i)}finally{Mi(5,i,s)}}}}}(n,e),function q$(n,e){const t=n.cleanup,r=e[uo];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[uo]=null);const i=e[ho];if(null!==i){e[ho]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[se].type&&e[Ue].destroy();const t=e[ic];if(null!==t&&Mr(e[an])){t!==e[an]&&GR(t,e);const r=e[Yi];null!==r&&r.detachView(n)}!function P$(n){AI.delete(n[sc])}(e)}}function OI(n,e,t){return function WR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Jt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===li.None||s===li.Emulated)return null}return An(r,t)}}(n,e.parent,t)}function Dc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function KR(n,e,t){n.appendChild(e,t)}function YR(n,e,t,r,i){null!==r?Dc(n,e,t,r,i):KR(n,e,t)}function Ly(n,e){return n.parentNode(e)}function QR(n,e,t){return ZR(n,e,t)}let FI,ZR=function XR(n,e,t){return 40&n.type?An(n,t):null};function Vy(n,e,t,r){const i=OI(n,r,e),s=e[Ue],a=QR(r.parent||e[Yn],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)YR(s,i,t[l],a,!1);else YR(s,i,t,a,!1);void 0!==FI&&FI(s,r,e,t,i)}function Vp(n,e){if(null!==e){const t=e.type;if(3&t)return An(e,n);if(4&t)return LI(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Vp(n,r);{const i=n[e.index];return Mr(i)?LI(-1,i):Ft(i)}}if(32&t)return PI(e,n)()||Ft(n[e.index]);{const r=eM(n,e);return null!==r?Array.isArray(r)?r[0]:Vp(Yo(n[Yt]),r):Vp(n,e.next)}}return null}function eM(n,e){return null!==e?n[Yt][Yn].projection[e.projection]:null}function LI(n,e){const t=Sn+n+1;if(t<e.length){const r=e[t],i=r[se].firstChild;if(null!==i)return Vp(r,i)}return e[Ri]}function VI(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&qr(Ft(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)VI(n,e,t.child,r,i,s,!1),Td(e,n,i,a,s);else if(32&l){const u=PI(t,r);let h;for(;h=u();)Td(e,n,i,h,s);Td(e,n,i,a,s)}else 16&l?nM(n,e,r,t,i,s):Td(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Uy(n,e,t,r,i,s){VI(t,r,n.firstChild,e,i,s,!1)}function nM(n,e,t,r,i,s){const o=t[Yt],l=o[Yn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Td(e,n,i,l[u],s);else{let u=l;const h=o[an];Py(r)&&(u.flags|=128),VI(n,e,u,h,i,s,!0)}}function rM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iM(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Lu(n,e,r),null!==i&&rM(n,e,i),null!==s&&function Z$(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class lM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ll(n){return n instanceof lM?n.changingThisBreaksApplicationSecurity:n}class qI{}let _M=()=>null;function JI(n,e,t=!1){return _M(n,e,t)}class N4{}class wM{}class O4{resolveComponentFactory(e){throw function k4(n){const e=Error(`No component factory found for ${it(n)}.`);return e.ngComponent=n,e}(e)}}let qp=(()=>{class n{static#e=this.NULL=new O4}return n})();function F4(){return Rd(Lt(),z())}function Rd(n,e){return new xn(An(n,e))}let xn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=F4}return n})();function L4(n){return n instanceof xn?n.nativeElement:n}class rT{}let Cc=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function V4(){const n=z(),t=ui(Lt().index,n);return(Rr(t)?t:n)[Ue]}()}return n})(),B4=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}return n})();const iT={};function Yy(n){return!!sT(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function sT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class DM{constructor(){}supports(e){return Yy(e)}create(e){return new q4(e)}}const $4=(n,e)=>e;class q4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<SM(r,i,s)?t:r,a=SM(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,h=l-i;if(u!=h){for(let g=0;g<u;g++){const y=g<s.length?s[g]:s[g]=0,b=y+g;h<=b&&b<u&&(s[g]=y+1)}s[o.previousIndex]=h-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Yy(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function z4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new G4(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new CM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class G4{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class CM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new W4,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class AM{constructor(){}supports(e){return e instanceof Map||sT(e)}create(){return new K4}}class K4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||sT(e)))throw new U(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Y4(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Y4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xM(){return new oT([new DM])}let oT=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:xM});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||xM()),deps:[[n,new bp,new rl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new U(901,!1)}}return n})();function RM(){return new Qy([new AM])}let Qy=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:RM});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||RM()),deps:[[n,new bp,new rl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new U(901,!1)}}return n})();function Gp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Ft(s)),Mr(s)&&MM(s,r);const o=t.type;if(8&o)Gp(n,e,t.child,r);else if(32&o){const a=PI(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=eM(e,t);if(Array.isArray(a))r.push(...a);else{const l=Yo(e[Yt]);Gp(l[se],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function MM(n,e){for(let t=Sn;t<n.length;t++){const r=n[t],i=r[se].firstChild;null!==i&&Gp(r[se],r,i,e)}n[Ri]!==n[Jt]&&e.push(n[Ri])}let PM=[];const e3={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{uc(n.lView)},consumerOnSignalRead(){this.lView[Wo]=this}};function NM(n){return OM(n[rc])}function kM(n){return OM(n[Gi])}function OM(n){for(;null!==n&&!Mr(n);)n=n[Gi];return n}function aT(n){return n.ngOriginalError}class ra{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&aT(e);for(;t&&aT(t);)t=aT(t);return t||null}}const LM=new ie("",{providedIn:"root",factory:()=>ke(ra).handleError.bind(void 0)}),BM=new ie("",{providedIn:"root",factory:()=>!1}),Je={};function at(n=1){zM(tt(),z(),Qn()+n,!1)}function zM(n,e,t,r){if(!r)if(3==(3&e[Ae])){const s=n.preOrderCheckHooks;null!==s&&Ga(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ad(e,s,0,t)}Xo(t)}function q(n,e=pt.Default){const t=z();return null===t?B(n,e):dp(Lt(),t,Pe(n),e)}function $M(n,e,t,r,i,s){const o=Xe(null);try{let a=null;i&ge.SignalBased&&(a=e[r][Bt]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&ge.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,r):Ku(e,a,r,s)}finally{Xe(o)}}function Zy(n,e,t,r,i,s,o,a,l,u,h){const m=e.blueprint.slice();return m[Jt]=i,m[Ae]=204|r,(null!==u||n&&2048&n[Ae])&&(m[Ae]|=2048),z_(m),m[an]=m[Go]=n,m[Gt]=t,m[Hs]=o||n&&n[Hs],m[Ue]=a||n&&n[Ue],m[lr]=l||n&&n[lr]||null,m[Yn]=s,m[sc]=function R$(){return x$++}(),m[Wi]=h,m[P_]=u,m[Yt]=2==e.type?n[Yt]:m,m}function Md(n,e,t,r,i){let s=n.data[e];if(null===s)s=function lT(n,e,t,r,i){const s=W_(),o=Yf(),l=n.data[e]=function g3(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return $a()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function Qw(){return Le.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Qo(){const n=Le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Qi(s,!0),s}function Wp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qM(n,e,t,r,i){const s=Qn(),o=2&r;try{Xo(-1),o&&e.length>qe&&zM(n,e,qe,!1),Mi(o?2:0,i),t(r,i)}finally{Xo(s),Mi(o?3:1,i)}}function cT(n,e,t){if(O_(e)){const r=Xe(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Xe(r)}}}function uT(n,e,t){Ju()&&(function I3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ba(t)&&function R3(n,e,t){const r=An(e,n),i=GM(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Jy(n,Zy(n,i,null,o,r,e,null,n[Hs].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ud(t,e),qr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],u=Xa(e,n,a,t);qr(u,e),null!==o&&M3(0,a-i,u,l,0,o),cr(l)&&(ui(t.index,e)[Gt]=Xa(e,n,a,t))}}(n,e,t,An(t,e)),64==(64&t.flags)&&XM(n,e,t))}function dT(n,e,t=An){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function GM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function hT(n,e,t,r,i,s,o,a,l,u,h){const m=qe+r,g=m+i,y=function u3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Je);return t}(m,g),b="function"==typeof u?u():u;return y[se]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}let WM=()=>null;function KM(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=ge.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let u=s;if(null!==i){if(!i.hasOwnProperty(s))continue;u=i[s]}0===n?YM(r,t,u,a,l):YM(r,t,u,a)}return r}function YM(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],void 0!==i&&s.push(i)}function es(n,e,t,r,i,s,o,a){const l=An(e,t);let h,u=e.inputs;!a&&null!=u&&(h=u[r])?(_T(n,t,h,r,i),Ba(e)&&function v3(n,e){const t=ui(e,n);16&t[Ae]||(t[Ae]|=64)}(t,e.index)):3&e.type&&(r=function y3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function fT(n,e,t,r){if(Ju()){const i=null===r?null:{"":-1},s=function D3(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(x_(e,o.selectors,!1))if(r||(r=[]),cr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),pT(n,e,a.length)}else r.unshift(o),pT(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&QM(n,e,t,o,i,a),i&&function C3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new U(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=qo(t.mergedAttrs,t.attrs)}function QM(n,e,t,r,i,s){for(let u=0;u<r.length;u++)mc(ud(t,e),n,r[u].type);!function A3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const h=r[u];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,l=Wp(n,e,r.length,null);for(let u=0;u<r.length;u++){const h=r[u];t.mergedAttrs=qo(t.mergedAttrs,h.hostAttrs),x3(n,t,e,l,h),S3(l,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const m=h.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function _3(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,u=null;for(let h=e.directiveStart;h<i;h++){const m=s[h],g=t?t.get(m):null,b=g?g.outputs:null;l=KM(0,m.inputs,h,l,g?g.inputs:null),u=KM(1,m.outputs,h,u,b);const w=null===l||null===o||Uu(e)?null:P3(l,h,o);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(n,t,s)}function XM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Jf(){return Le.lFrame.currentDirectiveIndex}();try{Xo(s);for(let a=r;a<i;a++){const l=n.data[a],u=e[a];dc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&T3(l,u)}}finally{Xo(-1),dc(o)}}function T3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function pT(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function S3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;cr(e)&&(t[""]=n)}}function x3(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=zs(i.type)),o=new Ka(s,cr(i),q);n.blueprint[r]=o,t[r]=o,function b3(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function w3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Wp(n,t,i.hostVars,Je),i)}function _o(n,e,t,r,i,s){const o=An(n,e);!function mT(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?$e(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Ue],o,s,n.value,t,r,i)}function M3(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)$M(r,t,o[a++],o[a++],o[a++],o[a++])}function P3(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ZM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function JM(n,e){const t=n.contentQueries;if(null!==t){const r=Xe(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];id(t[i]),a.contentQueries(2,e[o],o)}}}finally{Xe(r)}}}function Jy(n,e){return n[rc]?n[M_][Gi]=e:n[rc]=e,n[M_]=e,e}function gT(n,e,t){id(0);const r=Xe(null);try{e(n,t)}finally{Xe(r)}}function eP(n){return n[uo]||(n[uo]=[])}function tP(n){return n.cleanup||(n.cleanup=[])}function ev(n,e){const t=n[lr],r=t?t.get(ra,null):null;r&&r.handleError(e)}function _T(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];$M(n.data[o],e[o],r,a,l,i)}}function tv(n,e=!0,t=0){const r=n[Hs],i=r.rendererFactory;i.begin?.();try{!function N3(n,e){yT(n,e);let t=0;for(;zf(n);){if(100===t)throw new U(103,!1);t++,yT(n,1)}}(n,t)}catch(o){throw e&&ev(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function k3(n,e,t,r){const i=e[Ae];if(256==(256&i))return;e[Hs].inlineEffectRunner?.flush(),tp(e);let o=null,a=null;(function O3(n){return 2!==n.type})(n)&&(a=function X4(n){return n[Wo]??function Z4(n){const e=PM.pop()??Object.create(e3);return e.lView=n,e}(n)}(e),o=function ct(n){return n&&(n.nextProducerIndex=0),Xe(n)}(a));try{z_(e),function nd(n){return Le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&qM(n,e,t,2,r);const l=3==(3&i);if(l){const m=n.preOrderCheckHooks;null!==m&&Ga(e,m,null)}else{const m=n.preOrderHooks;null!==m&&ad(e,m,0,null),ap(e,0)}if(function F3(n){for(let e=NM(n);null!==e;e=kM(e)){if(!(e[Ae]&k_.HasTransplantedViews))continue;const t=e[Va];for(let r=0;r<t.length;r++){Hf(t[r])}}}(e),iP(e,0),null!==n.contentQueries&&JM(n,e),l){const m=n.contentCheckHooks;null!==m&&Ga(e,m)}else{const m=n.contentHooks;null!==m&&ad(e,m,1),ap(e,1)}!function c3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Xo(~i);else{const s=i,o=t[++r],a=t[++r];Zf(o,s),a(2,e[s])}}}finally{Xo(-1)}}(n,e);const u=n.components;null!==u&&oP(e,u,0);const h=n.viewQuery;if(null!==h&&gT(2,h,r),l){const m=n.viewCheckHooks;null!==m&&Ga(e,m)}else{const m=n.viewHooks;null!==m&&ad(e,m,2),ap(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[$u]){for(const m of e[$u])m();e[$u]=null}e[Ae]&=-73}catch(l){throw uc(e),l}finally{null!==a&&(function Wn(n,e){if(Xe(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Br(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Rt(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function J4(n){n.lView[Wo]!==n&&(n.lView=null,PM.push(n))}(a)),np()}}function iP(n,e){for(let t=NM(n);null!==t;t=kM(t))for(let r=Sn;r<t.length;r++)sP(t[r],e)}function L3(n,e,t){sP(ui(e,n),t)}function sP(n,e){za(n)&&yT(n,e)}function yT(n,e){const r=n[se],i=n[Ae],s=n[Wo];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!rr(s)),s&&(s.dirty=!1),n[Ae]&=-9217,o)k3(r,n,r.template,n[Gt]);else if(8192&i){iP(n,1);const a=r.components;null!==a&&oP(n,a,1)}}function oP(n,e,t){for(let r=0;r<e.length;r++)L3(n,e[r],t)}function Kp(n){for(n[Hs].changeDetectionScheduler?.notify();n;){n[Ae]|=64;const e=Yo(n);if(oc(n)&&!e)return n;n=e}return null}class Yp{get rootNodes(){const e=this._lView,t=e[se];return Gp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(e){this._lView[Gt]=e}get destroyed(){return 256==(256&this._lView[Ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[an];if(Mr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Lp(e,r),md(t,r))}this._attachedToViewContainer=!1}Fy(this._lView[se],this._lView)}onDestroy(e){!function Xu(n,e){if(256==(256&n[Ae]))throw new U(911,!1);null===n[ho]&&(n[ho]=[]),n[ho].push(e)}(this._lView,e)}markForCheck(){Kp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ae]&=-129}reattach(){$f(this._lView),this._lView[Ae]|=128}detectChanges(){this._lView[Ae]|=1024,tv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,qR(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e,$f(this._lView)}}let Pd=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=V3}return n})();function V3(n){return function B3(n,e,t){if(Ba(n)&&!t){const r=ui(n.index,e);return new Yp(r,r)}return 47&n.type?new Yp(e[Yt],e):null}(Lt(),z(),16==(16&n))}const aP=new Set;function Sc(n){aP.has(n)||(aP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function vT(n){return e=>{setTimeout(n,void 0,e)}}const Mt=class Y3 extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=vT(s),i&&(i=vT(i)),o&&(o=vT(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof vt&&e.add(a),a}};function lP(...n){}class Ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Q3(){const n="function"==typeof st.requestAnimationFrame;let e=st[n?"requestAnimationFrame":"setTimeout"],t=st[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function J3(n){const e=()=>{!function Z3(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(st,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,bT(n),n.isCheckStableRunning=!0,ET(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),bT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function eq(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return cP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),uP(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return cP(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),uP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,bT(n),ET(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,X3,lP,lP);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const X3={};function ET(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uP(n){n._nesting--,ET(n)}class dP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Qp=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function iq(n,e){const t=ui(e,n),r=t[se];!function sq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Jt];null!==i&&null===t[Wi]&&(t[Wi]=JI(i,t[lr])),wT(r,t,t[Gt])}function wT(n,e,t){tp(e);try{const r=n.viewQuery;null!==r&&gT(1,r,t);const i=n.template;null!==i&&qM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&JM(n,e),n.staticViewQueries&&gT(2,n.viewQuery,t);const s=n.components;null!==s&&function oq(n,e){for(let t=0;t<e.length;t++)iq(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ae]&=-5,np()}}function rv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=fs(i,a):2==s&&(r=fs(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class gP extends qp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ot(e);return new Xp(t,this.ngModule)}}function _P(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class lq{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ar(r);const i=this.injector.get(e,iT,r);return i!==iT||t===iT?i:this.parentInjector.get(e,t,r)}}class Xp extends wM{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=_P(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return _P(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Mf(n){return n.map(Rf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof $?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new lq(e,s):e,a=o.get(rT,null);if(null===a)throw new U(407,!1);const m={rendererFactory:a,sanitizer:o.get(B4,null),inlineEffectRunner:null,afterRenderEventManager:o.get(Qp,null),changeDetectionScheduler:o.get(qI,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?function d3(n,e,t,r){const s=r.get(BM,!1)||t===li.ShadowDom,o=n.selectRootElement(e,s);return function h3(n){WM(n)}(o),o}(g,r,this.componentDef.encapsulation,o):Oy(g,y,function aq(n){const e=n.toLowerCase();return"svg"===e?Bf:"math"===e?"math":null}(y));let w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let I=null;null!==b&&(I=JI(b,o,!0));const x=hT(0,null,null,1,0,null,null,null,null,null,null),A=Zy(null,x,null,w,null,null,m,g,o,null,I);let P,H;tp(A);try{const ne=this.componentDef;let fe,Qe=null;ne.findHostDirectiveDefs?(fe=[],Qe=new Map,ne.findHostDirectiveDefs(ne,fe,Qe),fe.push(ne)):fe=[ne];const Ct=function uq(n,e){const t=n[se],r=qe;return n[r]=e,Md(t,r,2,"#host",null)}(A,b),Ci=function dq(n,e,t,r,i,s,o){const a=i[se];!function hq(n,e,t,r){for(const i of n)e.mergedAttrs=qo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rv(e,e.mergedAttrs,!0),null!==t&&iM(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=JI(e,i[lr]));const u=s.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const m=Zy(i,GM(t),null,h,i[n.index],n,s,u,null,null,l);return a.firstCreatePass&&pT(a,n,r.length-1),Jy(i,m),i[n.index]=m}(Ct,b,ne,fe,A,m,g);H=cc(x,qe),b&&function pq(n,e,t,r){if(r)Lu(n,t,["ng-version","17.1.3"]);else{const{attrs:i,classes:s}=function Pw(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!qi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Lu(n,t,i),s&&s.length>0&&rM(n,t,s.join(" "))}}(g,ne,b,r),void 0!==t&&function mq(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(H,this.ngContentSelectors,t),P=function fq(n,e,t,r,i,s){const o=Lt(),a=i[se],l=An(o,i);QM(a,i,o,t,null,r);for(let h=0;h<t.length;h++)qr(Xa(i,a,o.directiveStart+h,o),i);XM(a,i,o),l&&qr(l,i);const u=Xa(i,a,o.directiveStart+o.componentOffset,o);if(n[Gt]=i[Gt]=u,null!==s)for(const h of s)h(u,e);return cT(a,o,n),u}(Ci,ne,fe,Qe,A,[gq]),wT(x,A,null)}finally{np()}return new cq(this.componentType,P,Rd(H,A),A,H)}}class cq extends N4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Yp(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;_T(s[se],s,i,e,t),this.previousInputValues.set(e,t),Kp(ui(this._tNode.index,s))}}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gq(){const n=Lt();fc(z()[se],n)}function Ht(n){let e=function yP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(cr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=iv(n.inputs),o.inputTransforms=iv(n.inputTransforms),o.declaredInputs=iv(n.declaredInputs),o.outputs=iv(n.outputs);const a=i.hostBindings;a&&bq(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&vq(n,l),u&&Eq(n,u),_q(n,i),or(n.outputs,i.outputs),cr(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ht&&(t=!1)}}e=Object.getPrototypeOf(e)}!function yq(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qo(i.hostAttrs,t=qo(t,i.hostAttrs))}}(r)}function _q(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function iv(n){return n===xi?{}:n===gt?[]:n}function vq(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Eq(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function bq(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function sv(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}let SP=()=>null;function Nd(n,e){return SP(n,e)}function nm(n,e,t,r){const i=e.tView,a=Zy(n,i,t,4096&n[Ae]?4096:16,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null);a[ic]=n[e.index];const u=n[Yi];return null!==u&&(a[Yi]=u.createEmbeddedView(i)),wT(i,a,t),a}function kd(n,e){return!e||null===e.firstChild||Py(n)}function rm(n,e,t,r=!0){const i=e[se];if(function z$(n,e,t,r){const i=Sn+r,s=t.length;r>0&&(t[i-1][Gi]=e),r<s-Sn?(e[Gi]=t[i],pd(t,Sn+r,e)):(t.push(e),e[Gi]=null),e[an]=t;const o=e[ic];null!==o&&t!==o&&function $$(n,e){const t=n[Va];e[Yt]!==e[an][an][Yt]&&(n[Ae]|=k_.HasTransplantedViews),null===t?n[Va]=[e]:t.push(e)}(o,e);const a=e[Yi];null!==a&&a.insertView(n),$f(e),e[Ae]|=128}(i,e,n,t),r){const o=LI(t,n),a=e[Ue],l=Ly(a,n[Ri]);null!==l&&function j$(n,e,t,r,i,s){r[Jt]=i,r[Yn]=e,Uy(n,r,t,1,i,s)}(i,n[Yn],a,e,l,o)}const s=e[Wi];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let Ks=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Kq}return n})();function Kq(){return MP(Lt(),z())}const Yq=Ks,xP=class extends Yq{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Rd(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qa(this._hostTNode,this._hostLView);if(lp(e)){const t=Zo(e,this._hostLView),r=pc(e);return new Bn(t[se].data[r+8],t)}return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=RP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Sn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=Nd(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,kd(this._hostTNode,o)),a}createComponent(e,t,r,i,s){const o=e&&!function ta(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const b=t||{};a=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}const l=o?e:new Xp(ot(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const w=(o?u:this.parentInjector).get($,null);w&&(s=w)}const h=ot(l.componentType??{}),m=Nd(this._lContainer,h?.id??null),y=l.create(u,i,m?.firstChild??null,s);return this.insertImpl(y.hostView,a,kd(this._hostTNode,m)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function Gw(n){return Mr(n[an])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[an],u=new xP(l,l[Yn],l[an]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return rm(o,i,s,r),e.attachToViewContainerRef(),pd(xT(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=RP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Lp(this._lContainer,t);r&&(md(xT(this._lContainer),t),Fy(r[se],r))}detach(e){const t=this._adjustIndex(e,-1),r=Lp(this._lContainer,t);return r&&null!=md(xT(this._lContainer),t)?new Yp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function RP(n){return n[8]}function xT(n){return n[8]||(n[8]=[])}function MP(n,e){let t;const r=e[n.index];return Mr(r)?t=r:(t=ZM(r,e,null,n),e[n.index]=t,Jy(e,t)),PP(t,e,n,r),new xP(t,n,e)}let PP=function kP(n,e,t,r){if(n[Ri])return;let i;i=8&t.type?Ft(r):function Qq(n,e){const t=n[Ue],r=t.createComment(""),i=An(e,n);return Dc(t,Ly(t,i),r,function K$(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Ri]=i},RT=()=>!1;class xc{}class tG{}class MT extends xc{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gP(this);const i=function _r(n,e){const t=n[f_]||null;if(!t&&!0===e)throw new Error(`Type ${it(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function Ji(n){return n instanceof Function?n():n}(i.bootstrap),this._r3Injector=TR(e,t,[{provide:xc,useValue:this},{provide:qp,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class PT extends tG{constructor(e){super(),this.moduleType=e}create(e){return new MT(this.moduleType,e,[])}}class OP extends xc{constructor(e){super(),this.componentFactoryResolver=new gP(this),this.instance=null;const t=new ae([...e.providers,{provide:xc,useValue:this},{provide:qp,useValue:this.componentFactoryResolver}],e.parent||R(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}let dv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Vt(n,e,t,r,i,s,o,a){const l=z(),u=tt(),h=n+qe,m=u.firstCreatePass?function sG(n,e,t,r,i,s,o,a,l){const u=e.consts,h=Md(e,n,4,o||null,ms(u,a));fT(e,t,h,ms(u,l)),fc(e,h);const m=h.tView=hT(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}(h,u,l,e,t,r,i,s,o):u.data[h];Qi(m,!1);const g=FP(u,l,m,n);hc()&&Vy(u,l,g,m),qr(g,l);const y=ZM(g,l,g,m);return l[h]=y,Jy(l,y),function NP(n,e,t){return RT(n,e,t)}(y,m,l),Ua(m)&&uT(u,l,m),null!=o&&dT(l,m,a),Vt}let FP=function LP(n,e,t,r){return $s(!0),e[Ue].createComment("")};function hi(n,e,t,r){const i=z();return Xn(i,_s(),e)&&(tt(),_o(jt(),i,n,e,t,r)),hi}function Hd(n,e,t,r){return Xn(n,_s(),t)?e+$e(t)+r:Je}function yv(n,e){return n<<17|e<<2}function ul(n){return n>>17&32767}function jT(n){return 2|n}function Pc(n){return(131068&n)>>2}function HT(n,e){return-131069&n|e<<2}function zT(n){return 1|n}function mN(n,e,t,r){const i=n[t+1],s=null===e;let o=r?ul(i):Pc(i),a=!1;for(;0!==o&&(!1===a||s);){const u=n[o+1];zG(n[o],e)&&(a=!0,n[o+1]=r?zT(u):jT(u)),o=r?ul(u):Pc(u)}a&&(n[t+1]=r?jT(i):zT(i))}function zG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&nl(n,e)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gN(n){return n.substring(ur.key,ur.keyEnd)}function _N(n,e){const t=ur.textEnd;return t===e?-1:(e=ur.keyEnd=function WG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ur.key=e,t),Qd(n,e,t))}function Qd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Dt(n,e,t){const r=z();return Xn(r,_s(),e)&&es(tt(),jt(),r,n,e,r[Ue],t,!1),Dt}function $T(n,e,t,r,i){const o=i?"class":"style";_T(n,t,e.inputs[o],o,r)}function Fi(n,e){return function Ys(n,e,t,r){const i=z(),s=tt(),o=di(2);s.firstUpdatePass&&TN(s,n,o,r),e!==Je&&Xn(i,o,e)&&CN(s,s.data[Qn()],i,i[Ue],n,i[o+1]=function s5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=it(ll(n)))),n}(e,t),r,o)}(n,e,null,!0),Fi}function Eo(n,e){for(let t=function qG(n){return function vN(n){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=n.length}(n),_N(n,Qd(n,0,ur.textEnd))}(e);t>=0;t=_N(e,t))$r(n,gN(e),!0)}function IN(n,e){return e>=n.expandoStartIndex}function TN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Qn()],o=IN(n,t);AN(s,r)&&null===e&&!o&&(e=!1),e=function ZG(n,e,t,r){const i=function ep(n){const e=Le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=lm(t=qT(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=qT(i,n,e,t,r),null===s){let l=function JG(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Pc(r))return n[ul(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=qT(null,n,e,l[1],r),l=lm(l,e.attrs,r),function e5(n,e,t,r){n[ul(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function t5(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=lm(r,n[s].hostAttrs,t);return lm(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function jG(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ul(o),l=Pc(o);n[r]=t;let h,u=!1;if(Array.isArray(t)?(h=t[1],(null===h||nl(t,h)>0)&&(u=!0)):h=t,i)if(0!==l){const g=ul(n[a+1]);n[r+1]=yv(g,a),0!==g&&(n[g+1]=HT(n[g+1],r)),n[a+1]=function BG(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=yv(a,0),0!==a&&(n[a+1]=HT(n[a+1],r)),a=r;else n[r+1]=yv(l,0),0===a?a=r:n[l+1]=HT(n[l+1],r),l=r;u&&(n[r+1]=jT(n[r+1])),mN(n,h,r,!0),mN(n,h,r,!1),function HG(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&nl(s,e)>=0&&(t[r+1]=zT(t[r+1]))}(e,h,n,r,s),o=yv(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function qT(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=lm(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function lm(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$r(n,o,!!t||e[++s]))}return void 0===n?null:n}function CN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,u=l[a+1],h=function UG(n){return 1==(1&n)}(u)?SN(l,e,t,i,Pc(u),o):void 0;vv(h)||(vv(s)||function VG(n){return 2==(2&n)}(u)&&(s=SN(l,null,t,i,a,o)),function X$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:al.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=al.Important),n.setStyle(t,r,i,s))}}(r,o,Qu(Qn(),t),i,s))}function SN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),h=u?l[1]:l,m=null===h;let g=t[i+1];g===Je&&(g=m?gt:void 0);let y=m?yp(g,r):h===r?g:void 0;if(u&&!vv(y)&&(y=yp(l,r)),vv(y)&&(a=y,o))return a;const b=n[i+1];i=o?ul(b):Pc(b)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=yp(l,r))}return a}function vv(n){return void 0!==n}function AN(n,e){return 0!=(n.flags&(e?8:16))}function xN(n,e,t){!function Qs(n,e,t,r){const i=tt(),s=di(2);i.firstUpdatePass&&TN(i,null,s,r);const o=z();if(t!==Je&&Xn(o,s,t)){const a=i.data[Qn()];if(AN(a,r)&&!IN(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=fs(l,t||"")),$T(i,a,o,t,r)}else!function i5(n,e,t,r,i,s,o,a){i===Je&&(i=gt);let l=0,u=0,h=0<i.length?i[0]:null,m=0<s.length?s[0]:null;for(;null!==h||null!==m;){const g=l<i.length?i[l+1]:void 0,y=u<s.length?s[u+1]:void 0;let w,b=null;h===m?(l+=2,u+=2,g!==y&&(b=m,w=y)):null===m||null!==h&&h<m?(l+=2,b=h):(u+=2,b=m,w=y),null!==b&&CN(n,e,t,r,b,w,o,a),h=l<i.length?i[l]:null,m=u<s.length?s[u]:null}}(i,a,o,o[Ue],o[s+1],o[s+1]=function n5(n,e,t){if(null==t||""===t)return gt;const r=[],i=ll(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}($r,Eo,Hd(z(),n,e,t),!0)}function dr(n,e,t){Sc("NgControlFlow");const r=z(),i=_s(),s=function KT(n,e){return n[e]}(r,qe+n);if(Xn(r,i,e)){const a=Xe(null);try{if(function AT(n,e){const t=Lp(n,e);return void 0!==t&&Fy(t[se],t),t}(s,0),-1!==e){const l=function YT(n,e){return cc(n,e)}(r[se],qe+e),u=Nd(s,l.tView.ssrId);rm(s,nm(r,l,t,{dehydratedView:u}),0,kd(l,u))}}finally{Xe(a)}}else{const a=function AP(n,e){const t=Sn+e;if(t<n.length)return n[t]}(s,0);void 0!==a&&(a[Gt]=t)}}function oe(n,e,t,r){const i=z(),s=tt(),o=qe+n,a=i[Ue],l=s.firstCreatePass?function C5(n,e,t,r,i,s){const o=e.consts,l=Md(e,n,2,r,ms(o,i));return fT(e,t,l,ms(o,s)),null!==l.attrs&&rv(l,l.attrs,!1),null!==l.mergedAttrs&&rv(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],u=NN(s,i,l,a,e,n);i[o]=u;const h=Ua(l);return Qi(l,!0),iM(a,u,l),32!=(32&l.flags)&&hc()&&Vy(s,i,u,l),0===function Ww(){return Le.lFrame.elementDepthCount}()&&qr(u,i),function qf(){Le.lFrame.elementDepthCount++}(),h&&(uT(s,i,l),cT(s,l,i)),null!==r&&dT(i,l),oe}function le(){let n=Lt();Yf()?Qf():(n=n.parent,Qi(n,!1));const e=n;(function Gf(n){return Le.skipHydrationRootTNode===n})(e)&&function Kf(){Le.skipHydrationRootTNode=null}(),function Kw(){Le.lFrame.elementDepthCount--}();const t=tt();return t.firstCreatePass&&(fc(t,n),O_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function nI(n){return 0!=(8&n.flags)}(e)&&$T(t,e,z(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rI(n){return 0!=(16&n.flags)}(e)&&$T(t,e,z(),e.stylesWithoutHost,!1),le}function Pt(n,e,t,r){return oe(n,e,t,r),le(),Pt}let NN=(n,e,t,r,i,s)=>($s(!0),Oy(r,i,function J_(){return Le.lFrame.currentNamespace}()));function Ev(n,e,t){const r=z(),i=tt(),s=n+qe,o=i.firstCreatePass?function x5(n,e,t,r,i){const s=e.consts,o=ms(s,r),a=Md(e,n,8,"ng-container",o);return null!==o&&rv(a,o,!0),fT(e,t,a,ms(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Qi(o,!0);const a=ON(i,r,o,n);return r[s]=a,hc()&&Vy(i,r,a,o),qr(a,r),Ua(o)&&(uT(i,r,o),cT(i,o,r)),null!=t&&dT(r,o),Ev}function bv(){let n=Lt();const e=tt();return Yf()?Qf():(n=n.parent,Qi(n,!1)),e.firstCreatePass&&(fc(e,n),O_(n)&&e.queries.elementEnd(n)),bv}let ON=(n,e,t,r)=>($s(!0),NI(e[Ue],""));function cm(){return z()}function wv(n,e,t){const r=z();return Xn(r,_s(),e)&&es(tt(),jt(),r,n,e,r[Ue],t,!0),wv}const Zd="en-US";let BN=Zd;function Sv(n){return!!n&&"function"==typeof n.then}function uk(n){return!!n&&"function"==typeof n.subscribe}function Qt(n,e,t,r){const i=z(),s=tt(),o=Lt();return function hk(n,e,t,r,i,s,o){const a=Ua(r),u=n.firstCreatePass&&tP(n),h=e[Gt],m=eP(e);let g=!0;if(3&r.type||o){const w=An(r,e),I=o?o(w):w,x=m.length,A=o?H=>o(Ft(H[r.index])):r.index;let P=null;if(!o&&a&&(P=function A6(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[uo],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,g=!1;else{s=pk(r,e,h,s,!1);const H=t.listen(I,i,s);m.push(s,H),u&&u.push(i,A,x,x+1)}}else s=pk(r,e,h,s,!1);const y=r.outputs;let b;if(g&&null!==y&&(b=y[i])){const w=b.length;if(w)for(let I=0;I<w;I+=2){const ne=e[b[I]][b[I+1]].subscribe(s),fe=m.length;m.push(s,ne),u&&u.push(i,r.index,fe,-(fe+1))}}}(s,i,i[Ue],o,n,e,r),Qt}function fk(n,e,t,r){try{return Mi(6,e,t),!1!==t(r)}catch(i){return ev(n,i),!1}finally{Mi(7,e,t)}}function pk(n,e,t,r,i){return function s(o){if(o===Function)return r;Kp(n.componentOffset>-1?ui(n.index,e):e);let l=fk(e,t,r,o),u=s.__ngNextListenerFn__;for(;u;)l=fk(e,t,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function cn(n=1){return function Xw(n){return(Le.lFrame.contextLView=function $_(n,e){for(;n>0;)e=e[Go],n--;return e}(n,Le.lFrame.contextLView))[Gt]}(n)}function x6(n,e){let t=null;const r=function Sf(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?x_(n,s,!0):xf(r,s))return i}else t=i}return t}function mm(n){const e=z()[Yt][Yn];if(!e.projection){const r=e.projection=function gd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?x6(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function pi(n,e=0,t){const r=z(),i=tt(),s=Md(i,qe+n,16,null,t||null);null===s.projection&&(s.projection=e),Qf(),(!r[Wi]||$a())&&32!=(32&s.flags)&&function Y$(n,e,t){nM(e[Ue],0,e,t,OI(n,t,e),QR(t.parent||e[Yn],t,e))}(i,r,s)}function R6(){return this._results[Symbol.iterator]()}class gm{static#e=Symbol.iterator;get changes(){return this._changes??=new Mt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=gm.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=R6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function zr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function hI(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let bo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=N6}return n})();const M6=bo,P6=class extends M6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=nm(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:r});return new Yp(i)}};function N6(){return Av(Lt(),z())}function Av(n,e){return 4&n.type?new P6(e,n,Rd(n,e)):null}class JT{constructor(e){this.queryList=e,this.matches=null}clone(){return new JT(this.queryList)}setDirty(){this.queryList.setDirty()}}class eD{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new eD(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ak(e,t).matches&&this.queries[t].setDirty()}}class Tk{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class tD{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new tD(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class nD{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new nD(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,k6(t,s)),this.matchTNodeWithReadOption(e,t,hd(t,e,s,!1,!1))}else r===bo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xn||i===Ks||i===bo&&4&t.type)this.addMatch(t.index,-2);else{const s=hd(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function k6(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function F6(n,e,t,r){return-1===t?function O6(n,e){return 11&n.type?Rd(n,e):4&n.type?Av(n,e):null}(e,n):-2===t?function L6(n,e,t){return t===xn?Rd(e,n):t===bo?Av(e,n):t===Ks?MP(e,n):void 0}(n,e,r):Xa(n,n[se],t,e)}function Dk(n,e,t,r){const i=e[Yi].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:F6(e,s[u],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function rD(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Dk(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],h=e[-l];for(let m=Sn;m<h.length;m++){const g=h[m];g[ic]===g[an]&&rD(g[se],g,u,r)}if(null!==h[Va]){const m=h[Va];for(let g=0;g<m.length;g++){const y=m[g];rD(y[se],y,u,r)}}}}}return r}function Ck(n,e,t){const r=new gm(4==(4&t));(function m3(n,e,t,r){const i=eP(e);i.push(t),n.firstCreatePass&&tP(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Yi]&&(e[Yi]=new eD),e[Yi].queries.push(new JT(r))}function Sk(n,e,t){null===n.queries&&(n.queries=new tD),n.queries.track(new nD(e,t))}function Ak(n,e){return n.queries.getByIndex(e)}function Xs(n,e,t,r){const i=tt();if(i.firstCreatePass){const s=Lt();Sk(i,new Tk(e,t,r),s.index),function B6(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Ck(i,z(),t)}function bs(n,e,t){const r=tt();r.firstCreatePass&&(Sk(r,new Tk(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Ck(r,z(),e)}function Rn(n){const e=z(),t=tt(),r=rd();id(r+1);const i=Ak(t,r);if(n.dirty&&function qw(n){return 4==(4&n[Ae])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?rD(t,e,r,[]):Dk(t,e,i,r);n.reset(s,L4),n.notifyOnChanges()}return!0}return!1}function Mn(){return function V6(n,e){return n[Yi].queries[e].queryList}(z(),rd())}function xv(n){return function Ha(n,e){return n[e]}(function Xf(){return Le.lFrame.contextLView}(),qe+n)}function ut(n,e=""){const t=z(),r=tt(),i=n+qe,s=r.firstCreatePass?Md(r,i,1,e,null):r.data[i],o=Vk(r,t,s,e,n);t[i]=o,hc()&&Vy(r,t,o,s),Qi(s,!1)}let Vk=(n,e,t,r,i)=>($s(!0),function ky(n,e){return n.createText(e)}(e[Ue],r));function _m(n){return Jd("",n,""),_m}function Jd(n,e,t){const r=z(),i=Hd(r,n,e,t);return i!==Je&&function ia(n,e,t){const r=Qu(e,n);!function $R(n,e,t){n.setValue(e,t)}(n[Ue],r,t)}(r,Qn(),i),Jd}function iD(n,e,t,r,i){if(n=Pe(n),Array.isArray(n))for(let s=0;s<n.length;s++)iD(n[s],e,t,r,i);else{const s=tt(),o=z(),a=Lt();let l=c(n)?n:Pe(n.provide);const u=Ni(n),h=1048575&a.providerIndexes,m=a.directiveStart,g=a.providerIndexes>>20;if(c(n)||!n.multi){const y=new Ka(u,i,q),b=oD(l,e,i?h:h+g,m);-1===b?(mc(ud(a,o),s,l),sD(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[b]=y,o[b]=y)}else{const y=oD(l,e,h+g,m),b=oD(l,e,h,h+g),I=b>=0&&t[b];if(i&&!I||!i&&!(y>=0&&t[y])){mc(ud(a,o),s,l);const x=function tW(n,e,t,r,i){const s=new Ka(n,t,q);return s.multi=[],s.index=e,s.componentProviders=0,Wk(s,i,r&&!t),s}(i?eW:J6,t.length,i,r,u);!i&&I&&(t[b].providerFactory=x),sD(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),o.push(x)}else sD(s,n,y>-1?y:b,Wk(t[i?b:y],u,!i&&r));!i&&r&&I&&t[b].componentProviders++}}}function sD(n,e,t,r){const i=c(e),s=function d(n){return!!n.useClass}(e);if(i||s){const l=(s?Pe(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=u.indexOf(t);-1===h?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function Wk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function oD(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function J6(n,e,t,r){return aD(this.multi,[])}function eW(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xa(t,t[se],this.providerFactory.index,r);s=a.slice(0,o),aD(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],aD(i,s);return s}function aD(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function tn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Z6(n,e,t){const r=tt();if(r.firstCreatePass){const i=cr(n);iD(t,r.data,r.blueprint,i,!0),iD(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let nW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Dp(0,t.type),i=r.length>0?function iG(n,e,t=null){return new OP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(B($))})}return n})();function eh(n){Sc("NgStandalone"),n.getStandaloneInjector=e=>e.get(nW).getOrCreateStandaloneInjector(n)}function Mv(n,e,t,r){return function nO(n,e,t,r,i,s){const o=e+t;return Xn(n,o,i)?function yo(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function ym(n,e){const t=n[e];return t===Je?void 0:t}(n,o+1)}(z(),function Pr(){const n=Le.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function aO(n,e){return Av(n,e)}class kc{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const YW=new kc("17.1.3"),SO=new ie(""),kv=new ie("");let gD,pD=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,gD||(function T9(n){gD=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(B(Ge),B(mD),B(kv))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),mD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return gD?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const D9=new ie("");let _D=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ke(D9,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Sv(s))t.push(s);else if(uk(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const AO=new ie("");function MO(n,e){return Array.isArray(e)?e.reduce(MO,n):{...n,...e}}let Oc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(LM),this.afterRenderEffectManager=ke(Qp),this.componentTypes=[],this.components=[],this.isStable=ke(dv).hasPendingTasks.pipe(Be(t=>!t)),this._injector=ke($)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof wM;if(!this._injector.get(_D).done)throw!i&&function js(n){const e=ot(n)||In(n)||ar(n);return null!==e&&e.standalone}(t),new U(405,!1);let o;o=i?t:this._injector.get(qp).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function S9(n){return n.isBoundToModule}(o)?void 0:this._injector.get(xc),u=o.create(ki.NULL,[],r||o.selector,a),h=u.location.nativeElement,m=u.injector.get(SO,null);return m?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Ov(this.components,u),m?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;do{if(100===t)throw new U(103,!1);const r=0===t;for(let{_lView:i,notifyErrorHandler:s}of this._views)!r&&!NO(i)||this.detectChangesInView(i,s,r);this.afterRenderEffectManager.execute(),t++}while(this._views.some(({_lView:r})=>NO(r)))}detectChangesInView(t,r,i){let s;i?(s=0,t[Ae]|=1024):s=64&t[Ae]?0:1,tv(t,r,s)}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Ov(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(AO,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ov(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ov(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function NO(n){return zf(n)}let x9=(()=>{class n{constructor(){this.zone=ke(Ge),this.applicationRef=ke(Oc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R9(){const n=ke(Ge),e=ke(ra);return t=>n.runOutsideAngular(()=>e.handleError(t))}let P9=(()=>{class n{constructor(){this.subscription=new vt,this.initialized=!1,this.zone=ke(Ge),this.pendingTasks=ke(dv)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wo=new ie("",{providedIn:"root",factory:()=>ke(wo,pt.Optional|pt.SkipSelf)||function N9(){return typeof $localize<"u"&&$localize.locale||Zd}()}),yD=new ie("");let FO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function tq(n="zone.js",e){return"noop"===n?new dP:"zone.js"===n?new Ge(e):n}(r?.ngZone,function OO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function rG(n,e,t){return new MT(n,e,t)}(t.moduleType,this.injector,function kO(n){return[{provide:Ge,useFactory:n},{provide:jn,multi:!0,useFactory:()=>{const e=ke(x9,{optional:!0});return()=>e.initialize()}},{provide:jn,multi:!0,useFactory:()=>{const e=ke(P9);return()=>{e.initialize()}}},{provide:LM,useFactory:R9}]}(()=>i)),o=s.injector.get(ra,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Ov(this._modules,s),a.unsubscribe()})}),function RO(n,e,t){try{const r=t();return Sv(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(_D);return a.runInitializers(),a.donePromise.then(()=>(function UN(n){"string"==typeof n&&(BN=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(wo,Zd)||Zd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=MO({},r);return function C9(n,e,t){const r=new PT(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Oc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(yD,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(B(ki))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),dl=null;const LO=new ie("");function VO(n,e,t=[]){const r=`Platform: ${e}`,i=new ie(r);return(s=[])=>{let o=vD();if(!o||o.injector.get(LO,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function F9(n){if(dl&&!dl.get(LO,!1))throw new U(400,!1);(function xO(){!function us(n){ni=n}(()=>{throw new U(600,!1)})})(),dl=n;const e=n.get(FO);(function UO(n){n.get(CR,null)?.forEach(t=>t())})(n)}(function BO(n=[],e){return ki.create({name:e,providers:[{provide:p,useValue:"platform"},{provide:yD,useValue:new Set([()=>dl=null])},...n]})}(a,r))}return function L9(n){const e=vD();if(!e)throw new U(401,!1);return e}()}}function vD(){return dl?.get(FO)??null}const H9=VO(null,"core",[]);let z9=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(B(Oc))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({})}return n})();function Gr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function f1(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}let p1=null;function hl(){return p1}class y8{}const _n=new ie("");let m1=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>ke(v8),providedIn:"platform"})}return n})(),v8=(()=>{class n extends m1{constructor(){super(),this._doc=ke(_n),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hl().getBaseHref(this._doc)}onPopState(t){const r=hl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=hl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function g1(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function _1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Lc(n){return n&&"?"!==n[0]?"?"+n:n}let CD=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>ke(b8),providedIn:"root"})}return n})();const E8=new ie("");let b8=(()=>{class n extends CD{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ke(_n).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g1(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Lc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Lc(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Lc(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(m1),B(E8,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y1=(()=>{class n{constructor(t){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function T8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(_1(v1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Lc(r))}normalize(t){return n.stripTrailingSlash(function I8(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,v1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Lc;static#t=this.joinWithSlash=g1;static#n=this.stripTrailingSlash=_1;static#r=this.\u0275fac=function(r){return new(r||n)(B(CD))};static#i=this.\u0275prov=pe({token:n,factory:()=>function w8(){return new y1(B(CD))}(),providedIn:"root"})}return n})();function v1(n){return n.replace(/\/index.html$/,"")}const FD=/\s+/,A1=[];let x1=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=A1,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(FD):A1}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(FD):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(FD).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn),q(Cc))};static#t=this.\u0275dir=Re({type:n,selectors:[["","ngClass",""]],inputs:{klass:[ge.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class u7{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let LD=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new u7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),M1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{M1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(q(Ks),q(bo),q(oT))};static#t=this.\u0275dir=Re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function M1(n,e){n.context.$implicit=e.item}let tE=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new d7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(q(Ks),q(bo))};static#t=this.\u0275dir=Re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class d7{constructor(){this.$implicit=null,this.ngIf=null}}function P1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${it(e)}'.`)}let nE=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:al.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn),q(Qy),q(Cc))};static#t=this.\u0275dir=Re({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),k1=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||n)(q(Ks))};static#t=this.\u0275dir=Re({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ci]})}return n})(),HD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({})}return n})();const F1="browser";function rE(n){return"server"===n}class hK extends y8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qD extends hK{static makeCurrent(){!function _8(n){p1??=n}(new qD)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fK(){return Cm=Cm||document.querySelector("base"),Cm?Cm.getAttribute("href"):null}();return null==t?null:function pK(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Cm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function l7(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Cm=null,gK=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const GD=new ie("");let U1=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(B(GD),B(Ge))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class j1{constructor(e){this._doc=e}}const WD="ng-app-id";let H1=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rE(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${WD}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(WD),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(WD,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n),B(Ay),B(II,8),B(Ws))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const KD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},YD=/%COMP%/g,EK=new ie("",{providedIn:"root",factory:()=>!0});function $1(n,e){return e.map(t=>t.replace(YD,n))}let QD=(()=>{class n{constructor(t,r,i,s,o,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=rE(a),this.defaultRenderer=new XD(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===li.ShadowDom&&(r={...r,encapsulation:li.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof G1?i.applyToHost(t):i instanceof ZD&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case li.Emulated:s=new G1(l,u,r,this.appId,h,o,a,m);break;case li.ShadowDom:return new TK(l,u,t,r,o,a,this.nonce,m);default:s=new ZD(l,u,r,h,o,a,m)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(B(U1),B(H1),B(Ay),B(EK),B(_n),B(Ws),B(Ge),B(II))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class XD{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(KD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(q1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(q1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=KD[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=KD[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(al.DashCase|al.Important)?e.style.setProperty(t,r,i&al.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&al.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=hl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function q1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class TK extends XD{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=$1(i.id,i.styles);for(const h of u){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ZD extends XD{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?$1(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class G1 extends ZD{constructor(e,t,r,i,s,o,a,l){const u=i+"-"+r.id;super(e,t,r,s,o,a,l,u),this.contentAttr=function bK(n){return"_ngcontent-%COMP%".replace(YD,n)}(u),this.hostAttr=function wK(n){return"_nghost-%COMP%".replace(YD,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let DK=(()=>{class n extends j1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const W1=["alt","control","meta","shift"],CK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let AK=(()=>{class n extends j1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hl().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),W1.forEach(u=>{const h=r.indexOf(u);h>-1&&(r.splice(h,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=CK[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),W1.forEach(o=>{o!==i&&(0,SK[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const Y1=[{provide:Ws,useValue:F1},{provide:CR,useValue:function xK(){qD.makeCurrent()},multi:!0},{provide:_n,useFactory:function MK(){return function m$(n){wI=n}(document),document},deps:[]}],PK=VO(H9,"browser",Y1),NK=new ie(""),Q1=[{provide:kv,useClass:class mK{addToWindow(e){st.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new U(5103,!1);return s},st.getAllAngularTestabilities=()=>e.getAllTestabilities(),st.getAllAngularRootElements=()=>e.getAllRootElements(),st.frameworkStabilizers||(st.frameworkStabilizers=[]),st.frameworkStabilizers.push(r=>{const i=st.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?hl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:SO,useClass:pD,deps:[Ge,mD,kv]},{provide:pD,useClass:pD,deps:[Ge,mD,kv]}],X1=[{provide:p,useValue:"root"},{provide:ra,useFactory:function RK(){return new ra},deps:[]},{provide:GD,useClass:DK,multi:!0,deps:[_n,Ge,Ws]},{provide:GD,useClass:AK,multi:!0,deps:[_n]},QD,H1,U1,{provide:rT,useExisting:QD},{provide:class z7{},useClass:gK,deps:[]},[]];let Z1=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ay,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(B(NK,12))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({providers:[...X1,...Q1],imports:[HD,z9]})}return n})(),LK=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=xr({type:n,selectors:[["app-header"]],decls:19,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","text-lg-start","bg-body-tertiary","text-muted",2,"background-color","rgba(0, 0, 0, 0.05)","border-bottom","solid 1px grey"],["href","#",1,"navbar-brand"],["src","../../assets/logo-2.png","width","100","height","30","alt",""],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["href","#",1,"nav-item","nav-link","active"],[1,"sr-only"],["href","#",1,"nav-item","nav-link"]],template:function(r,i){1&r&&(oe(0,"nav",0)(1,"a",1),Pt(2,"img",2),le(),oe(3,"a",1),ut(4,"R K Builders & Developers"),le(),oe(5,"button",3),Pt(6,"span",4),le(),oe(7,"div",5)(8,"div",6)(9,"a",7),ut(10,"Home "),oe(11,"span",8),ut(12,"(current)"),le()(),oe(13,"a",9),ut(14,"Features"),le(),oe(15,"a",9),ut(16,"Pricing"),le(),oe(17,"a",9),ut(18,"Contacts"),le()()()())}})}return n})(),VK=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=xr({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer","text-center","text-lg-start","bg-body-tertiary","text-muted",2,"border-top","solid 1px grey"],[1,"text-center","p-4",2,"background-color","rgba(0, 0, 0, 0.05)"],[1,"text-reset","fw-bold"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"div",1),ut(2," \xa9 2024 Copyright: "),oe(3,"a",2),ut(4,"Biswa Bandhu Aich"),le()()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;max-height:150px}"]})}return n})();class BK{constructor(e){this.apartments=e}}var Io=Ke(360);(0,Io.registerVersion)("firebase","10.6.0","app");class HK extends vt{constructor(e,t){super()}schedule(e,t=0){return this}}const oE={setInterval(n,e,...t){const{delegate:r}=oE;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=oE;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class aE extends HK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return oE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&oE.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Kn(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const JD={now:()=>(JD.delegate||Date).now(),delegate:void 0};class Am{constructor(e,t=Am.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Am.now=JD.now;class lE extends Am{constructor(e,t=Am.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const qK=new class $K extends lE{}(class zK extends aE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),xm=new lE(aE),GK=xm;function nF(n,e,t){const r=xe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Te(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Cr}function aa(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function fl(n,e=0){return Ee((t,r)=>{t.subscribe(Te(r,i=>aa(r,n,()=>r.next(i),e),()=>aa(r,n,()=>r.complete(),e),i=>aa(r,n,()=>r.error(i),e)))})}function sh(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}const e0=new kc("ANGULARFIRE2_VERSION");class t0{constructor(){return((n,e)=>{const t=(0,Io.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(KK)}}const KK="app-check";function oh(){}class rF{zone;delegate;constructor(e,t=qK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class YK{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oh,{},oh,oh)),t.pipe(nF({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let n0=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new rF(Zone.current)),this.insideAngular=t.run(()=>new rF(Zone.current,xm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(B(Ge))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ah(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function iF(n){return n.pipe(fl(ah().outsideAngular))}function _i(n){return function XK(n){return function(t){return(t=t.lift(new YK(n.ngZone))).pipe(sh(n.outsideAngular),fl(n.insideAngular))}}(ah())(n)}var la=Ke(368);la.c.registerVersion("firebase","10.6.0","app-compat");const tY=["ngOnDestroy"];class sF{constructor(e){return e}}const Rm=new ie("angularfire2.app.options"),Mm=new ie("angularfire2.app.name");function cE(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=la.c.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>la.c.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;iY("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new sF(o)}const iY=(n,...e)=>{},sY={provide:sF,useFactory:cE,deps:[Rm,Ge,[new rl,Mm]]};let oY=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Rm,useValue:t},{provide:Mm,useValue:r}]}}constructor(t){la.c.registerVersion("angularfire",e0.full,"core"),la.c.registerVersion("angularfire",e0.full,"app-compat"),la.c.registerVersion("angular",YW.full,t.toString())}static \u0275fac=function(r){return new(r||n)(B(Ws))};static \u0275mod=on({type:n});static \u0275inj=Zt({providers:[sY]})}return n})();function r0(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function aY(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(oF("error",`${e} was already initialized on the ${t} Firebase App with different settings.${lY?" You may need to reload as Firebase is not HMR aware.":""}`),oF("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const lY=typeof module<"u"&&!!module.hot,oF=(n,...e)=>{};function aF(n){return n&&xe(n.schedule)}function s0(n){return n[n.length-1]}function lF(n){return xe(s0(n))?n.pop():void 0}function Pm(n){return aF(s0(n))?n.pop():void 0}globalThis.\u0275AngularfireInstanceCache||=[],Ke(344);var lh=Ke(316);const o0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function cF(n){return xe(n?.then)}function uF(n){return xe(n[Hi])}function dF(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function hF(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fF=function uY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pF(n){return xe(n?.[fF])}function mF(n){return(0,lh.o7)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,lh.U1)(t.read());if(i)return yield(0,lh.U1)(void 0);yield yield(0,lh.U1)(r)}}finally{t.releaseLock()}})}function gF(n){return xe(n?.getReader)}function Vi(n){if(n instanceof Ot)return n;if(null!=n){if(uF(n))return function dY(n){return new Ot(e=>{const t=n[Hi]();if(xe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(o0(n))return function hY(n){return new Ot(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(cF(n))return function fY(n){return new Ot(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ca)})}(n);if(dF(n))return _F(n);if(pF(n))return function pY(n){return new Ot(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(gF(n))return function mY(n){return _F(mF(n))}(n)}throw hF(n)}function _F(n){return new Ot(e=>{(function gY(n,e){var t,r,i,s;return(0,lh.kH)(this,void 0,void 0,function*(){try{for(t=(0,lh.mA)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function yF(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ot(t=>{aa(t,e,()=>{const r=n[Symbol.asyncIterator]();aa(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Wr(n,e){return e?function wY(n,e){if(null!=n){if(uF(n))return function _Y(n,e){return Vi(n).pipe(sh(e),fl(e))}(n,e);if(o0(n))return function vY(n,e){return new Ot(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(cF(n))return function yY(n,e){return Vi(n).pipe(sh(e),fl(e))}(n,e);if(dF(n))return yF(n,e);if(pF(n))return function EY(n,e){return new Ot(t=>{let r;return aa(t,e,()=>{r=n[fF](),aa(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(n,e);if(gF(n))return function bY(n,e){return yF(mF(n),e)}(n,e)}throw hF(n)}(n,e):Vi(n)}function To(...n){return Wr(n,Pm(n))}function a0(n,e,t=1/0){return xe(e)?a0((r,i)=>Be((s,o)=>e(r,s,i,o))(Vi(n(r,i))),t):("number"==typeof e&&(t=e),Ee((r,i)=>function IY(n,e,t,r,i,s,o,a){const l=[];let u=0,h=0,m=!1;const g=()=>{m&&!l.length&&!u&&e.complete()},y=w=>u<r?b(w):l.push(w),b=w=>{s&&e.next(w),u++;let I=!1;Vi(t(w,h++)).subscribe(Te(e,x=>{i?.(x),s?y(x):e.next(x)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;l.length&&u<r;){const x=l.shift();o?aa(e,o,()=>b(x)):b(x)}g()}catch(x){e.error(x)}}))};return n.subscribe(Te(e,y,()=>{m=!0,g()})),()=>{a?.()}}(r,i,n,t)))}function vF(n=1/0){return a0(Cr,n)}const l0=new Ot(n=>n.complete());function ch(...n){const e=Pm(n),t=function cY(n,e){return"number"==typeof s0(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Vi(r[0]):vF(t)(Wr(r,e)):l0}function Ts(n,e){return Ee((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Te(r,l=>{i?.unsubscribe();let u=0;const h=s++;Vi(n(l,h)).subscribe(i=Te(r,m=>r.next(e?e(l,m,h,u++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class DY extends S{constructor(e=1/0,t=1/0,r=JD){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function c0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new mr({next:()=>{r.unsubscribe(),n()}});return Vi(e(...t)).subscribe(r)}function u0(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,function CY(n={}){const{connector:e=(()=>new S),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,u=0,h=!1,m=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),o=l=void 0,h=m=!1},b=()=>{const w=o;y(),w?.unsubscribe()};return Ee((w,I)=>{u++,!m&&!h&&g();const x=l=l??e();I.add(()=>{u--,0===u&&!m&&!h&&(a=c0(b,i))}),x.subscribe(I),!o&&u>0&&(o=new mr({next:A=>x.next(A),error:A=>{m=!0,g(),a=c0(y,t,A),x.error(A)},complete:()=>{h=!0,g(),a=c0(y,r),x.complete()}}),Vi(w).subscribe(o))})(s)}}({connector:()=>new DY(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const EF=ir(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function eo(n,e){return Ee((t,r)=>{let i=0;t.subscribe(Te(r,s=>n.call(e,s,i++)&&r.next(s)))})}function uh(n){return n<=0?()=>l0:Ee((e,t)=>{let r=0;e.subscribe(Te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function AY(n=xY){return Ee((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xY(){return new EF}function bF(n,e){return xe(e)?Ts(()=>n,e):Ts(()=>n)}const wF=new ie("angularfire2.auth.use-emulator"),IF=new ie("angularfire2.auth.settings"),TF=new ie("angularfire2.auth.tenant-id"),DF=new ie("angularfire2.auth.langugage-code"),CF=new ie("angularfire2.auth.use-device-language"),SF=new ie("angularfire.auth.persistence"),AF=(n,e,t,r,i,s,o,a)=>r0(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[u,h]of Object.entries(o))l.settings[u]=h;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]);let xF=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,u,h,m,g,y){const b=new S,w=To(void 0).pipe(fl(o.outsideAngular),Ts(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ke.bind(Ke,344)))),Be(()=>cE(t,s,r)),Be(I=>AF(I,s,a,u,h,m,l,g)),u0({bufferSize:1,refCount:!1}));if(rE(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=To(null);else{w.pipe(function RY(n,e){const t=arguments.length>=2;return r=>r.pipe(n?eo((i,s)=>n(i,s,r)):Cr,uh(1),t?function SY(n){return Ee((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}(e):AY(()=>new EF))}()).subscribe();const I=w.pipe(Ts(P=>P.getRedirectResult().then(H=>H,()=>null)),_i,u0({bufferSize:1,refCount:!1})),x=w.pipe(Ts(P=>new Ot(H=>({unsubscribe:s.runOutsideAngular(()=>P.onAuthStateChanged(ne=>H.next(ne),ne=>H.error(ne),()=>H.complete()))})))),A=w.pipe(Ts(P=>new Ot(H=>({unsubscribe:s.runOutsideAngular(()=>P.onIdTokenChanged(ne=>H.next(ne),ne=>H.error(ne),()=>H.complete()))}))));this.authState=I.pipe(bF(x),sh(o.outsideAngular),fl(o.insideAngular)),this.user=I.pipe(bF(A),sh(o.outsideAngular),fl(o.insideAngular)),this.idToken=this.user.pipe(Ts(P=>P?Wr(P.getIdToken()):To(null))),this.idTokenResult=this.user.pipe(Ts(P=>P?Wr(P.getIdTokenResult()):To(null))),this.credential=ch(I,b,this.authState.pipe(eo(P=>!P))).pipe(Be(P=>P?.user?P:null),sh(o.outsideAngular),fl(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(tY.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(u=>t.run(()=>u)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,u)=>o.then(h=>{const m=h?.(...u);return r?.spy?.apply&&r.spy.apply(s,u,m),m})})})}))(this,w,s,{spy:{apply:(I,x,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(P=>b.next(P))}}})}static \u0275fac=function(r){return new(r||n)(B(Rm),B(Mm,8),B(Ws),B(Ge),B(n0),B(wF,8),B(IF,8),B(TF,8),B(DF,8),B(CF,8),B(SF,8),B(t0,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function d0(...n){return function PY(){return vF(1)}()(Wr(n,Pm(n)))}function dh(...n){const e=Pm(n);return Ee((t,r)=>{(e?d0(n,t,e):d0(n,t)).subscribe(r)})}function h0(){return Ee((n,e)=>{let t,r=!1;n.subscribe(Te(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function f0(n,e){return Ee(function NY(n,e,t,r,i){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(Te(o,h=>{const m=u++;l=a?n(l,h,m):(a=!0,h),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function RF(n,e=Cr){return n=n??kY,Ee((t,r)=>{let i,s=!0;t.subscribe(Te(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function kY(n,e){return n===e}var de,uE=Ke(920),Do=Ke(976),ht=Ke(144),OY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},to={},p0=p0||{},Ye=OY||self;function dE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var m0="closure_uid_"+(1e9*Math.random()>>>0),LY=0;function VY(n,e,t){return n.call.apply(n.bind,arguments)}function BY(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Kr(n,e,t){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VY:BY).apply(null,arguments)}function hE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function pl(){this.s=this.s,this.o=this.o}pl.prototype.s=!1,pl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function FY(n){Object.prototype.hasOwnProperty.call(n,m0)&&n[m0]||(n[m0]=++LY)}(this)},pl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function g0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function PF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(dE(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Yr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Yr.prototype.h=function(){this.defaultPrevented=!0};var jY=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ye.addEventListener("test",()=>{},e),Ye.removeEventListener("test",()=>{},e)}catch{}return n}();function km(n){return/^[\s\xa0]*$/.test(n)}function fE(){var n=Ye.navigator;return n&&(n=n.userAgent)?n:""}function Co(n){return-1!=fE().indexOf(n)}function _0(n){return _0[" "](n),n}_0[" "]=function(){};var v0,n,zY=Co("Opera"),hh=Co("Trident")||Co("MSIE"),NF=Co("Edge"),y0=NF||hh,kF=Co("Gecko")&&!(-1!=fE().toLowerCase().indexOf("webkit")&&!Co("Edge"))&&!(Co("Trident")||Co("MSIE"))&&!Co("Edge"),$Y=-1!=fE().toLowerCase().indexOf("webkit")&&!Co("Edge");function OF(){var n=Ye.document;return n?n.documentMode:void 0}e:{var E0="",b0=(n=fE(),kF?/rv:([^\);]+)(\)|;)/.exec(n):NF?/Edge\/([\d\.]+)/.exec(n):hh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$Y?/WebKit\/(\S+)/.exec(n):zY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(b0&&(E0=b0?b0[1]:""),hh){var w0=OF();if(null!=w0&&w0>parseFloat(E0)){v0=String(w0);break e}}v0=E0}var qY=Ye.document&&hh&&(OF()||parseInt(v0,10))||void 0;function Om(n,e){if(Yr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(kF){e:{try{_0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Om.$.h.call(this)}}vr(Om,Yr);var GY={2:"touch",3:"pen",4:"mouse"};Om.prototype.h=function(){Om.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fm="closure_listenable_"+(1e6*Math.random()|0),WY=0;function KY(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++WY,this.fa=this.ia=!1}function pE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function T0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function LF(n){const e={};for(const t in n)e[t]=n[t];return e}const VF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<VF.length;s++)t=VF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mE(n){this.src=n,this.g={},this.h=0}function D0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=MF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function C0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}mE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=C0(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new KY(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var S0="closure_lm_"+(1e6*Math.random()|0),A0={};function UF(n,e,t,r,i){if(r&&r.once)return HF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)UF(n,e[s],t,r,i);return null}return t=P0(t),n&&n[Fm]?n.O(e,t,Nm(r)?!!r.capture:!!r,i):jF(n,e,t,!1,r,i)}function jF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Nm(i)?!!i.capture:!!i,a=R0(n);if(a||(n[S0]=a=new mE(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function QY(){const e=XY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jY||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent($F(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function HF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)HF(n,e[s],t,r,i);return null}return t=P0(t),n&&n[Fm]?n.P(e,t,Nm(r)?!!r.capture:!!r,i):jF(n,e,t,!0,r,i)}function zF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zF(n,e[s],t,r,i);else r=Nm(r)?!!r.capture:!!r,t=P0(t),n&&n[Fm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=C0(s=n.g[e],t,r,i))&&(pE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=R0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=C0(e,t,r,i)),(t=-1<n?e[n]:null)&&x0(t))}function x0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Fm])D0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent($F(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=R0(e))?(D0(t,n),0==t.h&&(t.src=null,e[S0]=null)):pE(n)}}}function $F(n){return n in A0?A0[n]:A0[n]="on"+n}function XY(n,e){if(n.fa)n=!0;else{e=new Om(e,this);var t=n.listener,r=n.la||n.src;n.ia&&x0(n),n=t.call(r,e)}return n}function R0(n){return(n=n[S0])instanceof mE?n:null}var M0="__closure_events_fn_"+(1e9*Math.random()>>>0);function P0(n){return"function"==typeof n?n:(n[M0]||(n[M0]=function(e){return n.handleEvent(e)}),n[M0])}function Er(){pl.call(this),this.i=new mE(this),this.S=this,this.J=null}function kr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Yr(e,n);else if(e instanceof Yr)e.target=e.target||n;else{var i=e;BF(e=new Yr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=gE(o,r,!0,e)&&i}if(i=gE(o=e.g=n,r,!0,e)&&i,i=gE(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=gE(o=e.g=t[s],r,!1,e)&&i}function gE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&D0(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}vr(Er,pl),Er.prototype[Fm]=!0,Er.prototype.removeEventListener=function(n,e,t,r){zF(this,n,e,t,r)},Er.prototype.N=function(){if(Er.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)pE(t[r]);delete n.g[e],n.h--}}this.J=null},Er.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Er.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var N0=Ye.JSON.stringify;function JY(){var n=k0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qF=new class ZY{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new tQ,n=>n.reset());class tQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nQ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function rQ(n){Ye.setTimeout(()=>{throw n},0)}let Lm,Vm=!1,k0=new class eQ{constructor(){this.h=this.g=null}add(e,t){const r=qF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},GF=()=>{const n=Ye.Promise.resolve(void 0);Lm=()=>{n.then(iQ)}};var iQ=()=>{for(var n;n=JY();){try{n.h.call(n.g)}catch(t){rQ(t)}var e=qF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vm=!1};function _E(n,e){Er.call(this),this.h=n||1,this.g=e||Ye,this.j=Kr(this.qb,this),this.l=Date.now()}function O0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function F0(n,e,t){if("function"==typeof n)t&&(n=Kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ye.setTimeout(n,e||0)}function WF(n){n.g=F0(()=>{n.g=null,n.i&&(n.i=!1,WF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vr(_E,Er),(de=_E.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kr(this,"tick"),this.ga&&(O0(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){_E.$.N.call(this),O0(this),delete this.g};class sQ extends pl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WF(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bm(n){pl.call(this),this.h=n,this.g={}}vr(Bm,pl);var KF=[];function YF(n,e,t,r){Array.isArray(t)||(t&&(KF[0]=t.toString()),t=KF);for(var i=0;i<t.length;i++){var s=UF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function QF(n){T0(n.g,function(e,t){this.g.hasOwnProperty(t)&&x0(e)},n),n.g={}}function yE(){this.g=!0}function fh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return N0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bm.prototype.N=function(){Bm.$.N.call(this),QF(this)},Bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yE.prototype.Ea=function(){this.g=!1},yE.prototype.info=function(){};var Bc={},XF=null;function vE(){return XF=XF||new Er}function ZF(n){Yr.call(this,Bc.Ta,n)}function Um(n){const e=vE();kr(e,new ZF(e))}function JF(n,e){Yr.call(this,Bc.STAT_EVENT,n),this.stat=e}function yi(n){const e=vE();kr(e,new JF(e,n))}function eL(n,e){Yr.call(this,Bc.Ua,n),this.size=e}function jm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){n()},e)}Bc.Ta="serverreachability",vr(ZF,Yr),Bc.STAT_EVENT="statevent",vr(JF,Yr),Bc.Ua="timingevent",vr(eL,Yr);var EE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function L0(){}function rL(){}L0.prototype.h=null;var U0,Hm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function V0(){Yr.call(this,"d")}function B0(){Yr.call(this,"c")}function bE(){}function zm(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bm(this),this.P=uQ,this.V=new _E(n=y0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iL}function iL(){this.i=null,this.g="",this.h=!1}vr(V0,Yr),vr(B0,Yr),vr(bE,L0),bE.prototype.g=function(){return new XMLHttpRequest},bE.prototype.i=function(){return{}},U0=new bE;var uQ=45e3,j0={},wE={};function H0(n,e,t){n.L=1,n.v=CE(ca(e)),n.s=t,n.S=!0,sL(n,null)}function sL(n,e){n.G=Date.now(),$m(n),n.A=ca(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),mL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new iL,n.g=BL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new sQ(Kr(n.Pa,n,n.g),n.O)),YF(n.U,n.g,"readystatechange",n.nb),e=n.I?LF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Um(),function oQ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var m=h.split("_");o=2<=m.length&&"type"==m[1]?o+(h+"=")+u+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function oL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function aL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=dQ(n,t),i==wE){4==e&&(n.o=4,yi(14),r=!1),fh(n.j,n.m,null,"[Incomplete Response]");break}if(i==j0){n.o=4,yi(15),fh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}fh(n.j,n.m,i,null),z0(n,i)}oL(n)&&i!=wE&&i!=j0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Q0(e),e.M=!0,yi(11))):(fh(n.j,n.m,t,"[Invalid Chunked Response]"),Uc(n),qm(n))}function dQ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?wE:(t=Number(e.substring(t,r)),isNaN(t)?j0:(r+=1)+t>e.length?wE:(e=e.slice(r,r+t),n.C=r+t,e))}function $m(n){n.Y=Date.now()+n.P,lL(n,n.P)}function lL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jm(Kr(n.lb,n),e)}function IE(n){n.B&&(Ye.clearTimeout(n.B),n.B=null)}function qm(n){0==n.l.H||n.J||OL(n.l,n)}function Uc(n){IE(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,O0(n.V),QF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function z0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||$0(t.i,n)))if(!n.K&&$0(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;PE(t),RE(t)}Y0(t),yi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=jm(Kr(t.ib,t),6e3));if(1>=yL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Hc(t,11)}else if((n.K||t.g==n)&&PE(t),!km(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const h=u[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const m=u[4];null!=m&&(t.Ga=m,t.l.info("SVER="+t.Ga));const g=u[5];null!=g&&"number"==typeof g&&0<g&&(t.L=r=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const b=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(q0(s,s.h),s.h=null))}if(r.F){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,un(r.I,r.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=VL(r,r.J?r.pa:null,r.Y),o.K){vL(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(IE(a),$m(a)),r.g=o}else NL(r);0<t.j.length&&ME(t)}else"stop"!=u[0]&&"close"!=u[0]||Hc(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Hc(t,7):K0(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}Um()}catch{}}function cL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(dE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(dE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(de=zm.prototype).setTimeout=function(n){this.P=n},de.nb=function(n){n=n.target;const e=this.M;e&&3==So(n)?e.l():this.Pa(n)},de.Pa=function(n){try{if(n==this.g)e:{const h=So(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||y0||this.g&&(this.h.h||this.g.ja()||SL(this.g)))){this.J||4!=h||7==e||Um(),IE(this);var t=this.g.da();this.ca=t;t:if(oL(this)){var r=SL(this.g);n="";var i=r.length,s=4==So(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uc(this),qm(this);var o="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function aQ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!km(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,yi(12),Uc(this),qm(this);break e}fh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,z0(this,t)}this.S?(aL(this,h,o),y0&&this.i&&3==h&&(YF(this.U,this.V,"tick",this.mb),this.V.start())):(fh(this.j,this.m,o,null),z0(this,o)),4==h&&Uc(this),this.i&&!this.J&&(4==h?OL(this.l,this):(this.i=!1,$m(this)))}else(function MQ(n){const e={};n=(n.g&&2<=So(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(km(n[r]))continue;var t=nQ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function YY(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),Uc(this),qm(this)}}}catch{}},de.mb=function(){if(this.g){var n=So(this.g),e=this.g.ja();this.C<e.length&&(IE(this),aL(this,n,e),this.i&&4!=n&&$m(this))}},de.cancel=function(){this.J=!0,Uc(this)},de.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Um(),yi(17)),Uc(this),this.o=2,qm(this)):lL(this,this.Y-n)};var uL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof jc){this.h=n.h,TE(this,n.j),this.s=n.s,this.g=n.g,DE(this,n.m),this.l=n.l;var e=n.i,t=new Km;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),dL(this,t),this.o=n.o}else n&&(e=String(n).match(uL))?(this.h=!1,TE(this,e[1]||"",!0),this.s=Gm(e[2]||""),this.g=Gm(e[3]||"",!0),DE(this,e[4]),this.l=Gm(e[5]||"",!0),dL(this,e[6]||"",!0),this.o=Gm(e[7]||"")):(this.h=!1,this.i=new Km(null,this.h))}function ca(n){return new jc(n)}function TE(n,e,t){n.j=t?Gm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function DE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function dL(n,e,t){e instanceof Km?(n.i=e,function EQ(n,e){e&&!n.j&&(ml(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(fL(this,r),mL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Wm(e,yQ)),n.i=new Km(e,n.h))}function un(n,e,t){n.i.set(e,t)}function CE(n){return un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wm(e,hL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wm(e,hL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wm(t,"/"==t.charAt(0)?_Q:gQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wm(t,vQ)),n.join("")};var hL=/[#\/\?@]/g,gQ=/[#\?:]/g,_Q=/[#\?]/g,yQ=/[#\?@]/g,vQ=/#/g;function Km(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ml(n){n.g||(n.g=new Map,n.h=0,n.i&&function pQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fL(n,e){ml(n),e=ph(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function pL(n,e){return ml(n),e=ph(n,e),n.g.has(e)}function mL(n,e,t){fL(n,e),0<t.length&&(n.i=null,n.g.set(ph(n,e),g0(t)),n.h+=t.length)}function ph(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(de=Km.prototype).add=function(n,e){ml(this),this.i=null,n=ph(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},de.forEach=function(n,e){ml(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},de.ta=function(){ml(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},de.Z=function(n){ml(this);let e=[];if("string"==typeof n)pL(this,n)&&(e=e.concat(this.g.get(ph(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},de.set=function(n,e){return ml(this),this.i=null,pL(this,n=ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},de.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var bQ=class{constructor(n,e){this.g=n,this.map=e}};function gL(n){this.l=n||wQ,n=Ye.PerformanceNavigationTiming?0<(n=Ye.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wQ=10;function _L(n){return!!n.h||!!n.g&&n.g.size>=n.j}function yL(n){return n.h?1:n.g?n.g.size:0}function $0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function q0(n,e){n.g?n.g.add(e):n.h=e}function vL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function EL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return g0(n.i)}gL.prototype.cancel=function(){if(this.i=EL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var IQ=class{stringify(n){return Ye.JSON.stringify(n,void 0)}parse(n){return Ye.JSON.parse(n,void 0)}};function TQ(){this.g=new IQ}function DQ(n,e,t){const r=t||"";try{cL(n,function(i,s){let o=i;Nm(i)&&(o=N0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function SE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ym(n){this.l=n.ec||null,this.j=n.ob||!1}function AE(n,e){Er.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=G0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vr(Ym,L0),Ym.prototype.g=function(){return new AE(this.l,this.j)},Ym.prototype.i=function(n){return function(){return n}}({}),vr(AE,Er);var G0=0;function bL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Qm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Xm(n)}function Xm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(de=AE.prototype).open=function(n,e){if(this.readyState!=G0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Xm(this)},de.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qm(this)),this.readyState=G0},de.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Xm(this)),this.g&&(this.readyState=3,Xm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qm(this):Xm(this),3==this.readyState&&bL(this)}},de.Za=function(n){this.g&&(this.response=this.responseText=n,Qm(this))},de.Ya=function(n){this.g&&(this.response=n,Qm(this))},de.ka=function(){this.g&&Qm(this)},de.setRequestHeader=function(n,e){this.v.append(n,e)},de.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(AE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var SQ=Ye.JSON.parse;function Nn(n){Er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wL,this.L=this.M=!1}vr(Nn,Er);var wL="",AQ=/^https?$/i,xQ=["POST","PUT"];function IL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,TL(n),xE(n)}function TL(n){n.F||(n.F=!0,kr(n,"complete"),kr(n,"error"))}function DL(n){if(n.h&&typeof p0<"u"&&(!n.C[1]||4!=So(n)||2!=n.da()))if(n.v&&4==So(n))F0(n.La,0,n);else if(kr(n,"readystatechange"),4==So(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(uL)[1]||null;!i&&Ye.self&&Ye.self.location&&(i=Ye.self.location.protocol.slice(0,-1)),r=!AQ.test(i?i.toLowerCase():"")}t=r}if(t)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var s=2<So(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",TL(n)}}finally{xE(n)}}}function xE(n,e){if(n.g){CL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||kr(n,"ready");try{t.onreadystatechange=r}catch{}}}function CL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ye.clearTimeout(n.A),n.A=null)}function So(n){return n.g?n.g.readyState:0}function SL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case wL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function AL(n){let e="";return T0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function W0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=AL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):un(n,e,t))}function Zm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xL(n){this.Ga=0,this.j=[],this.l=new yE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zm("baseRetryDelayMs",5e3,n),this.hb=Zm("retryDelaySeedMs",1e4,n),this.eb=Zm("forwardChannelMaxRetries",2,n),this.xa=Zm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new gL(n&&n.concurrentRequestLimit),this.Ja=new TQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function K0(n){if(RL(n),3==n.H){var e=n.W++,t=ca(n.I);if(un(t,"SID",n.K),un(t,"RID",e),un(t,"TYPE","terminate"),Jm(n,t),(e=new zm(n,n.l,e)).L=2,e.v=CE(ca(t)),t=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{t=Ye.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ye.Image&&((new Image).src=e.v,t=!0),t||(e.g=BL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$m(e)}LL(n)}function RE(n){n.g&&(Q0(n),n.g.cancel(),n.g=null)}function RL(n){RE(n),n.u&&(Ye.clearTimeout(n.u),n.u=null),PE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ye.clearTimeout(n.m),n.m=null)}function ME(n){if(!_L(n.i)&&!n.m){n.m=!0;var e=n.Na;Lm||GF(),Vm||(Lm(),Vm=!0),k0.add(e,n),n.C=0}}function ML(n,e){var t;t=e?e.m:n.W++;const r=ca(n.I);un(r,"SID",n.K),un(r,"RID",t),un(r,"AID",n.V),Jm(n,r),n.o&&n.s&&W0(r,n.o,n.s),t=new zm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=PL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),q0(n.i,t),H0(t,r,e)}function Jm(n,e){n.na&&T0(n.na,function(t,r){un(e,r,t)}),n.h&&cL({},function(t,r){un(e,r,t)})}function PL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Kr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let u=i[l].g;const h=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{DQ(h,o,"req"+u+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function NL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Lm||GF(),Vm||(Lm(),Vm=!0),k0.add(e,n),n.A=0}}function Y0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=jm(Kr(n.Ma,n),FL(n,n.A)),n.A++,0))}function Q0(n){null!=n.B&&(Ye.clearTimeout(n.B),n.B=null)}function kL(n){n.g=new zm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ca(n.wa);un(e,"RID","rpc"),un(e,"SID",n.K),un(e,"AID",n.V),un(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&un(e,"TO",n.qa),un(e,"TYPE","xmlhttp"),Jm(n,e),n.o&&n.s&&W0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=CE(ca(e)),t.s=null,t.S=!0,sL(t,n)}function PE(n){null!=n.v&&(Ye.clearTimeout(n.v),n.v=null)}function OL(n,e){var t=null;if(n.g==e){PE(n),Q0(n),n.g=null;var r=2}else{if(!$0(n.i,e))return;t=e.F,vL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;kr(r=vE(),new eL(r,t)),ME(n)}else NL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function PQ(n,e){return!(yL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=jm(Kr(n.Na,n,e),FL(n,n.C)),n.C++,0)))}(n,e)||2==r&&Y0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Hc(n,5);break;case 4:Hc(n,10);break;case 3:Hc(n,6);break;default:Hc(n,2)}}function FL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Hc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Kr(n.pb,n);t||(t=new jc("//www.google.com/images/cleardot.gif"),Ye.location&&"http"==Ye.location.protocol||TE(t,"https"),CE(t)),function CQ(n,e){const t=new yE;if(Ye.Image){const r=new Image;r.onload=hE(SE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=hE(SE,t,r,"TestLoadImage: error",!1,e),r.onabort=hE(SE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=hE(SE,t,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.H=0,n.h&&n.h.za(e),LL(n),RL(n)}function LL(n){if(n.H=0,n.ma=[],n.h){const e=EL(n.i);(0!=e.length||0!=n.j.length)&&(PF(n.ma,e),PF(n.ma,n.j),n.i.i.length=0,g0(n.j),n.j.length=0),n.h.ya()}}function VL(n,e,t){var r=t instanceof jc?ca(t):new jc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),DE(r,r.m);else{var i=Ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new jc(null);r&&TE(s,r),e&&(s.g=e),i&&DE(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&un(r,t,e),un(r,"VER",n.ra),Jm(n,r),r}function BL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nn(t&&n.Ha&&!n.va?new Ym({ob:!0}):n.va)).Oa(n.J),e}function UL(){}function NE(){if(hh&&!(10<=Number(qY)))throw Error("Environmental error: no available transport.")}function ns(n,e){Er.call(this),this.g=new xL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!km(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!km(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mh(this)}function jL(n){V0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function HL(){B0.call(this),this.status=1}function mh(n){this.g=n}function no(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function X0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function zt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(de=Nn.prototype).Oa=function(n){this.M=n},de.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():U0.g(),this.C=function nL(n){return n.h||(n.h=n.i())}(this.u?this.u:U0),this.g.onreadystatechange=Kr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void IL(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ye.FormData&&n instanceof Ye.FormData,!(0<=MF(xQ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{CL(this),0<this.B&&((this.L=function RQ(n){return hh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.ua,this)):this.A=F0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){IL(this,s)}},de.ua=function(){typeof p0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},de.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),xE(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xE(this,!0)),Nn.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?DL(this):this.kb())},de.kb=function(){DL(this)},de.isActive=function(){return!!this.g},de.da=function(){try{return 2<So(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),SQ(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=xL.prototype).ra=8,de.H=1,de.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new zm(this,this.l,n);let s=this.s;if(this.U&&(s?(s=LF(s),BF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=PL(this,i,e),un(t=ca(this.I),"RID",n),un(t,"CVER",22),this.F&&un(t,"X-HTTP-Session-Id",this.F),Jm(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(AL(s)))+"&"+e:this.o&&W0(t,this.o,s)),q0(this.i,i),this.bb&&un(t,"TYPE","init"),this.P?(un(t,"$req",e),un(t,"SID","null"),i.aa=!0,H0(i,t,null)):H0(i,t,e),this.H=2}}else 3==this.H&&(n?ML(this,n):0==this.j.length||_L(this.i)||ML(this))},de.Ma=function(){if(this.u=null,kL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=jm(Kr(this.jb,this),n)}},de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),RE(this),kL(this))},de.ib=function(){null!=this.v&&(this.v=null,RE(this),Y0(this),yi(19))},de.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))},de.isActive=function(){return!!this.h&&this.h.isActive(this)},(de=UL.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.isActive=function(){return!0},de.Va=function(){},NE.prototype.g=function(n,e){return new ns(n,e)},vr(ns,Er),ns.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=VL(n,null,n.Y),ME(n)},ns.prototype.close=function(){K0(this.g)},ns.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=N0(n),n=t);e.j.push(new bQ(e.fb++,n)),3==e.H&&ME(e)},ns.prototype.N=function(){this.g.h=null,delete this.j,K0(this.g),delete this.g,ns.$.N.call(this)},vr(jL,V0),vr(HL,B0),vr(mh,UL),mh.prototype.Ba=function(){kr(this.g,"a")},mh.prototype.Aa=function(n){kr(this.g,new jL(n))},mh.prototype.za=function(n){kr(this.g,new HL)},mh.prototype.ya=function(){kr(this.g,"b")},vr(no,function NQ(){this.blockSize=-1}),no.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},no.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)X0(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){X0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){X0(this,r),i=0;break}}this.h=i,this.i+=e},no.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var kQ={};function Z0(n){return-128<=n&&128>n?function HY(n,e){var t=kQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zt([0|e],0>e?-1:0)}):new zt([0|n],0>n?-1:0)}function Ao(n){if(isNaN(n)||!isFinite(n))return gh;if(0>n)return Or(Ao(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=J0;return new zt(e,0)}var J0=4294967296,gh=Z0(0),eC=Z0(1),$L=Z0(16777216);function ua(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ds(n){return-1==n.h}function Or(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new zt(t,~n.h).add(eC)}function kE(n,e){return n.add(Or(e))}function OE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function eg(n,e){this.g=n,this.h=e}function FE(n,e){if(ua(e))throw Error("division by zero");if(ua(n))return new eg(gh,gh);if(Ds(n))return e=FE(Or(n),e),new eg(Or(e.g),Or(e.h));if(Ds(e))return e=FE(n,Or(e)),new eg(Or(e.g),e.h);if(30<n.g.length){if(Ds(n)||Ds(e))throw Error("slowDivide_ only works with positive integers.");for(var t=eC,r=e;0>=r.X(n);)t=qL(t),r=qL(r);var i=_h(t,1),s=_h(r,1);for(r=_h(r,2),t=_h(t,2);!ua(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=_h(r,1),t=_h(t,1)}return e=kE(n,i.R(e)),new eg(i,e)}for(i=gh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ao(t)).R(e);Ds(o)||0<o.X(n);)o=(s=Ao(t-=r)).R(e);ua(s)&&(s=eC),i=i.add(s),n=kE(n,o)}return new eg(i,n)}function qL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new zt(t,n.h)}function _h(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new zt(i,n.h)}(de=zt.prototype).ea=function(){if(Ds(this))return-Or(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:J0+r)*e,e*=J0}return n},de.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ua(this))return"0";if(Ds(this))return"-"+Or(this).toString(n);for(var e=Ao(Math.pow(n,6)),t=this,r="";;){var i=FE(t,e).g,s=((0<(t=kE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ua(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},de.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},de.X=function(n){return Ds(n=kE(this,n))?-1:ua(n)?0:1},de.abs=function(){return Ds(this)?Or(this):this},de.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new zt(t,-2147483648&t[t.length-1]?-1:0)},de.R=function(n){if(ua(this)||ua(n))return gh;if(Ds(this))return Ds(n)?Or(this).R(Or(n)):Or(Or(this).R(n));if(Ds(n))return Or(this.R(Or(n)));if(0>this.X($L)&&0>n.X($L))return Ao(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,OE(t,2*r+2*i),t[2*r+2*i+1]+=s*l,OE(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,OE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,OE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new zt(t,0)},de.gb=function(n){return FE(this,n).h},de.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new zt(t,this.h&n.h)},de.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new zt(t,this.h|n.h)},de.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new zt(t,this.h^n.h)},NE.prototype.createWebChannel=NE.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,EE.NO_ERROR=0,EE.TIMEOUT=8,EE.HTTP_ERROR=6,tL.COMPLETE="complete",rL.EventType=Hm,Hm.OPEN="a",Hm.CLOSE="b",Hm.ERROR="c",Hm.MESSAGE="d",Er.prototype.listen=Er.prototype.O,Nn.prototype.listenOnce=Nn.prototype.P,Nn.prototype.getLastError=Nn.prototype.Sa,Nn.prototype.getLastErrorCode=Nn.prototype.Ia,Nn.prototype.getStatus=Nn.prototype.da,Nn.prototype.getResponseJson=Nn.prototype.Wa,Nn.prototype.getResponseText=Nn.prototype.ja,Nn.prototype.send=Nn.prototype.ha,Nn.prototype.setWithCredentials=Nn.prototype.Oa,no.prototype.digest=no.prototype.l,no.prototype.reset=no.prototype.reset,no.prototype.update=no.prototype.j,zt.prototype.add=zt.prototype.add,zt.prototype.multiply=zt.prototype.R,zt.prototype.modulo=zt.prototype.gb,zt.prototype.compare=zt.prototype.X,zt.prototype.toNumber=zt.prototype.ea,zt.prototype.toString=zt.prototype.toString,zt.prototype.getBits=zt.prototype.D,zt.fromNumber=Ao,zt.fromString=function zL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Or(zL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ao(Math.pow(e,8)),r=gh,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ao(Math.pow(e,s)),r=r.R(s).add(Ao(o))):r=(r=r.R(t)).add(Ao(o))}return r};var OQ=to.createWebChannelTransport=function(){return new NE},FQ=to.getStatEventTarget=function(){return vE()},tC=to.ErrorCode=EE,LQ=to.EventType=tL,VQ=to.Event=Bc,GL=to.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},BQ=to.FetchXmlHttpFactory=Ym,LE=to.WebChannel=rL,UQ=to.XhrIo=Nn,jQ=to.Md5=no,yh=to.Integer=zt;const WL="@firebase/firestore";class br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let vh="10.5.2";const gl=new Do.YJ("@firebase/firestore");function Eh(){return gl.logLevel}function te(n,...e){if(gl.logLevel<=Do.Ge.DEBUG){const t=e.map(nC);gl.debug(`Firestore (${vh}): ${n}`,...t)}}function $n(n,...e){if(gl.logLevel<=Do.Ge.ERROR){const t=e.map(nC);gl.error(`Firestore (${vh}): ${n}`,...t)}}function Bi(n,...e){if(gl.logLevel<=Do.Ge.WARN){const t=e.map(nC);gl.warn(`Firestore (${vh}): ${n}`,...t)}}function nC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _e(n="Unexpected state"){const e=`FIRESTORE (${vh}) INTERNAL ASSERTION FAILED: `+n;throw $n(e),new Error(e)}function Ie(n,e){n||_e()}function ce(n,e){return n}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ht.kx{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class KL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $Q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(br.UNAUTHENTICATED))}shutdown(){}}class qQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GQ{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable((0,E.c)(function*(){yield u.promise,yield s(r.currentUser)}))},l=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie("string"==typeof r.accessToken),new KL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(null===e||"string"==typeof e),new br(e)}}class WQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie("string"==typeof t.token),this.R=t.token,new YL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function QQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class QL{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=QQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function bh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function XL(n){return n+"\0"}class yn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new yn(0,0))}static max(){return new De(new yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tg{constructor(e,t,r){void 0===t?t=0:t>e.length&&_e(),void 0===r?r=e.length-t:r>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===tg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bt extends tg{construct(e,t,r){return new bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const XQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends tg{construct(e,t,r){return new dn(e,t,r)}static isValidIdentifier(e){return XQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new J(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new J(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new J(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}class ue{constructor(e){this.path=e}static fromPath(e){return new ue(bt.fromString(e))}static fromName(e){return new ue(bt.fromString(e).popFirst(5))}static empty(){return new ue(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new bt(e.slice()))}}class wh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function rC(n){return n.fields.find(e=>2===e.kind)}function zc(n){return n.fields.filter(e=>2!==e.kind)}wh.UNKNOWN_ID=-1;class $c{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ih{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ih(0,rs.min())}}function ZL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(1e9===r?new yn(t+1,0):new yn(t,r));return new rs(i,ue.empty(),e)}function JL(n){return new rs(n.readTime,n.key,-1)}class rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rs(De.min(),ue.empty(),-1)}static max(){return new rs(De.max(),ue.empty(),-1)}}function iC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ue.comparator(n.documentKey,e.documentKey),0!==t?t:We(n.largestBatchId,e.largestBatchId))}const eV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _l(n){return sC.apply(this,arguments)}function sC(){return sC=(0,E.c)(function*(n){if(n.code!==L.FAILED_PRECONDITION||n.message!==eV)throw n;te("LocalStore","Unexpectedly lost primary lease")}),sC.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof M?t:M.resolve(t)}catch(t){return M.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):M.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):M.reject(t)}static resolve(e){return new M((t,r)=>{t(e)})}static reject(e){return new M((t,r)=>{r(e)})}static waitFor(e){return new M((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=M.resolve(!1);for(const r of e)t=t.next(i=>i?M.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new M((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class VE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new fr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ng(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=oC(r.target.error);this.V.reject(new ng(e,i))}}static open(e,t,r,i){try{return new VE(t,e.transaction(i,r))}catch(s){throw new ng(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tX(t)}}class ro{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===ro.S((0,ht.Su)())&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),qc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ht.yy)())return!1;if(ro.C())return!0;const e=(0,ht.Su)(),t=ro.S(e),r=0<t&&t<10,i=ro.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,E.c)(function*(){return t.db||(te("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new ng(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new J(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new J(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new ng(e,a))},s.onupgradeneeded=o=>{te("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{te("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,E.c)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const l=VE.open(s.db,e,o?"readonly":"readwrite",r),u=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),M.reject(h))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,h="FirebaseError"!==u.name&&a<3;if(te("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),s.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return qc(this.k.delete())}}class ng extends J{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yl(n){return"IndexedDbTransactionError"===n.name}class tX{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(te("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qc(r)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),qc(this.store.add(e))}get(e){return qc(this.store.get(e)).next(t=>(void 0===t&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),qc(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),qc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new M((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){te("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new M((r,i)=>{t.onerror=s=>{const o=oC(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new eX(a),u=t(a.primaryKey,a.value,l);if(u instanceof M){const h=u.catch(m=>(l.done(),M.reject(m)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>M.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qc(n){return new M((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=oC(r.target.error);t(i)}})}let nV=!1;function oC(n){const e=ro.S((0,ht.Su)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nV||(nV=!0,setTimeout(()=>{throw r},0)),r}}return n}class nX{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;te("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,E.c)(function*(){t.task=null;try{te("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){yl(r)?te("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield _l(r)}yield t.ee(6e4)}))}}class rX{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,E.c)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return M.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return te("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(te("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=JL(s);iC(o,r)>0&&(r=o)}),new rs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let is=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function rg(n){return null==n}function ig(n){return 0===n&&1/n==-1/0}function rV(n){return"number"==typeof n&&Number.isInteger(n)&&!ig(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Qr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iV(e)),e=iX(n.get(t),e);return iV(e)}function iX(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function iV(n){return n+"\x01\x01"}function xo(n){const e=n.length;if(Ie(e>=2),2===e)return Ie("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&_e(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:_e()}s=o+2}return new bt(r)}const sV=["userId","batchId"];function BE(n,e){return[n,Qr(e)]}function oV(n,e,t){return[n,Qr(e),t]}const sX={},oX=["prefixPath","collectionGroup","readTime","documentId"],aX=["prefixPath","collectionGroup","documentId"],lX=["collectionGroup","readTime","prefixPath","documentId"],cX=["canonicalId","targetId"],uX=["targetId","path"],dX=["path","targetId"],hX=["collectionId","parent"],fX=["indexId","uid"],pX=["uid","sequenceNumber"],mX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gX=["indexId","uid","orderedDocumentKey"],_X=["userId","collectionPath","documentId"],yX=["userId","collectionPath","largestBatchId"],vX=["userId","collectionGroup","largestBatchId"],aV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],EX=[...aV,"documentOverlays"],lV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cV=lV,bX=[...cV,"indexConfiguration","indexState","indexEntries"];class aC extends tV{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function wr(n,e){const t=ce(n);return ro.M(t.ae,e)}function uV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rn{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new UE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new UE(this.root,e,this.comparator,!1)}getReverseIterator(){return new UE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new UE(this.root,e,this.comparator,!0)}}class UE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Fr.RED,this.left=i??Fr.EMPTY,this.right=s??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Fr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hV(this.data.getIterator())}getIteratorFrom(e){return new hV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class hV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Th(n){return n.hasNext()?n.getNext():void 0}class Ui{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Ui([])}unionWith(e){let t=new Wt(dn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class fV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fV("Invalid base64 string: "+s):s}}(e);return new pr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const IX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function El(n){if(Ie(!!n),"string"==typeof n){let e=0;const t=IX.exec(n);if(Ie(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(n.seconds),nanos:kn(n.nanos)}}function kn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function da(n){return"string"==typeof n?pr.fromBase64String(n):pr.fromUint8Array(n)}function jE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HE(n){const e=n.mapValue.fields.__previous_value__;return jE(e)?HE(e):e}function sg(n){const e=El(n.mapValue.fields.__local_write_time__.timestampValue);return new yn(e.seconds,e.nanos)}class TX{constructor(e,t,r,i,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}const wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zE={nullValue:"NULL_VALUE"};function Il(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jE(n)?4:_V(n)?9007199254740991:10:_e()}function Ro(n,e){if(n===e)return!0;const t=Il(n);if(t!==Il(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sg(n).isEqual(sg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=El(i.timestampValue),a=El(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,da(n.bytesValue).isEqual(da(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return kn(i.geoPointValue.latitude)===kn(s.geoPointValue.latitude)&&kn(i.geoPointValue.longitude)===kn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kn(i.integerValue)===kn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kn(i.doubleValue),a=kn(s.doubleValue);return o===a?ig(o)===ig(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return bh(n.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uV(o)!==uV(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Ro(o[l],a[l])))return!1;return!0}(n,e);default:return _e()}var s}function og(n,e){return void 0!==(n.values||[]).find(t=>Ro(t,e))}function Tl(n,e){if(n===e)return 0;const t=Il(n),r=Il(e);if(t!==r)return We(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=kn(s.integerValue||s.doubleValue),l=kn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return pV(n.timestampValue,e.timestampValue);case 4:return pV(sg(n),sg(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(s,o){const a=da(s),l=da(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=We(a[u],l[u]);if(0!==h)return h}return We(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=We(kn(s.latitude),kn(o.latitude));return 0!==a?a:We(kn(s.longitude),kn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Tl(a[u],l[u]);if(h)return h}return We(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===wl.mapValue&&o===wl.mapValue)return 0;if(s===wl.mapValue)return 1;if(o===wl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const g=We(l[m],h[m]);if(0!==g)return g;const y=Tl(a[l[m]],u[h[m]]);if(0!==y)return y}return We(l.length,h.length)}(n.mapValue,e.mapValue);default:throw _e()}}function pV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return We(n,e);const t=El(n),r=El(e),i=We(t.seconds,r.seconds);return 0!==i?i:We(t.nanos,r.nanos)}function Dh(n){return lC(n)}function lC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=El(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?da(n.bytesValue).toBase64():"referenceValue"in n?ue.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=lC(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lC(t.fields[o])}`;return i+"}"}(n.mapValue):_e()}function Gc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cC(n){return!!n&&"integerValue"in n}function ag(n){return!!n&&"arrayValue"in n}function mV(n){return!!n&&"nullValue"in n}function gV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qE(n){return!!n&&"mapValue"in n}function lg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _V(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function DX(n){return"nullValue"in n?zE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gc(bl.empty(),ue.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_e()}function CX(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gc(bl.empty(),ue.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wl:_e()}function yV(n,e){const t=Tl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vV(n,e){const t=Tl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lg(t)}setAll(e){let t=dn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=lg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());qE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lr(lg(this.value))}}function EV(n){const e=[];return vl(n.fields,(t,r)=>{const i=new dn([t]);if(qE(r)){const s=EV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ui(e)}class hn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,De.min(),De.min(),De.min(),Lr.empty(),0)}static newFoundDocument(e,t,r,i){return new hn(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new hn(e,2,t,De.min(),De.min(),Lr.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,De.min(),De.min(),Lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dl{constructor(e,t){this.position=e,this.inclusive=t}}function bV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?ue.comparator(ue.fromName(o.referenceValue),t.key):Tl(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function wV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ro(n.position[t],e.position[t]))return!1;return!0}class cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function SX(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class IV{}class _t extends IV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new AX(e,t,r):"array-contains"===t?new MX(e,r):"in"===t?new xV(e,r):"not-in"===t?new PX(e,r):"array-contains-any"===t?new NX(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new xX(e,r):new RX(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tl(t,this.value)):null!==t&&Il(this.value)===Il(t)&&this.matchesComparison(Tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends IV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new $t(e,t)}matches(e){return Ch(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ch(n){return"and"===n.op}function uC(n){return"or"===n.op}function dC(n){return TV(n)&&Ch(n)}function TV(n){for(const e of n.filters)if(e instanceof $t)return!1;return!0}function hC(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+Dh(n.value);if(dC(n))return n.filters.map(e=>hC(e)).join(",");{const e=n.filters.map(t=>hC(t)).join(",");return`${n.op}(${e})`}}function DV(n,e){return n instanceof _t?(r=n,(i=e)instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Ro(r.value,i.value)):n instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&DV(o,i.filters[a]),!0)}(n,e):void _e();var r,i}function CV(n,e){const t=n.filters.concat(e);return $t.create(t,n.op)}function SV(n){return n instanceof _t?`${(t=n).field.canonicalString()} ${t.op} ${Dh(t.value)}`:n instanceof $t?function(t){return t.op.toString()+" {"+t.getFilters().map(SV).join(" ,")+"}"}(n):"Filter";var t}class AX extends _t{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){const t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class xX extends _t{constructor(e,t){super(e,"in",t),this.keys=AV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RX extends _t{constructor(e,t){super(e,"not-in",t),this.keys=AV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}class MX extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&og(t.arrayValue,this.value)}}class xV extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&og(this.value.arrayValue,t)}}class PX extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(og(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!og(this.value.arrayValue,t)}}class NX extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>og(this.value.arrayValue,r))}}class kX{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function fC(n,e=null,t=[],r=[],i=null,s=null,o=null){return new kX(n,e,t,r,i,s,o)}function Wc(n){const e=ce(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),rg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Dh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Dh(r)).join(",")),e.ce=t}return e.ce}function ug(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SX(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wV(n.startAt,e.startAt)&&wV(n.endAt,e.endAt)}function GE(n){return ue.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function WE(n,e){return n.filters.filter(t=>t instanceof _t&&t.field.isEqual(e))}function RV(n,e,t){let r=zE,i=!0;for(const s of WE(n,e)){let o=zE,a=!0;switch(s.op){case"<":case"<=":o=DX(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=zE}yV({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];yV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function MV(n,e,t){let r=wl,i=!0;for(const s of WE(n,e)){let o=wl,a=!0;switch(s.op){case">=":case">":o=CX(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=wl}vV({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];vV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class ha{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function PV(n,e,t,r,i,s,o,a){return new ha(n,e,t,r,i,s,o,a)}function Sh(n){return new ha(n)}function NV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pC(n){return null!==n.collectionGroup}function Ah(n){const e=ce(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(dn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new cg(s,r))}),t.has(dn.keyField().canonicalString())||e.le.push(new cg(dn.keyField(),r))}return e.le}function vi(n){const e=ce(n);return e.he||(e.he=function kV(n,e){if("F"===n.limitType)return fC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new cg(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Dl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Dl(n.startAt.position,n.startAt.inclusive):null;return fC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Ah(n))),e.he}function mC(n,e){const t=n.filters.concat([e]);return new ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function KE(n,e,t){return new ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dg(n,e){return ug(vi(n),vi(e))&&n.limitType===e.limitType}function OV(n){return`${Wc(vi(n))}|lt:${n.limitType}`}function xh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>SV(i)).join(", ")}]`),rg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Dh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Dh(i)).join(",")),`Target(${r})`}(vi(n))}; limitType=${n.limitType})`}function hg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Ah(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const u=bV(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ah(r),i)||r.endAt&&!function(o,a,l){const u=bV(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ah(r),i)));var r,i}function FV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LV(n){return(e,t)=>{let r=!1;for(const i of Ah(n)){const s=OX(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function OX(n,e,t){const r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return null!==l&&null!==u?Tl(l,u):_e()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}class fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dV(this.inner)}size(){return this.innerSize}}const FX=new rn(ue.comparator);function ji(){return FX}const VV=new rn(ue.comparator);function fg(...n){let e=VV;for(const t of n)e=e.insert(t.key,t);return e}function BV(n){let e=VV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mo(){return pg()}function UV(){return pg()}function pg(){return new fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const LX=new rn(ue.comparator),VX=new Wt(ue.comparator);function nt(...n){let e=VX;for(const t of n)e=e.add(t);return e}const BX=new Wt(We);function gC(){return BX}function jV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(e)?"-0":e}}function HV(n){return{integerValue:""+n}}function zV(n,e){return rV(e)?HV(e):jV(n,e)}class YE{constructor(){this._=void 0}}function UX(n,e,t){return n instanceof Rh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jE(s)&&(s=HE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Kc?qV(n,e):n instanceof Yc?GV(n,e):function(i,s){const o=$V(i,s),a=WV(o)+WV(i.Ie);return cC(o)&&cC(i.Ie)?HV(a):jV(i.serializer,a)}(n,e)}function jX(n,e,t){return n instanceof Kc?qV(n,e):n instanceof Yc?GV(n,e):t}function $V(n,e){return n instanceof Mh?cC(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Rh extends YE{}class Kc extends YE{constructor(e){super(),this.elements=e}}function qV(n,e){const t=KV(e);for(const r of n.elements)t.some(i=>Ro(i,r))||t.push(r);return{arrayValue:{values:t}}}class Yc extends YE{constructor(e){super(),this.elements=e}}function GV(n,e){let t=KV(e);for(const r of n.elements)t=t.filter(i=>!Ro(i,r));return{arrayValue:{values:t}}}class Mh extends YE{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function WV(n){return kn(n.integerValue||n.doubleValue)}function KV(n){return ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mg{constructor(e,t){this.field=e,this.transform=t}}class zX{constructor(e,t){this.version=e,this.transformResults=t}}class vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function QE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class XE{}function YV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Nh(n.key,vn.none()):new Ph(n.key,n.data,vn.none());{const t=n.data,r=Lr.empty();let i=new Wt(dn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new pa(n.key,r,new Ui(i.toArray()),vn.none())}}function $X(n,e,t){n instanceof Ph?function(i,s,o){const a=i.value.clone(),l=ZV(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof pa?function(i,s,o){if(!QE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ZV(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(XV(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gg(n,e,t,r){return n instanceof Ph?function(s,o,a,l){if(!QE(s.precondition,o))return a;const u=s.value.clone(),h=JV(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof pa?function(s,o,a,l){if(!QE(s.precondition,o))return a;const u=JV(s.fieldTransforms,l,o),h=o.data;return h.setAll(XV(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,QE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function qX(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=$V(r.transform,i||null);null!=s&&(null===t&&(t=Lr.empty()),t.set(r.field,s))}return t||null}function QV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&bh(r,i,(s,o)=>function HX(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Kc&&i instanceof Kc||r instanceof Yc&&i instanceof Yc?bh(r.elements,i.elements,Ro):r instanceof Mh&&i instanceof Mh?Ro(r.Ie,i.Ie):r instanceof Rh&&i instanceof Rh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Ph extends XE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pa extends XE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ZV(n,e,t){const r=new Map;Ie(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jX(o,a,t[i]))}return r}function JV(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,UX(s,o,e))}return r}class Nh extends XE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _C extends XE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$X(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=UV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=YV(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&bh(this.mutations,e.mutations,(t,r)=>QV(t,r))&&bh(this.baseMutations,e.baseMutations,(t,r)=>QV(t,r))}}class vC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length);let i=function(){return LX}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vC(e,t,r,i)}}class EC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class WX{constructor(e,t){this.count=e,this.unchangedNames=t}}var er,wt;function e2(n){switch(n){default:return _e();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function t2(n){if(void 0===n)return $n("GRPC error has no .code"),L.UNKNOWN;switch(n){case er.OK:return L.OK;case er.CANCELLED:return L.CANCELLED;case er.UNKNOWN:return L.UNKNOWN;case er.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case er.INTERNAL:return L.INTERNAL;case er.UNAVAILABLE:return L.UNAVAILABLE;case er.UNAUTHENTICATED:return L.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case er.NOT_FOUND:return L.NOT_FOUND;case er.ALREADY_EXISTS:return L.ALREADY_EXISTS;case er.PERMISSION_DENIED:return L.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case er.ABORTED:return L.ABORTED;case er.OUT_OF_RANGE:return L.OUT_OF_RANGE;case er.UNIMPLEMENTED:return L.UNIMPLEMENTED;case er.DATA_LOSS:return L.DATA_LOSS;default:return _e()}}(wt=er||(er={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";function n2(){return new TextEncoder}const KX=new yh([4294967295,4294967295],0);function r2(n){const e=n2().encode(n),t=new jQ;return t.update(e),new Uint8Array(t.digest())}function s2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yh([t,r],0),new yh([i,s],0)]}class bC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _g(`Invalid padding: ${t}`);if(r<0)throw new _g(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _g(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new _g(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=yh.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(yh.fromNumber(r)));return 1===i.compare(KX)&&(i=new yh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=r2(e),[r,i]=s2(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bC(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=r2(e),[r,i]=s2(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _g extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,vg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yg(De.min(),i,new rn(We),ji(),nt())}}class vg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vg(r,t,nt(),nt(),nt())}}class JE{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class o2{constructor(e,t){this.targetId=e,this.fe=t}}class a2{constructor(e,t,r=pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class l2{constructor(){this.ge=0,this.pe=u2(),this.ye=pr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=nt(),t=nt(),r=nt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new vg(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=u2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class YX{constructor(e){this.Le=e,this.ke=new Map,this.qe=ji(),this.Qe=c2(),this.Ke=new rn(We)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(GE(s))if(0===r){const o=new ue(s.path);this.We(t,o,hn.newNoDocument(o,De.min()))}else Ie(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=da(r).toUint8Array()}catch(l){if(l instanceof fV)return Bi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bC(o,i,s)}catch(l){return Bi(l instanceof _g?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&GE(a.target)){const l=new ue(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,hn.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=nt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new yg(e,t,this.Ke,this.qe,r);return this.qe=ji(),this.Qe=c2(),this.Ke=new rn(We),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new l2,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Wt(We),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||te("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new l2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function c2(){return new rn(ue.comparator)}function u2(){return new rn(ue.comparator)}const QX={asc:"ASCENDING",desc:"DESCENDING"},XX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZX={and:"AND",or:"OR"};class JX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wC(n,e){return n.useProto3Json||rg(e)?e:{value:e}}function kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eZ(n,e){return kh(n,e.toTimestamp())}function qn(n){return Ie(!!n),De.fromTimestamp(function(t){const r=El(t);return new yn(r.seconds,r.nanos)}(n))}function IC(n,e){return(r=n,new bt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function h2(n){const e=bt.fromString(n);return Ie(b2(e)),e}function Eg(n,e){return IC(n.databaseId,e.path)}function Po(n,e){const t=h2(e);if(t.get(1)!==n.databaseId.projectId)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(p2(t))}function TC(n,e){return IC(n.databaseId,e)}function f2(n){const e=h2(n);return 4===e.length?bt.emptyPath():p2(e)}function bg(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function p2(n){return Ie(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m2(n,e,t){return{name:Eg(n,e),fields:t.value.mapValue.fields}}function g2(n,e,t){const r=Po(n,e.name),i=qn(e.updateTime),s=e.createTime?qn(e.createTime):De.min(),o=new Lr({mapValue:{fields:e.fields}}),a=hn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function wg(n,e){let t;if(e instanceof Ph)t={update:m2(n,e.key,e.value)};else if(e instanceof Nh)t={delete:Eg(n,e.key)};else if(e instanceof pa)t={update:m2(n,e.key,e.data),updateMask:lZ(e.fieldMask)};else{if(!(e instanceof _C))return _e();t={verify:Eg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw _e()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:eZ(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:_e()),t;var s}function DC(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?vn.updateTime(qn(s.updateTime)):void 0!==s.exists?vn.exists(s.exists):vn.none():vn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;"setToServerValue"in a?(Ie("REQUEST_TIME"===a.setToServerValue),l=new Rh):"appendMissingElements"in a?l=new Kc(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Yc(a.removeAllFromArray.values||[]):"increment"in a?l=new Mh(o,a.increment):_e();const u=dn.fromServerFormat(a.fieldPath);return new mg(u,l)}(n,i)):[];var s;if(e.update){const i=Po(n,e.update.name),s=new Lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ui((e.updateMask.fieldPaths||[]).map(h=>dn.fromServerFormat(h)));return new pa(i,s,o,t,r)}return new Ph(i,s,t,r)}if(e.delete){const i=Po(n,e.delete);return new Nh(i,t)}if(e.verify){const i=Po(n,e.verify);return new _C(i,t)}return _e()}function _2(n,e){return{documents:[TC(n,e.path)]}}function CC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=TC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=TC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return E2($t.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:Cl((m=u).field),direction:sZ(m.dir)};var m})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=wC(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function y2(n){let e=f2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ie(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(m){const g=v2(m);return g instanceof $t&&dC(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(g=>{return new cg(Oh((b=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(m){let g;return g="object"==typeof m?m.value:m,rg(g)?null:g}(t.limit));let l=null;var m;t.startAt&&(l=new Dl((m=t.startAt).values||[],!!m.before));let u=null;return t.endAt&&(u=function(m){return new Dl(m.values||[],!m.before)}(t.endAt)),PV(e,i,o,s,a,"F",l,u)}function v2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Oh(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oh(t.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Oh(t.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oh(t.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(n):void 0!==n.fieldFilter?_t.create(Oh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return $t.create(t.compositeFilter.filters.map(r=>v2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(n):_e();var t}function sZ(n){return QX[n]}function oZ(n){return XX[n]}function aZ(n){return ZX[n]}function Cl(n){return{fieldPath:n.canonicalString()}}function Oh(n){return dn.fromServerFormat(n.fieldPath)}function E2(n){return n instanceof _t?function(t){if("=="===t.op){if(gV(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NAN"}};if(mV(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(gV(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NOT_NAN"}};if(mV(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(t.field),op:oZ(t.op),value:t.value}}}(n):n instanceof $t?function(t){const r=t.getFilters().map(i=>E2(i));return 1===r.length?r[0]:{compositeFilter:{op:aZ(t.op),filters:r}}}(n):_e()}function lZ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function b2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ma{constructor(e,t,r,i,s=De.min(),o=De.min(),a=pr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w2{constructor(e){this.ut=e}}function I2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:eb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Eg(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:kh(s,o.version.toTimestamp()),createTime:kh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Qc(e.version)};else{if(!e.isUnknownDocument())return _e();r.unknownDocument={path:t.path.toArray(),version:Qc(e.version)}}var s,o;return r}function eb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xc(n){const e=new yn(n.seconds,n.nanoseconds);return De.fromTimestamp(e)}function Zc(n,e){const t=(e.baseMutations||[]).map(s=>DC(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>DC(n.ut,s)),i=yn.fromMillis(e.localWriteTimeMs);return new yC(e.batchId,i,t,r)}function Ig(n){const e=Xc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xc(n.lastLimboFreeSnapshotVersion):De.min();let r;return r=void 0!==n.query.documents?(Ie(1===(s=n.query).documents.length),vi(Sh(f2(s.documents[0])))):function(s){return vi(y2(s))}(n.query),new ma(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,pr.fromBase64String(n.resumeToken));var s}function T2(n,e){const t=Qc(e.snapshotVersion),r=Qc(e.lastLimboFreeSnapshotVersion);let i;i=GE(e.target)?_2(n.ut,e.target):CC(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SC(n){const e=y2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?KE(e,e.limit,"L"):e}function AC(n,e){return new EC(e.largestBatchId,DC(n.ut,e.overlayMutation))}function D2(n,e){const t=e.path.lastSegment();return[n,Qr(e.path.popLast()),t]}function C2(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qc(r.readTime),documentKey:Qr(r.documentKey.path),largestBatchId:r.largestBatchId}}class uZ{getBundleMetadata(e,t){return S2(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Xc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return S2(e).put({bundleId:(i=t).id,createTime:Qc(qn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return A2(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:SC(s.bundledQuery),readTime:Xc(s.readTime)};var s})}saveNamedQuery(e,t){return A2(e).put({name:(i=t).name,readTime:Qc(qn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function S2(n){return wr(n,"bundles")}function A2(n){return wr(n,"namedQueries")}class tb{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new tb(e,t.uid||"")}getOverlay(e,t){return Tg(e).get(D2(this.userId,t)).next(r=>r?AC(this.serializer,r):null)}getOverlays(e,t){const r=Mo();return M.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new EC(t,o);i.push(this.lt(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Qr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Tg(e).H("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Mo(),s=Qr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Tg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=AC(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Mo();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tg(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const m=AC(this.serializer,u);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):h.done()}).next(()=>s)}lt(e,t){return Tg(e).put(function(i,s,o){const[a,l,u]=D2(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:wg(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function Tg(n){return wr(n,"documentOverlays")}class Jc{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(kn(e.integerValue));else if("doubleValue"in e){const r=kn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),ig(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(da(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?_V(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):_e()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),ue.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function dZ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function x2(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=dZ(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Jc.St=new Jc;class hZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=x2(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=x2(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fZ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class pZ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Dg{constructor(){this.Wt=new hZ,this.Gt=new fZ(this.Wt),this.zt=new pZ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class eu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new eu(this.indexId,this.documentKey,this.arrayValue,r)}}function Sl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=R2(n.arrayValue,e.arrayValue),0!==t?t:(t=R2(n.directionalValue,e.directionalValue),0!==t?t:ue.comparator(n.documentKey,e.documentKey)))}function R2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class M2{constructor(e){this.Jt=new Wt((t,r)=>dn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ie(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=rC(e);if(void 0!==t&&!this.tn(t))return!1;const r=zc(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Wt(dn.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new $c(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new $c(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new $c(r.field,"asc"===r.dir?0:1)));return new wh(wh.UNKNOWN_ID,this.collectionId,t,Ih.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function P2(n){var e,t;if(Ie(n instanceof _t||n instanceof $t),n instanceof _t){if(n instanceof xV){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>_t.create(n.field,"==",s)))||[];return $t.create(i,"or")}return n}const r=n.filters.map(i=>P2(i));return $t.create(r,n.op)}function mZ(n){if(0===n.getFilters().length)return[];const e=MC(P2(n));return Ie(N2(e)),xC(e)||RC(e)?[e]:e.getFilters()}function xC(n){return n instanceof _t}function RC(n){return n instanceof $t&&dC(n)}function N2(n){return xC(n)||RC(n)||function(t){if(t instanceof $t&&uC(t)){for(const r of t.getFilters())if(!xC(r)&&!RC(r))return!1;return!0}return!1}(n)}function MC(n){if(Ie(n instanceof _t||n instanceof $t),n instanceof _t)return n;if(1===n.filters.length)return MC(n.filters[0]);const e=n.filters.map(r=>MC(r));let t=$t.create(e,n.op);return t=nb(t),N2(t)?t:(Ie(t instanceof $t),Ie(Ch(t)),Ie(t.filters.length>1),t.filters.reduce((r,i)=>PC(r,i)))}function PC(n,e){let t;return Ie(n instanceof _t||n instanceof $t),Ie(e instanceof _t||e instanceof $t),t=n instanceof _t?e instanceof _t?$t.create([n,e],"and"):k2(n,e):e instanceof _t?k2(e,n):function(i,s){if(Ie(i.filters.length>0&&s.filters.length>0),Ch(i)&&Ch(s))return CV(i,s.getFilters());const o=uC(i)?i:s,a=uC(i)?s:i,l=o.filters.map(u=>PC(u,a));return $t.create(l,"or")}(n,e),nb(t)}function k2(n,e){if(Ch(e))return CV(e,n.getFilters());{const t=e.filters.map(r=>PC(n,r));return $t.create(t,"or")}}function nb(n){if(Ie(n instanceof _t||n instanceof $t),n instanceof _t)return n;const e=n.getFilters();if(1===e.length)return nb(e[0]);if(TV(n))return n;const t=e.map(i=>nb(i)),r=[];return t.forEach(i=>{i instanceof _t?r.push(i):i instanceof $t&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:$t.create(r,n.op)}class gZ{constructor(){this.on=new NC}addToCollectionParentIndex(e,t){return this.on.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(rs.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}}class NC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wt(bt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(bt.comparator)).toArray()}}const rb=new Uint8Array(0);class _Z{constructor(e,t){this.user=e,this.databaseId=t,this._n=new NC,this.an=new fa(r=>Wc(r),(r,i)=>ug(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:Qr(i)};return O2(e).put(s)}return M.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[XL(t),""],!1,!0);return O2(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(xo(o.parent))}return r})}addFieldIndex(e,t){const r=Cg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=Lh(e);return s.next(a=>{o.put(C2(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Cg(e),i=Lh(e),s=Fh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Cg(e),r=Fh(e),i=Lh(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return M.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new M2(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=Fh(e);let i=!0;const s=new Map;return M.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=nt();const a=[];return M.forEach(s,(l,u)=>{var P;te("IndexedDbIndexManager",`Using index ${P=l,`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`} to execute ${Wc(t)}`);const h=function(P,H){const ne=rC(H);if(void 0===ne)return null;for(const fe of WE(P,ne.fieldPath))switch(fe.op){case"array-contains-any":return fe.value.arrayValue.values||[];case"array-contains":return[fe.value]}return null}(u,l),m=function(P,H){const ne=new Map;for(const fe of zc(H))for(const Qe of WE(P,fe.fieldPath))switch(Qe.op){case"==":case"in":ne.set(fe.fieldPath.canonicalString(),Qe.value);break;case"not-in":case"!=":return ne.set(fe.fieldPath.canonicalString(),Qe.value),Array.from(ne.values())}return null}(u,l),g=function(P,H){const ne=[];let fe=!0;for(const Qe of zc(H)){const Ct=0===Qe.kind?RV(P,Qe.fieldPath,P.startAt):MV(P,Qe.fieldPath,P.startAt);ne.push(Ct.value),fe&&(fe=Ct.inclusive)}return new Dl(ne,fe)}(u,l),y=function(P,H){const ne=[];let fe=!0;for(const Qe of zc(H)){const Ct=0===Qe.kind?MV(P,Qe.fieldPath,P.endAt):RV(P,Qe.fieldPath,P.endAt);ne.push(Ct.value),fe&&(fe=Ct.inclusive)}return new Dl(ne,fe)}(u,l),b=this.ln(l,u,g),w=this.ln(l,u,y),I=this.hn(l,u,m),x=this.Pn(l.indexId,h,b,g.inclusive,w,y.inclusive,I);return M.forEach(x,A=>r.j(A,t.limit).next(P=>{P.forEach(H=>{const ne=ue.fromSegments(H.documentKey);o.has(ne)||(o=o.add(ne),a.push(ne))})}))}).next(()=>a)}return M.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:mZ($t.create(e.filters,"and")).map(r=>fC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const l=(null!=t?t.length:1)*Math.max(r.length,s.length),u=l/(null!=t?t.length:1),h=[];for(let m=0;m<l;++m){const g=t?this.In(t[m/u]):rb,y=this.Tn(e,g,r[m%u],i),b=this.En(e,g,s[m%u],o),w=a.map(I=>this.Tn(e,g,I,!0));h.push(...this.createRange(y,b,w))}return h}Tn(e,t,r,i){const s=new eu(e,ue.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new eu(e,ue.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new M2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return M.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(l){let u=new Wt(dn.comparator),h=!1;for(const m of l.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:u=u.add(g.field));for(const m of l.orderBy)m.field.isKeyField()||(u=u.add(m.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new Dg;for(const i of zc(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Jc.St.ht(s,o)}return r.Ut()}In(e){const t=new Dg;return Jc.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new Dg;return Jc.St.ht(Gc(this.databaseId,t),r.jt(function(s){const o=zc(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new Dg);let s=0;for(const o of zc(e)){const a=r[s++];for(const l of i)if(this.Rn(t,o.fieldPath)&&ag(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);Jc.St.ht(a,u)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Dg;l.seed(a.Ut()),Jc.St.ht(o,l.jt(t.kind)),s.push(l)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof _t&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Cg(e),i=Lh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,m){const g=m?new Ih(m.sequenceNumber,new rs(Xc(m.readTime),new ue(xo(m.documentKey)),m.largestBatchId)):Ih.empty(),y=h.fields.map(([b,w])=>new $c(dn.fromServerFormat(b),w));return new wh(h.indexId,h.collectionGroup,y,g)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:We(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Cg(e),s=Lh(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>M.forEach(a,l=>s.put(C2(l.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return M.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,l=>this.gn(e,i,l).next(u=>{const h=this.pn(s,l);return u.isEqual(h)?M.resolve():this.yn(e,s,l,u,h)}))))})}wn(e,t,r,i){return Fh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return Fh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=Fh(e);let s=new Wt(Sl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new eu(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Wt(Sl);const i=this.dn(t,e);if(null==i)return r;const s=rC(t);if(null!=s){const o=e.data.field(s.fieldPath);if(ag(o))for(const a of o.arrayValue.values||[])r=r.add(new eu(t.indexId,e.key,this.In(a),i))}else r=r.add(new eu(t.indexId,e.key,rb,i));return r}yn(e,t,r,i,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(l,u,h,m,g){const y=l.getIterator(),b=u.getIterator();let w=Th(y),I=Th(b);for(;w||I;){let x=!1,A=!1;if(w&&I){const P=h(w,I);P<0?A=!0:P>0&&(x=!0)}else null!=w?A=!0:x=!0;x?(m(I),I=Th(b)):A?(g(w),w=Th(y)):(w=Th(y),I=Th(b))}}(i,s,Sl,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),M.waitFor(o)}fn(e){let t=1;return Lh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Sl(o,a)).filter((o,a,l)=>!a||0!==Sl(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=Sl(o,e),l=Sl(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,rb,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,rb,[]]))}return s}bn(e,t){return Sl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(F2)}getMinOffset(e,t){return M.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||_e())).next(F2)}}function O2(n){return wr(n,"collectionParents")}function Fh(n){return wr(n,"indexEntries")}function Cg(n){return wr(n,"indexConfiguration")}function Lh(n){return wr(n,"indexState")}function F2(n){Ie(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;iC(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new rs(e.readTime,e.documentKey,t)}const L2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function V2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.Y({range:o},(h,m,g)=>(a++,g.delete()));s.push(l.next(()=>{Ie(1===a)}));const u=[];for(const h of t.mutations){const m=oV(e,h.key.path,t.batchId);s.push(i.delete(m)),u.push(h.key)}return M.waitFor(s).next(()=>u)}function ib(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _e();e=n.noDocument}return JSON.stringify(e).length}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(41943040,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class sb{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){Ie(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new sb(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Vh(e),o=Al(e);return o.add({}).next(a=>{Ie("number"==typeof a);const l=new yC(a,t,r,i),u=function(y,b,w){const I=w.baseMutations.map(A=>wg(y.ut,A)),x=w.mutations.map(A=>wg(y.ut,A));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:I,mutations:x}}(this.serializer,this.userId,l),h=[];let m=new Wt((g,y)=>We(g.canonicalString(),y.canonicalString()));for(const g of i){const y=oV(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),h.push(o.put(u)),h.push(s.put(y,sX))}return m.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),M.waitFor(h).next(()=>l)})}lookupMutationBatch(e,t){return Al(e).get(t).next(r=>r?(Ie(r.userId===this.userId),Zc(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?M.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Al(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Ie(a.batchId>=r),s=Zc(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Al(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Al(e).W("userMutationsIndex",t).next(r=>r.map(i=>Zc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=BE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Vh(e).Y({range:i},(o,a,l)=>{const[u,h,m]=o,g=xo(h);if(u===this.userId&&t.path.isEqual(g))return Al(e).get(m).next(y=>{if(!y)throw _e();Ie(y.userId===this.userId),s.push(Zc(this.serializer,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(We);const i=[];return t.forEach(s=>{const o=BE(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vh(e).Y({range:a},(u,h,m)=>{const[g,y,b]=u,w=xo(y);g===this.userId&&s.path.isEqual(w)?r=r.add(b):m.done()});i.push(l)}),M.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=BE(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Wt(We);return Vh(e).Y({range:o},(l,u,h)=>{const[m,g,y]=l,b=xo(g);m===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Al(e).get(s).next(o=>{if(null===o)throw _e();Ie(o.userId===this.userId),r.push(Zc(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return V2(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return M.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Vh(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=xo(s[1]);i.push(l)}else a.done()}).next(()=>{Ie(0===i.length)})})}containsKey(e,t){return B2(e,this.userId,t)}Mn(e){return U2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function B2(n,e,t){const r=BE(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vh(n).Y({range:s,J:!0},(a,l,u)=>{const[h,m,g]=a;h===e&&m===i&&(o=!0),u.done()}).next(()=>o)}function Al(n){return wr(n,"mutations")}function Vh(n){return wr(n,"documentMutations")}function U2(n){return wr(n,"mutationQueues")}class tu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new tu(0)}static Nn(){return new tu(-1)}}class yZ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new tu(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>De.fromTimestamp(new yn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Ie(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Bh(e).Y((o,a)=>{const l=Ig(a);l.sequenceNumber<=t&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Bh(e).Y((r,i)=>{const s=Ig(i);t(s)})}Bn(e){return j2(e).get("targetGlobalKey").next(t=>(Ie(null!==t),t))}Ln(e,t){return j2(e).put("targetGlobalKey",t)}kn(e,t){return Bh(e).put(T2(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Wc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Bh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Ig(a);ug(t,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=xl(e);return t.forEach(o=>{const a=Qr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,t,r){const i=xl(e);return M.forEach(t,s=>{const o=Qr(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=xl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=xl(e);let s=nt();return i.Y({range:r,J:!0},(o,a,l)=>{const u=xo(o[1]),h=new ue(u);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=Qr(t.path),i=IDBKeyRange.bound([r],[XL(r)],!1,!0);let s=0;return xl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{0!==o&&(s++,u.done())}).next(()=>s>0)}_t(e,t){return Bh(e).get(t).next(r=>r?Ig(r):null)}}function Bh(n){return wr(n,"targets")}function j2(n){return wr(n,"targetGlobal")}function xl(n){return wr(n,"targetDocuments")}function H2([n,e],[t,r]){const i=We(n,t);return 0===i?We(e,r):i}class vZ{constructor(e){this.Qn=e,this.buffer=new Wt(H2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();H2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class z2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,E.c)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){yl(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield _l(r)}yield t.Gn(3e5)}))}}class EZ{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return M.resolve(is._e);const r=new vZ(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(L2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),Eh()<=Do.Ge.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(u-l)+`ms\nTotal Duration: ${u-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}class bZ{constructor(e,t){this.db=e,this.garbageCollector=function $2(n,e){return new EZ(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return ob(e,r)}removeReference(e,t,r){return ob(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ob(e,t)}Xn(e,t){return function(i,s){let o=!1;return U2(i).Z(a=>B2(i,a,s).next(l=>(l&&(o=!0),M.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,De.min()),xl(e).delete([0,Qr(o.path)])))});i.push(l)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ob(e,t)}Zn(e,t){const r=xl(e);let i,s=is._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{0===o?(s!==is._e&&t(new ue(xo(i)),s),s=u,i=l):s=is._e}).next(()=>{s!==is._e&&t(new ue(xo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ob(n,e){return xl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Qr(e.path),sequenceNumber:i}));var i}class q2{constructor(){this.changes=new fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wZ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return nu(e).put(r)}removeEntry(e,t,r){return nu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],eb(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=hn.newInvalidDocument(t);return nu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:hn.newInvalidDocument(t)};return nu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(i,s)=>{r={document:this.tr(t,s),size:ib(s)}}).next(()=>r)}getEntries(e,t){let r=ji();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=ji(),i=new rn(ue.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,ib(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return M.resolve();let i=new Wt(Y2);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Sg(i.first()),Sg(i.last())),o=i.getIterator();let a=o.getNext();return nu(e).Y({index:"documentKeyIndex",range:s},(l,u,h)=>{const m=ue.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Y2(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?h.U(Sg(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),eb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nu(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let h=ji();for(const m of u){const g=this.tr(ue.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(hg(t,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=ji();const o=K2(t,r),a=K2(t,rs.max());return nu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,h)=>{const m=this.tr(ue.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(m.key,m),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new IZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return W2(e).get("remoteDocumentGlobalKey").next(t=>(Ie(!!t),t))}er(e,t){return W2(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function cZ(n,e){let t;if(e.document)t=g2(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ue.fromSegments(e.noDocument.path),i=Xc(e.noDocument.readTime);t=hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e();{const r=ue.fromSegments(e.unknownDocument.path),i=Xc(e.unknownDocument.version);t=hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new yn(i[0],i[1]);return De.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(De.min()))return r}return hn.newInvalidDocument(e)}}function G2(n){return new wZ(n)}class IZ extends q2{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new fa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wt((s,o)=>We(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=I2(this._r.serializer,o);i=i.add(s.path.popLast());const u=ib(l);r+=u-a.size,t.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=I2(this._r.serializer,o.convertToNoDocument(De.min()));t.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),M.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function W2(n){return wr(n,"remoteDocumentGlobal")}function nu(n){return wr(n,"remoteDocumentsV14")}function Sg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function K2(n,e){const t=e.documentKey.path.toArray();return[n,eb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Y2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=We(t[s],r[s]),i)return i;return i=We(t.length,r.length),i||(i=We(t[t.length-2],r[r.length-2]),i||We(t[t.length-1],r[r.length-1]))}class TZ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Q2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&gg(r.mutation,i,Ui.empty(),yn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nt()){const i=Mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=fg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=ji();const o=pg(),a=pg();return t.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(void 0===h||h.mutation instanceof pa)?s=s.insert(u.key,u):void 0!==h?(o.set(u.key,h.mutation.getFieldMask()),gg(h.mutation,u,h.mutation.getFieldMask(),yn.now())):o.set(u.key,Ui.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var m;return a.set(u,new TZ(h,null!==(m=o.get(u))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=pg();let i=new rn((o,a)=>o-a),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(null===u)return;let h=r.get(l)||Ui.empty();h=a.applyToLocalView(u,h),r.set(l,h);const m=(i.get(a.batchId)||nt()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,m=UV();h.forEach(g=>{if(!s.has(g)){const y=YV(t.get(g),r.get(g));null!==y&&m.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return ue.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):M.resolve(Mo());let a=-1,l=s;return o.next(u=>M.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,nt())).next(h=>({batchId:a,changes:BV(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=fg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=fg();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,l=>{const u=(m=t,g=l.child(s),new ha(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,g;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();null===o.get(h)&&(o=o.insert(h,hn.newInvalidDocument(h)))});let a=fg();return o.forEach((l,u)=>{const h=s.get(l);void 0!==h&&gg(h.mutation,u,Ui.empty(),yn.now()),hg(t,u)&&(a=a.insert(l,u))}),a})}}class DZ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return M.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:qn(i.createTime)}),M.resolve();var i}getNamedQuery(e,t){return M.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:SC(i.bundledQuery),readTime:qn(i.readTime)}),M.resolve();var i}}class CZ{constructor(){this.overlays=new rn(ue.comparator),this.lr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mo();return M.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),M.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){const i=Mo(),s=t.length+1,o=new ue(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new rn((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=s.get(u.largestBatchId);null===h&&(h=Mo(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Mo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return M.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EC(t,r));let s=this.lr.get(t);void 0===s&&(s=nt(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class kC{constructor(){this.hr=new Wt(Ir.Pr),this.Ir=new Wt(Ir.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Ir(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Ir(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new ue(new bt([])),r=new Ir(t,e),i=new Ir(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ue(new bt([])),r=new Ir(t,e),i=new Ir(t,e+1);let s=nt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ir(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ir{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ue.comparator(e.key,t.key)||We(e.gr,t.gr)}static Tr(e,t){return We(e.gr,t.gr)||ue.comparator(e.key,t.key)}}class SZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Wt(Ir.Pr)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new yC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ir(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,t){return M.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ir(t,0),i=new Ir(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(We);return t.forEach(i=>{const s=new Ir(i,0),o=new Ir(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new Ir(new ue(s),0);let a=new Wt(We);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),M.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ie(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return M.forEach(t.mutations,i=>{const s=new Ir(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Ir(t,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class AZ{constructor(e){this.Cr=e,this.docs=new rn(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=ji();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ji();const o=t.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||iC(JL(h),r)<=0||(i.has(h.key)||hg(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,t,r,i){_e()}vr(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xZ(this)}getSize(e){return M.resolve(this.size)}}class xZ extends q2{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class RZ{constructor(e){this.persistence=e,this.Fr=new fa(t=>Wc(t),ug),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Mr=0,this.Or=new kC,this.targetCount=0,this.Nr=tu.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),M.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new tu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.kn(t),M.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),M.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.Or.containsKey(t))}}class OC{constructor(e,t){this.Br={},this.overlays={},this.Lr=new is(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new RZ(this),this.indexManager=new gZ,this.remoteDocumentCache=new AZ(r=>this.referenceDelegate.Qr(r)),this.serializer=new w2(t),this.Kr=new DZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CZ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new SZ(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);const i=new MZ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class MZ extends tV{constructor(e){super(),this.currentSequenceNumber=e}}class ab{constructor(e){this.persistence=e,this.Gr=new kC,this.zr=null}static jr(e){return new ab(e)}get Hr(){if(this.zr)return this.zr;throw _e()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),M.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=ue.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,De.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return M.or([()=>M.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class PZ{constructor(e){this.serializer=e}N(e,t,r,i){const s=new VE("createOrUpgrade",t);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sV,{unique:!0}),l.createObjectStore("documentMutations"),X2(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),X2(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sV,{unique:!0});const m=u.store("mutations"),g=h.map(y=>m.put(y));return M.waitFor(g)})}(e,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:_X});u.createIndex("collectionPathOverlayIndex",yX,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",vX,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:oX});u.createIndex("documentKeyIndex",aX),u.createIndex("collectionGroupIndex",lX)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:fX}).createIndex("sequenceNumberIndex",pX,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:mX}).createIndex("documentKeyIndex",gX,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=ib(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>M.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>M.forEach(a,l=>{Ie(l.userId===s.userId);const u=Zc(this.serializer,l);return V2(e,s.userId,u).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new bt(o),u=[0,Qr(l)];s.push(t.get(u).next(h=>h?M.resolve():t.put({targetId:0,path:Qr(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>M.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:hX});const r=t.store("collectionParents"),i=new NC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Qr(l)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new bt(o);return s(l.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const h=xo(a);return s(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=Ig(i),o=T2(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(m=o,m.document?new ue(bt.fromString(m.document.name).popFirst(5)):m.noDocument?ue.fromSegments(m.noDocument.path):m.unknownDocument?ue.fromSegments(m.unknownDocument.path):_e()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;i.push(a.put(u))}).next(()=>M.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=G2(this.serializer),s=new OC(ab.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let h=null!==(u=a.get(l.userId))&&void 0!==u?u:nt();Zc(this.serializer,l).keys().forEach(m=>h=h.add(m)),a.set(l.userId,h)}),M.forEach(a,(l,u)=>{const h=new br(u),m=tb.ct(this.serializer,h),g=s.getIndexManager(h),y=sb.ct(h,this.serializer,g,s.referenceDelegate);return new Q2(i,y,m,g).recalculateAndSaveOverlaysForDocumentKeys(new aC(t,is._e),l).next()})})}}function X2(n){n.createObjectStore("targetDocuments",{keyPath:uX}).createIndex("documentTargetsIndex",dX,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cX,{unique:!0}),n.createObjectStore("targetGlobal")}const FC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class LC{constructor(e,t,r,i,s,o,a,l,u,h,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=h,this.ai=m,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!LC.D())throw new J(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bZ(this,i),this.Ii=t+"main",this.serializer=new w2(l),this.Ti=new ro(this.Ii,this.ai,new PZ(this.serializer)),this.qr=new yZ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=G2(this.serializer),this.Kr=new uZ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&$n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(L.FAILED_PRECONDITION,FC);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new is(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,E.c)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,E.c)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,E.c)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(yl(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Ag(e).get("owner").next(t=>M.resolve(this.wi(t)))}Si(e){return cb(e).delete(this.clientId)}bi(){var e=this;return(0,E.c)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=wr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return M.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?M.resolve(!0):Ag(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new J(L.FAILED_PRECONDITION,FC);return!1}}return!(!this.networkEnabled||!this.inForeground)||cb(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,E.c)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new aC(t,is._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>cb(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return sb.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _Z(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return tb.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){te("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(l=this.ai)?bX:14===l?cV:13===l?lV:12===l?EX:11===l?aV:void _e();var l;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new aC(a,this.Lr?this.Lr.next():is._e),"readwrite-primary"===t?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new J(L.FAILED_PRECONDITION,eV);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Ag(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new J(L.FAILED_PRECONDITION,FC)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ag(e).put("owner",t)}static D(){return ro.D()}pi(e){const t=Ag(e);return t.get("owner").next(r=>this.wi(r)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):M.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&($n(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,ht.qk)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return te("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $n("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ag(n){return wr(n,"owner")}function cb(n){return wr(n,"clientMetadata")}function VC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class BC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=nt(),i=nt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new BC(e,t.fromCache,r,i)}}class NZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Z2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new NZ;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Eh()<=Do.Ge.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",xh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(Eh()<=Do.Ge.DEBUG&&te("QueryEngine","Query:",xh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Eh()<=Do.Ge.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",xh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):M.resolve())}zi(e,t){if(NV(t))return M.resolve(null);let r=vi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=KE(t,null,"F"),r=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=nt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(t,a);return this.Zi(t,u,o,l.readTime)?this.zi(e,KE(t,null,"F")):this.Xi(e,u,t,l)}))})))}ji(e,t,r,i){return NV(t)||i.isEqual(De.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?M.resolve(null):(Eh()<=Do.Ge.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xh(t)),this.Xi(e,o,t,ZL(i,-1)).next(a=>a))})}Yi(e,t){let r=new Wt(LV(e));return t.forEach((i,s)=>{hg(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Eh()<=Do.Ge.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",xh(t)),this.Gi.getDocumentsMatchingQuery(e,t,rs.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class kZ{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new rn(We),this.ns=new fa(s=>Wc(s),ug),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function J2(n,e,t,r){return new kZ(n,e,t,r)}function eB(n,e){return UC.apply(this,arguments)}function UC(){return UC=(0,E.c)(function*(n,e){const t=ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=nt();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}),UC.apply(this,arguments)}function tB(n){const e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function nB(n,e,t){let r=nt(),i=nt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ji();return t.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function LZ(n,e){const t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Uh(n,e){const t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new ma(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function jh(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,E.c)(function*(n,e,t){const r=ce(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!yl(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),jC.apply(this,arguments)}function ub(n,e,t){const r=ce(n);let i=De.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const m=ce(l),g=m.ns.get(h);return void 0!==g?M.resolve(m.ts.get(g)):m.qr.getTargetData(u,h)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:De.min(),t?s:nt())).next(a=>(sB(r,FV(e),a),{documents:a,ls:s})))}function rB(n,e){const t=ce(n),r=ce(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function iB(n,e){const t=ce(n),r=t.rs.get(e)||De.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,ZL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(sB(t,e,i),i))}function sB(n,e,t){let r=n.rs.get(e)||De.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function HC(){return HC=(0,E.c)(function*(n,e,t,r){const i=ce(n);let s=nt(),o=ji();for(const u of t){const h=e.hs(u.metadata.name);u.document&&(s=s.add(h));const m=e.Ps(u);m.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(h,m)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=yield Uh(i,(h=r,vi(Sh(bt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>nB(u,a,o).next(h=>(a.apply(u),h)).next(h=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.us,h.cs)).next(()=>h.us)))}),HC.apply(this,arguments)}function BZ(n,e){return zC.apply(this,arguments)}function zC(){return zC=(0,E.c)(function*(n,e,t=nt()){const r=yield Uh(n,vi(SC(e.bundledQuery))),i=ce(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=qn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(pr.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),zC.apply(this,arguments)}function oB(n,e){return`firestore_clients_${n}_${e}`}function aB(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function $C(n,e){return`firestore_targets_${n}_${e}`}class db{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new J(i.error.code,i.error.message))),o?new db(e,t,i.state,s):($n("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new J(r.error.code,r.error.message))),s?new xg(e,r.state,i):($n("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=gC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=rV(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new hb(e,s):($n("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class qC{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new qC(t.clientId,t.onlineState):($n("SharedClientState",`Failed to parse online state: ${e}`),null)}}class GC{constructor(){this.activeTargetIds=gC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WC{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new rn(We),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=oB(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new GC),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,E.c)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(oB(e.persistenceKey,i));if(s){const o=hb.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem($C(this.persistenceKey,e));if(r){const i=xg.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($C(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return te("SharedClientState","READ",e,t),t}setItem(e,t){te("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){te("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(te("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void $n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,E.c)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=is._e;if(null!=o)try{const l=JSON.parse(o);Ie("number"==typeof l),a=l}catch(l){$n("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==is._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new db(this.currentUser,e,t,r),s=aB(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=aB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=$C(this.persistenceKey,e),s=new xg(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return hb.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return db.Ts(new br(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return xg.Ts(i,t)}Ms(e){return qC.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,E.c)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);te("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=gC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class lB{constructor(){this.eo=new GC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new GC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UZ{ro(e){}shutdown(){}}class cB{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fb=null;function KC(){return null===fb?fb=268435456+Math.round(2147483648*Math.random()):fb++,"0x"+fb.toString(16)}const jZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HZ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Zr="WebChannelConnection";class zZ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=KC(),l=this.So(t,r);te("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(t,l,u,i).then(h=>(te("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Bi("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+vh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${jZ[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=KC();return new Promise((o,a)=>{const l=new UQ;l.setWithCredentials(!0),l.listenOnce(LQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tC.NO_ERROR:const h=l.getResponseJson();te(Zr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case tC.TIMEOUT:te(Zr,`RPC '${e}' ${s} timed out`),a(new J(L.DEADLINE_EXCEEDED,"Request time out"));break;case tC.HTTP_ERROR:const m=l.getStatus();if(te(Zr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const b=function(I){const x=I.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(x)>=0?x:L.UNKNOWN}(y.status);a(new J(b,y.message))}else a(new J(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(L.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{te(Zr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);te(Zr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",u,r,15)})}vo(e,t,r){const i=KC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OQ(),a=FQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new BQ({})),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=s.join("");te(Zr,`Creating RPC '${e}' stream ${i}: ${h}`,l);const m=o.createWebChannel(h,l);let g=!1,y=!1;const b=new HZ({co:I=>{y?te(Zr,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(g||(te(Zr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),te(Zr,`RPC '${e}' stream ${i} sending:`,I),m.send(I))},lo:()=>m.close()}),w=(I,x,A)=>{I.listen(x,P=>{try{A(P)}catch(H){setTimeout(()=>{throw H},0)}})};return w(m,LE.EventType.OPEN,()=>{y||te(Zr,`RPC '${e}' stream ${i} transport opened.`)}),w(m,LE.EventType.CLOSE,()=>{y||(y=!0,te(Zr,`RPC '${e}' stream ${i} transport closed`),b.Ro())}),w(m,LE.EventType.ERROR,I=>{y||(y=!0,Bi(Zr,`RPC '${e}' stream ${i} transport errored:`,I),b.Ro(new J(L.UNAVAILABLE,"The operation could not be completed")))}),w(m,LE.EventType.MESSAGE,I=>{var x;if(!y){const A=I.data[0];Ie(!!A);const H=A.error||(null===(x=A[0])||void 0===x?void 0:x.error);if(H){te(Zr,`RPC '${e}' stream ${i} received error:`,H);const ne=H.status;let fe=function(Ci){const Da=er[Ci];if(void 0!==Da)return t2(Da)}(ne),Qe=H.message;void 0===fe&&(fe=L.INTERNAL,Qe="Unknown error status: "+ne+" with message "+H.message),y=!0,b.Ro(new J(fe,Qe)),m.close()}else te(Zr,`RPC '${e}' stream ${i} received:`,A),b.Vo(A)}}),w(a,VQ.STAT_EVENT,I=>{I.stat===GL.PROXY?te(Zr,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===GL.NOPROXY&&te(Zr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function uB(){return typeof window<"u"?window:null}function pb(){return typeof document<"u"?document:null}function Rg(n){return new JX(n,!0)}class YC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class dB{constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new YC(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,E.c)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,E.c)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,E.c)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===L.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===L.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new J(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,E.c)(function*(){e.state=0,e.start()}))}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $Z extends dB{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function nZ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:_e(),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Ie(void 0===h||"string"==typeof h),pr.fromBase64String(h||"")):(Ie(void 0===h||h instanceof Uint8Array),pr.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=void 0===u.code?L.UNKNOWN:t2(u.code);return new J(h,u.message||"")}(o);t=new a2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Po(n,r.document.name),s=qn(r.document.updateTime),o=r.document.createTime?qn(r.document.createTime):De.min(),a=new Lr({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(i,s,o,a);t=new JE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Po(n,r.document),s=r.readTime?qn(r.readTime):De.min(),o=hn.newNoDocument(i,s);t=new JE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Po(n,r.document);t=new JE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _e();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new WX(i,s);t=new o2(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?qn(o.readTime):De.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=bg(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=GE(l)?{documents:_2(s,l)}:{query:CC(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=d2(s,o.resumeToken);const u=wC(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=kh(s,o.snapshotVersion.toTimestamp());const u=wC(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function iZ(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=bg(this.serializer),t.removeTarget=e,this.e_(t)}}class qZ extends dB{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function rZ(n,e){return n&&n.length>0?(Ie(void 0!==e),n.map(t=>function(i,s){let o=qn(i.updateTime?i.updateTime:s);return o.isEqual(De.min())&&(o=qn(s)),new zX(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.I_(r,t)}return Ie(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=bg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wg(this.serializer,r))};this.e_(t)}}class GZ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(L.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(L.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class KZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?($n(t),this.f_=!1):te("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class YZ{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,E.c)(function*(){var l;Rl(o)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,E.c)(function*(h){const m=ce(h);m.C_.add(4),yield Hh(m),m.M_.set("Unknown"),m.C_.delete(4),yield Mg(m)}),function u(h){return l.apply(this,arguments)})(o))}))}),this.M_=new KZ(r,i)}}function Mg(n){return XC.apply(this,arguments)}function XC(){return XC=(0,E.c)(function*(n){if(Rl(n))for(const e of n.v_)yield e(!0)}),XC.apply(this,arguments)}function Hh(n){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,E.c)(function*(n){for(const e of n.v_)yield e(!1)}),ZC.apply(this,arguments)}function mb(n,e){const t=ce(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),tS(t)?eS(t):$h(t).Ho()&&JC(t,e))}function Pg(n,e){const t=ce(n),r=$h(t);t.D_.delete(e),r.Ho()&&hB(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Rl(t)&&t.M_.set("Unknown"))}function JC(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$h(n).u_(e)}function hB(n,e){n.x_.Oe(e),$h(n).c_(e)}function eS(n){n.x_=new YX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),$h(n).start(),n.M_.g_()}function tS(n){return Rl(n)&&!$h(n).jo()&&n.D_.size>0}function Rl(n){return 0===ce(n).C_.size}function fB(n){n.x_=void 0}function QZ(n){return nS.apply(this,arguments)}function nS(){return nS=(0,E.c)(function*(n){n.D_.forEach((e,t)=>{JC(n,e)})}),nS.apply(this,arguments)}function XZ(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,E.c)(function*(n,e){fB(n),tS(n)?(n.M_.w_(e),eS(n)):n.M_.set("Unknown")}),rS.apply(this,arguments)}function ZZ(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,E.c)(function*(n,e,t){if(n.M_.set("Online"),e instanceof a2&&2===e.state&&e.cause)try{yield(r=(0,E.c)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gb(n,r)}else if(e instanceof JE?n.x_.$e(e):e instanceof o2?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(De.min()))try{const r=yield tB(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.D_.get(u);h&&s.D_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.D_.get(l);if(!h)return;s.D_.set(l,h.withResumeToken(pr.EMPTY_BYTE_STRING,h.snapshotVersion)),hB(s,l);const m=new ma(h.target,l,u,h.sequenceNumber);JC(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield gb(n,r)}var r}),iS.apply(this,arguments)}function gb(n,e,t){return sS.apply(this,arguments)}function sS(){return sS=(0,E.c)(function*(n,e,t){if(!yl(e))throw e;n.C_.add(1),yield Hh(n),n.M_.set("Offline"),t||(t=()=>tB(n.localStore)),n.asyncQueue.enqueueRetryable((0,E.c)(function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Mg(n)}))}),sS.apply(this,arguments)}function pB(n,e){return e().catch(t=>gb(n,t,e))}function zh(n){return oS.apply(this,arguments)}function oS(){return oS=(0,E.c)(function*(n){const e=ce(n),t=Ml(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;JZ(e);)try{const i=yield LZ(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,eJ(e,i)}catch(i){yield gb(e,i)}mB(e)&&gB(e)}),oS.apply(this,arguments)}function JZ(n){return Rl(n)&&n.b_.length<10}function eJ(n,e){n.b_.push(e);const t=Ml(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function mB(n){return Rl(n)&&!Ml(n).jo()&&n.b_.length>0}function gB(n){Ml(n).start()}function tJ(n){return aS.apply(this,arguments)}function aS(){return aS=(0,E.c)(function*(n){Ml(n).E_()}),aS.apply(this,arguments)}function nJ(n){return lS.apply(this,arguments)}function lS(){return lS=(0,E.c)(function*(n){const e=Ml(n);for(const t of n.b_)e.P_(t.mutations)}),lS.apply(this,arguments)}function rJ(n,e,t){return cS.apply(this,arguments)}function cS(){return cS=(0,E.c)(function*(n,e,t){const r=n.b_.shift(),i=vC.from(r,e,t);yield pB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zh(n)}),cS.apply(this,arguments)}function iJ(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,E.c)(function*(n,e){var t;e&&Ml(n).h_&&(yield(t=(0,E.c)(function*(i,s){if(e2(a=s.code)&&a!==L.ABORTED){const o=i.b_.shift();Ml(i).Yo(),yield pB(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield zh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),mB(n)&&gB(n)}),uS.apply(this,arguments)}function _B(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,E.c)(function*(n,e){const t=ce(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Rl(t);t.C_.add(3),yield Hh(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Mg(t)}),dS.apply(this,arguments)}function hS(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,E.c)(function*(n,e){const t=ce(n);e?(t.C_.delete(2),yield Mg(t)):e||(t.C_.add(2),yield Hh(t),t.M_.set("Unknown"))}),fS.apply(this,arguments)}function $h(n){return n.O_||(n.O_=function(t,r,i){const s=ce(t);return s.A_(),new $Z(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:QZ.bind(null,n),Io:XZ.bind(null,n),a_:ZZ.bind(null,n)}),n.v_.push(function(){var e=(0,E.c)(function*(t){t?(n.O_.Yo(),tS(n)?eS(n):n.M_.set("Unknown")):(yield n.O_.stop(),fB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Ml(n){return n.N_||(n.N_=function(t,r,i){const s=ce(t);return s.A_(),new qZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:tJ.bind(null,n),Io:iJ.bind(null,n),T_:nJ.bind(null,n),I_:rJ.bind(null,n)}),n.v_.push(function(){var e=(0,E.c)(function*(t){t?(n.N_.Yo(),yield zh(n)):(yield n.N_.stop(),n.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class pS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new pS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new J(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qh(n,e){if($n("AsyncQueue",`${e}: ${n}`),yl(n))return new J(L.UNAVAILABLE,`${e}: ${n}`);throw n}class Gh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ue.comparator(t.key,r.key):(t,r)=>ue.comparator(t.key,r.key),this.keyedMap=fg(),this.sortedSet=new rn(this.comparator)}static emptySet(e){return new Gh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Gh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yB{constructor(){this.B_=new rn(ue.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):_e():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wh{constructor(e,t,r,i,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Wh(e,t,Gh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class sJ{constructor(){this.k_=void 0,this.listeners=[]}}class oJ{constructor(){this.queries=new fa(e=>OV(e),dg),this.onlineState="Unknown",this.q_=new Set}}function mS(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,E.c)(function*(n,e){const t=ce(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new sJ),i)try{s.k_=yield t.onListen(r)}catch(o){const a=qh(o,`Initialization of query '${xh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&vS(t)}),gS.apply(this,arguments)}function _S(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,E.c)(function*(n,e){const t=ce(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yS.apply(this,arguments)}function aJ(n,e){const t=ce(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&vS(t)}function lJ(n,e,t){const r=ce(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function vS(n){n.q_.forEach(e=>{e.next()})}class ES{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Wh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class cJ{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class vB{constructor(e){this.serializer=e}hs(e){return Po(this.serializer,e)}Ps(e){return e.metadata.exists?g2(this.serializer,e.document,!1):hn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return qn(e)}}class uJ{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=bt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new vB(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||nt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,E.c)(function*(){const t=yield function VZ(n,e,t,r){return HC.apply(this,arguments)}(e.localStore,new vB(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield BZ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function EB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class bB{constructor(e){this.key=e}}class wB{constructor(e){this.key=e}}class IB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=nt(),this.mutatedKeys=nt(),this._a=LV(e),this.aa=new Gh(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new yB,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const g=i.get(h),y=hg(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;g&&y?g.data.isEqual(y.data)?b!==w&&(r.track({type:3,doc:y}),I=!0):this.ha(g,y)||(r.track({type:2,doc:y}),I=!0,(l&&this._a(y,l)>0||u&&this._a(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),I=!0):g&&!y&&(r.track({type:1,doc:g}),I=!0,(l||u)&&(a=!0)),I&&(y?(o=o.add(y),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,h)=>function(g,y){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return b(g)-b(y)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new Wh(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new yB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=nt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new wB(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new bB(r))}),t}da(e){this.ia=e.ls,this.oa=nt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Wh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class dJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hJ{constructor(e){this.key=e,this.Ra=!1}}class fJ{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new fa(a=>OV(a),dg),this.fa=new Map,this.ga=new Set,this.pa=new rn(ue.comparator),this.ya=new Map,this.wa=new kC,this.Sa={},this.ba=new Map,this.Da=tu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function pJ(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,E.c)(function*(n,e){const t=$S(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield Uh(t.localStore,vi(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield wS(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&mb(t.remoteStore,o)}return i}),bS.apply(this,arguments)}function wS(n,e,t,r,i){return IS.apply(this,arguments)}function IS(){return IS=(0,E.c)(function*(n,e,t,r,i){n.va=(m,g,y)=>{return(b=(0,E.c)(function*(I,x,A,P){let H=x.view.ca(A);H.Zi&&(H=yield ub(I.localStore,x.query,!1).then(({documents:Qe})=>x.view.ca(Qe,H)));const ne=P&&P.targetChanges.get(x.targetId),fe=x.view.applyChanges(H,I.isPrimaryClient,ne);return NS(I,x.targetId,fe.Ta),fe.snapshot}),function w(I,x,A,P){return b.apply(this,arguments)})(n,m,g,y);var b};const s=yield ub(n.localStore,e,!0),o=new IB(e,s.ls),a=o.ca(s.documents),l=vg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,l);NS(n,t,u.Ta);const h=new dJ(e,t,o);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),IS.apply(this,arguments)}function mJ(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,E.c)(function*(n,e){const t=ce(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!dg(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Pg(t.remoteStore,r.targetId),Kh(t,r.targetId)}).catch(_l))):(Kh(t,r.targetId),yield jh(t.localStore,r.targetId,!0))}),TS.apply(this,arguments)}function DS(){return DS=(0,E.c)(function*(n,e,t){const r=qS(n);try{const i=yield function(o,a){const l=ce(o),u=yn.now(),h=a.reduce((y,b)=>y.add(b.key),nt());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=ji(),w=nt();return l.ss.getEntries(y,h).next(I=>{b=I,b.forEach((x,A)=>{A.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(I=>{m=I;const x=[];for(const A of a){const P=qX(A,m.get(A.key).overlayedDocument);null!=P&&x.push(new pa(A.key,P,EV(P.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(I=>{g=I;const x=I.applyToLocalDocumentSet(m,w);return l.documentOverlayCache.saveOverlays(y,I.batchId,x)})}).then(()=>({batchId:g.batchId,changes:BV(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new rn(We)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,t),yield ga(r,i.changes),yield zh(r.remoteStore)}catch(i){const s=qh(i,"Failed to persist write");t.reject(s)}}),DS.apply(this,arguments)}function TB(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,E.c)(function*(n,e){const t=ce(n);try{const r=yield function FZ(n,e){const t=ce(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,m)=>{const g=i.get(m);if(!g)return;a.push(t.qr.removeMatchingKeys(s,h.removedDocuments,m).next(()=>t.qr.addMatchingKeys(s,h.addedDocuments,m)));let y=g.withSequenceNumber(s.currentSequenceNumber);var w,I,x;null!==e.targetMismatches.get(m)?y=y.withResumeToken(pr.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),I=y,x=h,(0===(w=g).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,y))});let l=ji(),u=nt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(nB(s,o,e.documentUpdates).next(h=>{l=h.us,u=h.cs})),!r.isEqual(De.min())){const h=t.qr.getLastRemoteSnapshotVersion(s).next(m=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Ie(o.Ra):i.removedDocuments.size>0&&(Ie(o.Ra),o.Ra=!1))}),yield ga(t,r,e)}catch(r){yield _l(r)}}),CS.apply(this,arguments)}function DB(n,e,t){const r=ce(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((h,m)=>{for(const g of m.listeners)g.Q_(a)&&(u=!0)}),u&&vS(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _J(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,E.c)(function*(n,e,t){const r=ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new rn(ue.comparator);o=o.insert(s,hn.newNoDocument(s,De.min()));const a=nt().add(s),l=new yg(De.min(),new Map,new rn(We),o,a);yield TB(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),kS(r)}else yield jh(r.localStore,e,!1).then(()=>Kh(r,e,t)).catch(_l)}),SS.apply(this,arguments)}function yJ(n,e){return AS.apply(this,arguments)}function AS(){return AS=(0,E.c)(function*(n,e){const t=ce(n),r=e.batch.batchId;try{const i=yield function OZ(n,e){const t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const m=u.batch,g=m.keys();let y=M.resolve();return g.forEach(b=>{y=y.next(()=>h.getEntry(l,b)).next(w=>{const I=u.docVersions.get(b);Ie(null!==I),w.version.compareTo(I)<0&&(m.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=nt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);PS(t,r,null),MS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ga(t,i)}catch(i){yield _l(i)}}),AS.apply(this,arguments)}function vJ(n,e,t){return xS.apply(this,arguments)}function xS(){return xS=(0,E.c)(function*(n,e,t){const r=ce(n);try{const i=yield function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(m=>(Ie(null!==m),h=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);PS(r,e,t),MS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ga(r,i)}catch(i){yield _l(i)}}),xS.apply(this,arguments)}function RS(){return RS=(0,E.c)(function*(n,e){const t=ce(n);Rl(t.remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=ce(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=qh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),RS.apply(this,arguments)}function MS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function PS(n,e,t){const r=ce(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Kh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||CB(n,r)})}function CB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Pg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),kS(n))}function NS(n,e,t){for(const r of t)r instanceof bB?(n.wa.addReference(r.key,e),bJ(n,r)):r instanceof wB?(te("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||CB(n,r.key)):_e()}function bJ(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(te("SyncEngine","New document in limbo: "+t),n.ga.add(r),kS(n))}function kS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ue(bt.fromString(e)),r=n.Da.next();n.ya.set(r,new hJ(t)),n.pa=n.pa.insert(t,r),mb(n.remoteStore,new ma(vi(Sh(t.path)),r,"TargetPurposeLimboResolution",is._e))}}function ga(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,E.c)(function*(n,e,t){const r=ce(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const h=BC.Qi(l.targetId,u);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,E.c)(function*(u,h){const m=ce(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(h,y=>M.forEach(y.ki,b=>m.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>M.forEach(y.qi,b=>m.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!yl(g))throw g;te("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const b=m.ts.get(y),I=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);m.ts=m.ts.insert(y,I)}}}),function l(u,h){return a.apply(this,arguments)})(r.localStore,s))}),OS.apply(this,arguments)}function wJ(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,E.c)(function*(n,e){const t=ce(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=yield eB(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new J(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ga(t,r._s)}var s}),FS.apply(this,arguments)}function IJ(n,e){const t=ce(n),r=t.ya.get(e);if(r&&r.Ra)return nt().add(r.key);{let i=nt();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function TJ(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,E.c)(function*(n,e){const t=ce(n),r=yield ub(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&NS(t,e.targetId,i.Ta),i}),LS.apply(this,arguments)}function DJ(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,E.c)(function*(n,e){const t=ce(n);return iB(t.localStore,e).then(r=>ga(t,r))}),VS.apply(this,arguments)}function CJ(n,e,t,r){return BS.apply(this,arguments)}function BS(){return BS=(0,E.c)(function*(n,e,t,r){const i=ce(n),s=yield function(a,l){const u=ce(a),h=ce(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.Cn(m,l).next(g=>g?u.localDocuments.getDocuments(m,g):M.resolve(null)))}(i.localStore,e);var l;null!==s?("pending"===t?yield zh(i.remoteStore):"acknowledged"===t||"rejected"===t?(PS(i,e,r||null),MS(i,e),l=e,ce(ce(i.localStore).mutationQueue).Fn(l)):_e(),yield ga(i,s)):te("SyncEngine","Cannot apply mutation batch with id: "+e)}),BS.apply(this,arguments)}function US(){return US=(0,E.c)(function*(n,e){const t=ce(n);if($S(t),qS(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield SB(t,r.toArray());t.Ca=!0,yield hS(t.remoteStore,!0);for(const s of i)mb(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Kh(t,o),jh(t.localStore,o,!0))),Pg(t.remoteStore,o)}),yield i,yield SB(t,r),function(o){const a=ce(o);a.ya.forEach((l,u)=>{Pg(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new rn(ue.comparator)}(t),t.Ca=!1,yield hS(t.remoteStore,!1)}}),US.apply(this,arguments)}function SB(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=(0,E.c)(function*(n,e,t){const r=ce(n),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&0!==l.length){a=yield Uh(r.localStore,vi(l[0]));for(const u of l){const h=r.ma.get(u),m=yield TJ(r,h);m.snapshot&&s.push(m.snapshot)}}else{const u=yield rB(r.localStore,o);a=yield Uh(r.localStore,u),yield wS(r,AB(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),jS.apply(this,arguments)}function AB(n){return PV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AJ(n){return t=ce(n).localStore,ce(ce(t).persistence).Bi();var t}function xJ(n,e,t,r){return HS.apply(this,arguments)}function HS(){return HS=(0,E.c)(function*(n,e,t,r){const i=ce(n);if(i.Ca)return void te("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield iB(i.localStore,FV(s[0])),a=yg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,pr.EMPTY_BYTE_STRING);yield ga(i,o,a);break}case"rejected":yield jh(i.localStore,e,!0),Kh(i,e,r);break;default:_e()}}),HS.apply(this,arguments)}function RJ(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,E.c)(function*(n,e,t){const r=$S(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){te("SyncEngine","Adding an already active target "+i);continue}const s=yield rB(r.localStore,i),o=yield Uh(r.localStore,s);yield wS(r,AB(s),o.targetId,!1,o.resumeToken),mb(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield jh(r.localStore,i,!1).then(()=>{Pg(r.remoteStore,i),Kh(r,i)}).catch(_l))}}),zS.apply(this,arguments)}function $S(n){const e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_J.bind(null,e),e.Va.a_=aJ.bind(null,e.eventManager),e.Va.Fa=lJ.bind(null,e.eventManager),e}function qS(n){const e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vJ.bind(null,e),e}class Yh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,E.c)(function*(){t.serializer=Rg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return J2(this.persistence,new Z2,e.initialUser,this.serializer)}createPersistence(e){return new OC(ab.jr,this.serializer)}createSharedClientState(e){return new lB}terminate(){var e=this;return(0,E.c)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GS extends Yh{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,E.c)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield qS(r.xa.syncEngine),yield zh(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return J2(this.persistence,new Z2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new z2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new rX(t,this.persistence);return new nX(e.asyncQueue,r)}createPersistence(e){const t=VC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new LC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,uB(),pb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lB}}class xB extends GS{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,E.c)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof WC&&(r.sharedClientState.syncEngine={Ys:CJ.bind(null,i),Zs:xJ.bind(null,i),Xs:RJ.bind(null,i),Bi:AJ.bind(null,i),Js:DJ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,E.c)(function*(o){yield function SJ(n,e){return US.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=uB();if(!WC.D(t))throw new J(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=VC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new WC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Qh{initialize(e,t){var r=this;return(0,E.c)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>DB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wJ.bind(null,r.syncEngine),yield hS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oJ}createDatastore(e){const t=Rg(e.databaseInfo.databaseId),r=new zZ(e.databaseInfo);return new GZ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>DB(this.syncEngine,t,0),a=cB.D()?new cB:new UZ,new YZ(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,u,h){const m=new fJ(i,s,o,a,l,u);return h&&(m.Ca=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,E.c)(function*(r){const i=ce(r);te("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Hh(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function RB(n,e=10240){let t=0;return{read:()=>(0,E.c)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,E.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NJ{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new fr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,E.c)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,E.c)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,E.c)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new cJ(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>123===e)}qa(){var e=this;return(0,E.c)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,E.c)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,E.c)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class kJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,E.c)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new J(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,E.c)(function*(o,a){const l=ce(o),u=bg(l.serializer)+"/documents",h={documents:a.map(b=>Eg(l.serializer,b))},m=yield l.Co("BatchGetDocuments",u,h,a.length),g=new Map;m.forEach(b=>{const w=function tZ(n,e){return"found"in e?function(r,i){Ie(!!i.found);const s=Po(r,i.found.name),o=qn(i.found.updateTime),a=i.found.createTime?qn(i.found.createTime):De.min(),l=new Lr({mapValue:{fields:i.found.fields}});return hn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){Ie(!!i.missing),Ie(!!i.readTime);const s=Po(r,i.missing),o=qn(i.readTime);return hn.newNoDocument(s,o)}(n,e):_e()}(l.serializer,b);g.set(w.key.toString(),w)});const y=[];return a.forEach(b=>{const w=g.get(b.toString());Ie(!!w),y.push(w)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,E.c)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=ue.fromPath(i);e.mutations.push(new _C(s,e.precondition(s)))}),yield(r=(0,E.c)(function*(s,o){const a=ce(s),l=bg(a.serializer)+"/documents",u={writes:o.map(h=>wg(a.serializer,h))};yield a.wo("Commit",l,u)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e();t=De.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new J(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(De.min())?vn.exists(!1):vn.updateTime(t):vn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(De.min()))throw new J(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vn.updateTime(t)}return vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class OJ{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new YC(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,E.c)(function*(){const t=new kJ(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!rg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!e2(t)}return!1}}class FJ{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=QL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,E.c)(function*(a){te("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,E.c)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=qh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function yb(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,E.c)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,E.c)(function*(s){r.isEqual(s)||(yield eB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),WS.apply(this,arguments)}function KS(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,E.c)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield QS(n);te("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>_B(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>_B(e.remoteStore,s)),n._onlineComponents=e}),YS.apply(this,arguments)}function MB(n){return"FirebaseError"===n.name?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function QS(n){return XS.apply(this,arguments)}function XS(){return XS=(0,E.c)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!MB(t))throw t;Bi("Error using user provided cache. Falling back to memory cache: "+t),yield yb(n,new Yh)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield yb(n,new Yh);return n._offlineComponents}),XS.apply(this,arguments)}function vb(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,E.c)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield KS(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield KS(n,new Qh))),n._onlineComponents}),ZS.apply(this,arguments)}function PB(n){return QS(n).then(e=>e.persistence)}function Xh(n){return QS(n).then(e=>e.localStore)}function NB(n){return vb(n).then(e=>e.remoteStore)}function JS(n){return vb(n).then(e=>e.syncEngine)}function Zh(n){return eA.apply(this,arguments)}function eA(){return eA=(0,E.c)(function*(n){const e=yield vb(n),t=e.eventManager;return t.onListen=pJ.bind(null,e.syncEngine),t.onUnlisten=mJ.bind(null,e.syncEngine),t}),eA.apply(this,arguments)}function OB(n,e,t={}){const r=new fr;return n.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function(s,o,a,l,u){const h=new _b({next:g=>{o.enqueueAndForget(()=>_S(s,m));const y=g.docs.has(a);!y&&g.fromCache?u.reject(new J(L.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?u.reject(new J(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new ES(Sh(a.path),h,{includeMetadataChanges:!0,J_:!0});return mS(s,m)}(yield Zh(n),n.asyncQueue,e,t,r)})),r.promise}function FB(n,e,t={}){const r=new fr;return n.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function(s,o,a,l,u){const h=new _b({next:g=>{o.enqueueAndForget(()=>_S(s,m)),g.fromCache&&"server"===l.source?u.reject(new J(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new ES(a,h,{includeMetadataChanges:!0,J_:!0});return mS(s,m)}(yield Zh(n),n.asyncQueue,e,t,r)})),r.promise}function LB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const VB=new Map;function tA(n,e,t){if(!t)throw new J(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BB(n,e,t,r){if(!0===e&&!0===r)throw new J(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UB(n){if(!ue.isDocumentKey(n))throw new J(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jB(n){if(ue.isDocumentKey(n))throw new J(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Eb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":_e()}function mt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eb(n);throw new J(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function HB(n,e){if(e<=0)throw new J(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class zB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new J(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new J(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=LB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ng{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new J(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $Q;switch(r.type){case"firstParty":return new KQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=VB.get(t);r&&(te("ComponentProvider","Removing Datastore"),VB.delete(t),r.terminate())}(this),Promise.resolve()}}class Vr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class No extends Vr{constructor(e,t,r){super(e,t,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ue(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function qB(n,e,...t){if(n=(0,ht.Yj)(n),tA("collection","path",e),n instanceof Ng){const r=bt.fromString(e,...t);return jB(r),new No(n,null,r)}{if(!(n instanceof fn||n instanceof No))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return jB(r),new No(n.firestore,null,r)}}function bb(n,e,...t){if(n=(0,ht.Yj)(n),1===arguments.length&&(e=QL.newId()),tA("doc","path",e),n instanceof Ng){const r=bt.fromString(e,...t);return UB(r),new fn(n,null,new ue(r))}{if(!(n instanceof fn||n instanceof No))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return UB(r),new fn(n.firestore,n instanceof No?n.converter:null,new ue(r))}}function GB(n,e){return n=(0,ht.Yj)(n),e=(0,ht.Yj)(e),(n instanceof fn||n instanceof No)&&(e instanceof fn||e instanceof No)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nA(n,e){return n=(0,ht.Yj)(n),e=(0,ht.Yj)(e),n instanceof Vr&&e instanceof Vr&&n.firestore===e.firestore&&dg(n._query,e._query)&&n.converter===e.converter}class KJ{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new YC(this,"async_queue_retry"),this.iu=()=>{const t=pb();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=pb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=pb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new fr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,E.c)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!yl(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,$n("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=pS.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&_e()}verifyOperationInProgress(){}uu(){var e=this;return(0,E.c)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function rA(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class YJ{constructor(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sn extends Ng{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new KJ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||WB(this),this._firestoreClient.terminate()}}function On(n){return n._firestoreClient||WB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function WB(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TX(n._databaseId,l,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LB(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new FJ(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function KB(n,e,t){const r=new fr;return n.asyncQueue.enqueue((0,E.c)(function*(){try{yield yb(n,t),yield KS(n,e),r.resolve()}catch(i){const s=i;if(!MB(s))throw s;Bi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function YB(n){if(n._initialized||n._terminated)throw new J(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(pr.fromBase64String(e))}catch(t){throw new J(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ko(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _a{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new J(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._methodName=e}}class wb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}const oee=/^__.*__$/;class aee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ph(e,this.data,t,this.fieldTransforms)}}class QB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Ib{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ib(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Cb(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(XB(this.Iu)&&oee.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class lee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rg(e)}pu(e,t,r,i=!1){return new Ib({Iu:e,methodName:t,gu:r,path:dn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iu(n){const e=n._freezeSettings(),t=Rg(n._databaseId);return new lee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Tb(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);aA("Data must be an object, but it was:",o,r);const a=eU(r,o);let l,u;if(s.merge)l=new Ui(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const g=Fg(e,m,t);if(!o.contains(g))throw new J(L.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);nU(h,g)||h.push(g)}l=new Ui(h),u=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=o.fieldTransforms;return new aee(new Lr(a),l,u)}class Og extends ru{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Og}}function ZB(n,e,t){return new Ib({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class iA extends ru{_toFieldTransform(e){return new mg(e.path,new Rh)}isEqual(e){return e instanceof iA}}class cee extends ru{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=ZB(this,e,!0),r=this.yu.map(s=>su(s,t)),i=new Kc(r);return new mg(e.path,i)}isEqual(e){return this===e}}class uee extends ru{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=ZB(this,e,!0),r=this.yu.map(s=>su(s,t)),i=new Yc(r);return new mg(e.path,i)}isEqual(e){return this===e}}class dee extends ru{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Mh(e.serializer,zV(e.serializer,this.wu));return new mg(e.path,t)}isEqual(e){return this===e}}function sA(n,e,t,r){const i=n.pu(1,e,t);aA("Data must be an object, but it was:",i,r);const s=[],o=Lr.empty();vl(r,(l,u)=>{const h=Db(e,l,t);u=(0,ht.Yj)(u);const m=i.Ru(h);if(u instanceof Og)s.push(h);else{const g=su(u,m);null!=g&&(s.push(h),o.set(h,g))}});const a=new Ui(s);return new QB(o,a,i.fieldTransforms)}function oA(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[Fg(e,r,t)],l=[i];if(s.length%2!=0)throw new J(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Fg(e,s[g])),l.push(s[g+1]);const u=[],h=Lr.empty();for(let g=a.length-1;g>=0;--g)if(!nU(u,a[g])){const y=a[g];let b=l[g];b=(0,ht.Yj)(b);const w=o.Ru(y);if(b instanceof Og)u.push(y);else{const I=su(b,w);null!=I&&(u.push(y),h.set(y,I))}}const m=new Ui(u);return new QB(h,m,o.fieldTransforms)}function JB(n,e,t,r=!1){return su(t,n.pu(r?4:3,e))}function su(n,e){if(tU(n=(0,ht.Yj)(n)))return aA("Unsupported field value:",e,n),eU(n,e);if(n instanceof ru)return function(r,i){if(!XB(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=su(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,ht.Yj)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return zV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=yn.fromDate(r);return{timestampValue:kh(i.serializer,s)}}if(r instanceof yn){const s=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(i.serializer,s)}}if(r instanceof wb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:d2(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:IC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Eb(r)}`)}(n,e)}function eU(n,e){const t={};return dV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(n,(r,i)=>{const s=su(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function tU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof wb||n instanceof ko||n instanceof fn||n instanceof ru)}function aA(n,e,t){if(!tU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Eb(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Fg(n,e,t){if((e=(0,ht.Yj)(e))instanceof _a)return e._internalPath;if("string"==typeof e)return Db(n,e);throw Cb("Field path arguments must be of type string or ",n,!1,void 0,t)}const hee=new RegExp("[~\\*/\\[\\]]");function Db(n,e,t){if(e.search(hee)>=0)throw Cb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _a(...e.split("."))._internalPath}catch{throw Cb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cb(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(L.INVALID_ARGUMENT,a+n+l)}function nU(n,e){return n.some(t=>t.isEqual(e))}class Lg{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fee extends Lg{data(){return super.data()}}function Sb(n,e){return"string"==typeof e?Db(n,e):e instanceof _a?e._internalPath:e._delegate._internalPath}function rU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new J(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lA{}class Vg extends lA{}function Pl(n,e,...t){let r=[];e instanceof lA&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof Jh).length,a=s.filter(l=>l instanceof Bg).length;if(o>1||o>0&&a>0)throw new J(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Bg extends Vg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Bg(e,t,r)}_apply(e){const t=this._parse(e);return aU(e._query,t),new Vr(e.firestore,e.converter,mC(e._query,t))}_parse(e){const t=iu(e.firestore);return function(s,o,a,l,u,h,m){let g;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new J(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){oU(m,h);const y=[];for(const b of m)y.push(sU(l,s,b));g={arrayValue:{values:y}}}else g=sU(l,s,m)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||oU(m,h),g=JB(a,"where",m,"in"===h||"not-in"===h);return _t.create(u,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Jh extends lA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:$t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)aU(o,l),o=mC(o,l)}(e._query,t),new Vr(e.firestore,e.converter,mC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cA extends Vg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cA(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new J(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new J(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cg(s,o)}(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ha(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Ab extends Vg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ab(e,t,r)}_apply(e){return new Vr(e.firestore,e.converter,KE(e._query,this._limit,this._limitType))}}class xb extends Vg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new xb(e,t,r)}_apply(e){const t=iU(e,this.type,this._docOrFields,this._inclusive);return new Vr(e.firestore,e.converter,(s=t,new ha((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class Rb extends Vg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Rb(e,t,r)}_apply(e){const t=iU(e,this.type,this._docOrFields,this._inclusive);return new Vr(e.firestore,e.converter,(s=t,new ha((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function iU(n,e,t,r){if(t[0]=(0,ht.Yj)(t[0]),t[0]instanceof Lg)return function(s,o,a,l,u){if(!l)throw new J(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of Ah(s))if(m.field.isKeyField())h.push(Gc(o,l.key));else{const g=l.data.field(m.field);if(jE(g))throw new J(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=m.field.canonicalString();throw new J(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new Dl(h,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=iu(n.firestore);return function(o,a,l,u,h,m){const g=o.explicitOrderBy;if(h.length>g.length)throw new J(L.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new J(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!pC(o)&&-1!==w.indexOf("/"))throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const I=o.path.child(bt.fromString(w));if(!ue.isDocumentKey(I))throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const x=new ue(I);y.push(Gc(a,x))}else{const I=JB(l,u,w);y.push(I)}}return new Dl(y,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function sU(n,e,t){if("string"==typeof(t=(0,ht.Yj)(t))){if(""===t)throw new J(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pC(e)&&-1!==t.indexOf("/"))throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bt.fromString(t));if(!ue.isDocumentKey(r))throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gc(n,new ue(r))}if(t instanceof fn)return Gc(n,t._key);throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eb(t)}.`)}function oU(n,e){if(!Array.isArray(n)||0===n.length)throw new J(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aU(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new J(L.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uA{convertValue(e,t="none"){switch(Il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new wb(kn(e.latitude),kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=HE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sg(e));default:return null}}convertTimestamp(e){const t=El(e);return new yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bt.fromString(e);Ie(b2(r));const i=new bl(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(t)||$n(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Mb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wee extends uA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends Lg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ug extends ya{data(e={}){return super.data(e)}}class Nl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ug(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Ug(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Ug(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Tee(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Tee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}function cU(n,e){return n instanceof ya&&e instanceof ya?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nl&&e instanceof Nl&&n._firestore===e._firestore&&nA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class kl extends uA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function uU(n,e,t){n=mt(n,fn);const r=mt(n.firestore,sn),i=Mb(n.converter,e,t);return ef(r,[Tb(iu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,vn.none())])}function dU(n,e,t,...r){n=mt(n,fn);const i=mt(n.firestore,sn),s=iu(i);let o;return o="string"==typeof(e=(0,ht.Yj)(e))||e instanceof _a?oA(s,"updateDoc",n._key,e,t,r):sA(s,"updateDoc",n._key,e),ef(i,[o.toMutation(n._key,vn.exists(!0))])}function hU(n,...e){var t,r,i;n=(0,ht.Yj)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||rA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(rA(e[o])){const m=e[o];e[o]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let l,u,h;if(n instanceof fn)u=mt(n.firestore,sn),h=Sh(n._key.path),l={next:m=>{e[o]&&e[o](dA(u,n,m))},error:e[o+1],complete:e[o+2]};else{const m=mt(n,Vr);u=mt(m.firestore,sn),h=m._query;const g=new kl(u);l={next:y=>{e[o]&&e[o](new Nl(u,g,m,y))},error:e[o+1],complete:e[o+2]},rU(n._query)}return function(g,y,b,w){const I=new _b(w),x=new ES(y,I,b);return g.asyncQueue.enqueueAndForget((0,E.c)(function*(){return mS(yield Zh(g),x)})),()=>{I.Na(),g.asyncQueue.enqueueAndForget((0,E.c)(function*(){return _S(yield Zh(g),x)}))}}(On(u),h,a,l)}function ef(n,e){return function(r,i){const s=new fr;return r.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function gJ(n,e,t){return DS.apply(this,arguments)}(yield JS(r),i,s)})),s.promise}(On(n),e)}function dA(n,e,t){const r=t.docs.get(e._key),i=new kl(n);return new ya(n,i,e._key,r,new ou(t.hasPendingWrites,t.fromCache),e.converter)}const Hee={maxAttempts:5};class fU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=iu(e)}set(e,t,r){this._verifyNotCommitted();const i=Ol(e,this._firestore),s=Mb(i.converter,t,r),o=Tb(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,vn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Ol(e,this._firestore);let o;return o="string"==typeof(t=(0,ht.Yj)(t))||t instanceof _a?oA(this._dataReader,"WriteBatch.update",s._key,t,r,i):sA(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ol(e,this._firestore);return this._mutations=this._mutations.concat(new Nh(t._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new J(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ol(n,e){if((n=(0,ht.Yj)(n)).firestore!==e)throw new J(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zee extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=iu(t)}get(t){const r=Ol(t,this._firestore),i=new wee(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return _e();const o=s[0];if(o.isFoundDocument())return new Lg(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Lg(this._firestore,i,r._key,null,r.converter);throw _e()})}set(t,r,i){const s=Ol(t,this._firestore),o=Mb(s.converter,r,i),a=Tb(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Ol(t,this._firestore);let a;return a="string"==typeof(r=(0,ht.Yj)(r))||r instanceof _a?oA(this._dataReader,"Transaction.update",o._key,r,i,s):sA(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Ol(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ol(e,this._firestore),r=new kl(this._firestore);return super.get(e).then(i=>new ya(this._firestore,r,t._key,i._document,new ou(!1,!1),t.converter))}}function fA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new J("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function _U(){if(typeof Uint8Array>"u")throw new J("unimplemented","Uint8Arrays are not available in this environment.")}function yU(){if(!function wX(){return typeof atob<"u"}())throw new J("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){vh=Io.SDK_VERSION,(0,Io._registerComponent)(new uE.Yl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sn(new GQ(r.getProvider("auth-internal")),new YQ(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Io.registerVersion)(WL,"4.3.2",e),(0,Io.registerVersion)(WL,"4.3.2","esm2017")}();class jg{constructor(e){this._delegate=e}static fromBase64String(e){return yU(),new jg(ko.fromBase64String(e))}static fromUint8Array(e){return _U(),new jg(ko.fromUint8Array(e))}toBase64(){return yU(),this._delegate.toBase64()}toUint8Array(){return _U(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pA(n){return function Jee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ete{enableIndexedDbPersistence(e,t){return function XJ(n,e){YB(n=mt(n,sn));const t=On(n);if(t._uninitializedComponentsProvider)throw new J(L.FAILED_PRECONDITION,"SDK cache is already specified.");Bi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Qh;return KB(t,i,new GS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ZJ(n){YB(n=mt(n,sn));const e=On(n);if(e._uninitializedComponentsProvider)throw new J(L.FAILED_PRECONDITION,"SDK cache is already specified.");Bi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Qh;return KB(e,r,new xB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function JJ(n){if(n._initialized&&!n._terminated)throw new J(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,E.c)(function*(){try{yield(t=(0,E.c)(function*(i){if(!ro.D())return Promise.resolve();const s=i+"main";yield ro.delete(s)}),function r(i){return t.apply(this,arguments)})(VC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vU{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function $B(n,e,t,r={}){var i;const s=(n=mt(n,Ng))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=br.MOCK_USER;else{a=(0,ht.YD)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new br(u)}n._authCredentials=new qQ(new KL(a,l))}}(this._delegate,e,t,r)}enableNetwork(){return function tee(n){return function LJ(n){return n.asyncQueue.enqueue((0,E.c)(function*(){const e=yield PB(n),t=yield NB(n);return e.setNetworkEnabled(!0),function(i){const s=ce(i);return s.C_.delete(0),Mg(s)}(t)}))}(On(n=mt(n,sn)))}(this._delegate)}disableNetwork(){return function nee(n){return function VJ(n){return n.asyncQueue.enqueue((0,E.c)(function*(){const e=yield PB(n),t=yield NB(n);return e.setNetworkEnabled(!1),(r=(0,E.c)(function*(s){const o=ce(s);o.C_.add(0),yield Hh(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(On(n=mt(n,sn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,BB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function eee(n){return function(t){const r=new fr;return t.asyncQueue.enqueueAndForget((0,E.c)(function*(){return function EJ(n,e){return RS.apply(this,arguments)}(yield JS(t),r)})),r.promise}(On(n=mt(n,sn)))}(this._delegate)}onSnapshotsInSync(e){return function Nee(n,e){return function jJ(n,e){const t=new _b(e);return n.asyncQueue.enqueueAndForget((0,E.c)(function*(){return i=yield Zh(n),s=t,ce(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,E.c)(function*(){return i=yield Zh(n),s=t,void ce(i).q_.delete(s);var i,s}))}}(On(n=mt(n,sn)),rA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new J("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tf(this,qB(this._delegate,e))}catch(t){throw Ei(t,"collection()","Firestore.collection()")}}doc(e){try{return new Cs(this,bb(this._delegate,e))}catch(t){throw Ei(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bi(this,function WJ(n,e){if(n=mt(n,Ng),tA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new J(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vr(n,null,(r=e,new ha(bt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Ei(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $ee(n,e,t){n=mt(n,sn);const r=Object.assign(Object.assign({},Hee),t);return function(s){if(s.maxAttempts<1)throw new J(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new fr;return s.asyncQueue.enqueueAndForget((0,E.c)(function*(){const u=yield function kB(n){return vb(n).then(e=>e.datastore)}(s);new OJ(s.asyncQueue,u,a,o,l).run()})),l.promise}(On(n),i=>e(new zee(n,i)),r)}(this._delegate,t=>e(new EU(this,t)))}batch(){return On(this._delegate),new bU(new fU(this._delegate,e=>ef(this._delegate,e)))}loadBundle(e){return function ree(n,e){const t=On(n=mt(n,sn)),r=new YJ;return function HJ(n,e,t,r){const i=function(o,a){let l;return l="string"==typeof o?n2().encode(o):o,h=function(h,m){if(h instanceof Uint8Array)return RB(h,m);if(h instanceof ArrayBuffer)return RB(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new NJ(h,a);var h}(t,Rg(e));n.asyncQueue.enqueueAndForget((0,E.c)(function*(){!function MJ(n,e,t){const r=ce(n);var i;(i=(0,E.c)(function*(o,a,l){try{const u=yield a.getMetadata();if(yield function(b,w){const I=ce(b),x=qn(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(x)>=0)}(o.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(EB(u));const h=new uJ(u,o.localStore,a.serializer);let m=yield a.Ma();for(;m;){const y=yield h.ea(m);y&&l._updateProgress(y),m=yield a.Ma()}const g=yield h.complete();return yield ga(o,g.ra,void 0),yield function(b,w){const I=ce(b);return I.persistence.runTransaction("Save bundle","readwrite",x=>I.Kr.saveBundleMetadata(x,w))}(o.localStore,u),l._completeWith(g.progress),Promise.resolve(g.na)}catch(u){return Bi("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var b}),function s(o,a,l){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield JS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function iee(n,e){return function zJ(n,e){return n.asyncQueue.enqueue((0,E.c)(function*(){return function(r,i){const s=ce(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Xh(n),e)}))}(On(n=mt(n,sn)),e).then(t=>t?new Vr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bi(this,t):null)}}class Nb extends uA{constructor(e){super(),this.firestore=e}convertBytes(e){return new jg(new ko(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Cs.forKey(t,this.firestore,null)}}class EU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Nb(e)}get(e){const t=lu(e);return this._delegate.get(t).then(r=>new Hg(this._firestore,new ya(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=lu(e);return r?(fA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=lu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=lu(e);return this._delegate.delete(t),this}}class bU{constructor(e){this._delegate=e}set(e,t,r){const i=lu(e);return r?(fA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=lu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=lu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class au{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ug(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zg(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=au.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new au(e,new Nb(e),t),i.set(t,s)),s}}au.INSTANCES=new WeakMap;class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Nb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new J("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Cs(t,new fn(t._delegate,r,new ue(e)))}static forKey(e,t,r){return new Cs(t,new fn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new tf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tf(this.firestore,qB(this._delegate,e))}catch(t){throw Ei(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ht.Yj)(e))instanceof fn&&GB(this._delegate,e)}set(e,t){t=fA("DocumentReference.set",t);try{return t?uU(this._delegate,e,t):uU(this._delegate,e)}catch(r){throw Ei(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?dU(this._delegate,e):dU(this._delegate,e,t,...r)}catch(i){throw Ei(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Mee(n){return ef(mt(n.firestore,sn),[new Nh(n._key,vn.none())])}(this._delegate)}onSnapshot(...e){const t=wU(e),r=IU(e,i=>new Hg(this.firestore,new ya(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return hU(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Cee(n){n=mt(n,fn);const e=mt(n.firestore,sn),t=On(e),r=new kl(e);return function BJ(n,e){const t=new fr;return n.asyncQueue.enqueueAndForget((0,E.c)(function*(){return(r=(0,E.c)(function*(s,o,a){try{const l=yield function(h,m){const g=ce(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,m))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new J(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=qh(l,`Failed to get document '${o} from cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Xh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ya(e,r,n._key,i,new ou(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function See(n){n=mt(n,fn);const e=mt(n.firestore,sn);return OB(On(e),n._key,{source:"server"}).then(t=>dA(e,n,t))}(this._delegate):function Dee(n){n=mt(n,fn);const e=mt(n.firestore,sn);return OB(On(e),n._key).then(t=>dA(e,n,t))}(this._delegate),t.then(r=>new Hg(this.firestore,new ya(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?au.getInstance(this.firestore,e):null))}}function Ei(n,e,t){return n.message=n.message.replace(e,t),n}function wU(n){for(const e of n)if("object"==typeof e&&!pA(e))return e;return{}}function IU(n,e){var t,r;let i;return i=pA(n[0])?n[0]:pA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Hg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Cs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cU(this._delegate,e._delegate)}}class zg extends Hg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function zQ(n,e){n||_e()}(void 0!==t),t}}class bi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Nb(e)}where(e,t,r){try{return new bi(this.firestore,Pl(this._delegate,function pee(n,e,t){const r=e,i=Sb("where",n);return Bg._create(i,r,t)}(e,t,r)))}catch(i){throw Ei(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bi(this.firestore,Pl(this._delegate,function mee(n,e="asc"){const t=e,r=Sb("orderBy",n);return cA._create(r,t)}(e,t)))}catch(r){throw Ei(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bi(this.firestore,Pl(this._delegate,function gee(n){return HB("limit",n),Ab._create("limit",n,"F")}(e)))}catch(t){throw Ei(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bi(this.firestore,Pl(this._delegate,function _ee(n){return HB("limitToLast",n),Ab._create("limitToLast",n,"L")}(e)))}catch(t){throw Ei(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bi(this.firestore,Pl(this._delegate,function yee(...n){return xb._create("startAt",n,!0)}(...e)))}catch(t){throw Ei(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bi(this.firestore,Pl(this._delegate,function vee(...n){return xb._create("startAfter",n,!1)}(...e)))}catch(t){throw Ei(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bi(this.firestore,Pl(this._delegate,function Eee(...n){return Rb._create("endBefore",n,!1)}(...e)))}catch(t){throw Ei(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bi(this.firestore,Pl(this._delegate,function bee(...n){return Rb._create("endAt",n,!0)}(...e)))}catch(t){throw Ei(t,"endAt()","Query.endAt()")}}isEqual(e){return nA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function xee(n){n=mt(n,Vr);const e=mt(n.firestore,sn),t=On(e),r=new kl(e);return function UJ(n,e){const t=new fr;return n.asyncQueue.enqueueAndForget((0,E.c)(function*(){return(r=(0,E.c)(function*(s,o,a){try{const l=yield ub(s,o,!0),u=new IB(o,l.ls),h=u.ca(l.documents),m=u.applyChanges(h,!1);a.resolve(m.snapshot)}catch(l){const u=qh(l,`Failed to execute query '${o} against cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Xh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Nl(e,r,n,i))}(this._delegate):"server"===e?.source?function Ree(n){n=mt(n,Vr);const e=mt(n.firestore,sn),t=On(e),r=new kl(e);return FB(t,n._query,{source:"server"}).then(i=>new Nl(e,r,n,i))}(this._delegate):function Aee(n){n=mt(n,Vr);const e=mt(n.firestore,sn),t=On(e),r=new kl(e);return rU(n._query),FB(t,n._query).then(i=>new Nl(e,r,n,i))}(this._delegate),t.then(r=>new mA(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=wU(e),r=IU(e,i=>new mA(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return hU(this._delegate,t,r)}withConverter(e){return new bi(this.firestore,this._delegate.withConverter(e?au.getInstance(this.firestore,e):null))}}class nte{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new nte(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new zg(this._firestore,r))})}isEqual(e){return cU(this._delegate,e._delegate)}}class tf extends bi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Cs(this.firestore,e):null}doc(e){try{return new Cs(this.firestore,void 0===e?bb(this._delegate):bb(this._delegate,e))}catch(t){throw Ei(t,"doc()","CollectionReference.doc()")}}add(e){return function Pee(n,e){const t=mt(n.firestore,sn),r=bb(n),i=Mb(n.converter,e);return ef(t,[Tb(iu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Cs(this.firestore,t))}isEqual(e){return GB(this._delegate,e._delegate)}withConverter(e){return new tf(this.firestore,this._delegate.withConverter(e?au.getInstance(this.firestore,e):null))}}function lu(n){return mt(n,fn)}class gA{constructor(...e){this._delegate=new _a(...e)}static documentId(){return new gA(dn.keyField().canonicalString())}isEqual(e){return(e=(0,ht.Yj)(e))instanceof _a&&this._delegate._internalPath.isEqual(e._internalPath)}}class cu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Gee(){return new iA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cu(e)}static delete(){const e=function qee(){return new Og("deleteField")}();return e._methodName="FieldValue.delete",new cu(e)}static arrayUnion(...e){const t=function Wee(...n){return new cee("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new cu(t)}static arrayRemove(...e){const t=function Kee(...n){return new uee("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new cu(t)}static increment(e){const t=function Yee(n){return new dee("increment",n)}(e);return t._methodName="FieldValue.increment",new cu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const rte={Firestore:vU,GeoPoint:wb,Timestamp:yn,Blob:jg,Transaction:EU,WriteBatch:bU,DocumentReference:Cs,DocumentSnapshot:Hg,Query:bi,QueryDocumentSnapshot:zg,QuerySnapshot:mA,CollectionReference:tf,FieldPath:gA,FieldValue:cu,setLogLevel:function tte(n){!function HQ(n){gl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function TU(n,e){return function ote(n,e=xm){return new Ot(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function _A(n,e){return TU(n,e).pipe(Be(t=>({payload:t,type:"query"})))}!function ste(n){(function ite(n,e){n.INTERNAL.registerComponent(new uE.Yl("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},rte)))})(n,(e,t)=>new vU(e,t,new ete)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(la.c);class DU{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=xU(r,t);return new AU(i,s,this.afs)}snapshotChanges(){return function ate(n,e){return TU(n,e).pipe(dh(void 0),h0(),Be(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_i)}valueChanges(e={}){return this.snapshotChanges().pipe(Be(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return Wr(this.ref.get(e)).pipe(_i)}}function kb(n,e){return _A(n,e).pipe(dh(void 0),h0(),Be(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=s.find(m=>m.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function CU(n,e,t){return kb(n,t).pipe(f0((r,i)=>function lte(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function cte(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),RF(),Be(r=>r.map(i=>({type:i.type,payload:i}))))}function yA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function SU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class AU{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=kb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Be(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(dh(void 0),h0(),eo(([r,i])=>i.length>0||!r),Be(([,r])=>r),_i)}auditTrail(e){return this.stateChanges(e).pipe(f0((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SU(e);return CU(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i)}valueChanges(e={}){return _A(this.query,this.afs.schedulers.outsideAngular).pipe(Be(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),_i)}get(e){return Wr(this.query.get(e)).pipe(_i)}add(e){return this.ref.add(e)}doc(e){return new DU(this.ref.doc(e),this.afs)}}class ute{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?kb(this.query,this.afs.schedulers.outsideAngular).pipe(Be(t=>t.filter(r=>e.indexOf(r.type)>-1)),eo(t=>t.length>0),_i):kb(this.query,this.afs.schedulers.outsideAngular).pipe(_i)}auditTrail(e){return this.stateChanges(e).pipe(f0((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SU(e);return CU(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i)}valueChanges(e={}){return _A(this.query,this.afs.schedulers.outsideAngular).pipe(Be(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),_i)}get(e){return Wr(this.query.get(e)).pipe(_i)}}const dte=new ie("angularfire2.enableFirestorePersistence"),hte=new ie("angularfire2.firestore.persistenceSettings"),fte=new ie("angularfire2.firestore.settings"),pte=new ie("angularfire2.firestore.use-emulator");function xU(n,e=(t=>t)){return{query:e(n),ref:n}}let RU=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,l,u,h,m,g,y,b,w,I,x,A){this.schedulers=l;const P=cE(t,a,r),H=h;m&&AF(P,a,g,b,w,I,y,x),[this.firestore,this.persistenceEnabled$]=r0(`${P.name}.firestore`,"AngularFirestore",P.name,()=>{const ne=a.runOutsideAngular(()=>P.firestore());if(s&&ne.settings(s),H&&ne.useEmulator(...H),i&&!rE(o)){const fe=()=>{try{return Wr(ne.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Qe){return typeof console<"u"&&console.warn(Qe),To(!1)}};return[ne,a.runOutsideAngular(fe)]}return[ne,To(!1)]},[s,H,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=xU(i,r),a=this.schedulers.ngZone.run(()=>s);return new AU(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new ute(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new DU(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(B(Rm),B(Mm,8),B(dte,8),B(fte,8),B(Ws),B(Ge),B(n0),B(hte,8),B(pte,8),B(xF,8),B(wF,8),B(IF,8),B(TF,8),B(DF,8),B(CF,8),B(SF,8),B(t0,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),mte=(()=>{class n{constructor(t){this.afs=t,this.userDatasCollection=this.afs.collection("user_data"),this.userDatas=this.userDatasCollection.snapshotChanges().pipe(Be(r=>r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s}})))}getuserDatas(){return this.userDatas}getuserData(t){return this.userDatasCollection.doc(t).valueChanges()}adduserData(t){return this.userDatasCollection.add(t)}updateuserData(t,r){return this.userDatasCollection.doc(t).update(r)}deleteuserData(t){return this.userDatasCollection.doc(t).delete()}static#e=this.\u0275fac=function(r){return new(r||n)(B(RU))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gte=(()=>{class n{constructor(t){this.afs=t,this.apartmentDatasCollection=this.afs.collection("flat_data"),this.apartmentDatas=this.apartmentDatasCollection.snapshotChanges().pipe(Be(r=>r.map(i=>{const s=i.payload.doc.data();return{id:i.payload.doc.id,...s}})))}getapartmentDatas(){return this.apartmentDatas}getapartmentData(t){return this.apartmentDatasCollection.doc(t).valueChanges()}addapartmentData(t){return this.apartmentDatasCollection.add(t)}updateapartmentData(t,r){return this.apartmentDatasCollection.doc(t).update(r)}deleteapartmentData(t){return this.apartmentDatasCollection.doc(t).delete()}static#e=this.\u0275fac=function(r){return new(r||n)(B(RU))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _te=new ie("cdk-dir-doc",{providedIn:"root",factory:function yte(){return ke(_n)}}),vte=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let vA,Ob=(()=>{class n{constructor(t){this.value="ltr",this.change=new Mt,t&&(this.value=function Ete(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?vte.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(B(_te,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$g=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({})}return n})();try{vA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vA=!1}let qg,uu,va=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function j7(n){return n===F1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(B(Ws))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fb(n){return function bte(){if(null==qg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qg=!0}))}finally{qg=qg||!1}return qg}()?n:!!n.capture}function wte(){if(null==uu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return uu=!1,uu;if("scrollBehavior"in document.documentElement.style)uu=!0;else{const n=Element.prototype.scrollTo;uu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return uu}function bA(n){return n.composedPath?n.composedPath()[0]:n.target}function wA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ss(n){return Ee((e,t)=>{Vi(n).subscribe(Te(t,()=>t.complete(),si)),!t.closed&&e.subscribe(t)})}class Tte{constructor(e){this._box=e,this._destroyed=new S,this._resizeSubject=new S,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ot(t=>{const r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(eo(t=>t.some(r=>r.target===e)),u0({bufferSize:1,refCount:!0}),Ss(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Dte=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=ke(Ge)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new Tte(i)),this._observers.get(i).observe(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vb(n){return Array.isArray(n)?n:[n]}function tr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function IA(n){return n instanceof xn?n.nativeElement:n}var je=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(je||{});const Ea="*";function TA(n,e){return{type:je.Trigger,name:n,definitions:e,options:{}}}function DA(n,e=null){return{type:je.Animate,styles:e,timings:n}}function du(n){return{type:je.Style,styles:n,offset:null}}function PU(n,e,t){return{type:je.State,name:n,styles:e,options:t}}function Bb(n,e,t=null){return{type:je.Transition,expr:n,animation:e,options:t}}function xte(n=null){return{type:je.AnimateChild,options:n}}function Rte(n,e,t=null){return{type:je.Query,selector:n,animation:e,options:t}}class Wg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let Ote=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({providers:[Ote]})}return n})();function Kg(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function MA(n,e=xm){return Ee((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+n,h=e.now();if(h<u)return i=this.schedule(void 0,u-h),void r.add(i);a()}t.subscribe(Te(r,u=>{s=u,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}const{isArray:Xte}=Array,{getPrototypeOf:Zte,prototype:Jte,keys:ene}=Object;function LU(n){if(1===n.length){const e=n[0];if(Xte(e))return{args:e,keys:null};if(function tne(n){return n&&"object"==typeof n&&Zte(n)===Jte}(e)){const t=ene(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:nne}=Array;function PA(n){return Be(e=>function rne(n,e){return nne(e)?n(...e):n(e)}(n,e))}function VU(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function BU(n,e,t){n?aa(t,n,e):e()}const UU=new Set;let hu,ane=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cne}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function lne(n,e){if(!UU.has(n))try{hu||(hu=document.createElement("style"),e&&(hu.nonce=e),hu.setAttribute("type","text/css"),document.head.appendChild(hu)),hu.sheet&&(hu.sheet.insertRule(`@media ${n} {body{ }}`,0),UU.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(va),B(II,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cne(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let une=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new S}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return jU(Vb(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=function ine(...n){const e=Pm(n),t=lF(n),{args:r,keys:i}=LU(n);if(0===r.length)return Wr([],e);const s=new Ot(function sne(n,e,t=Cr){return r=>{BU(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)BU(e,()=>{const u=Wr(n[l],e);let h=!1;u.subscribe(Te(r,m=>{s[l]=m,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>VU(i,o):Cr));return t?s.pipe(PA(t)):s}(jU(Vb(t)).map(o=>this._registerQuery(o).observable));return s=d0(s.pipe(uh(1)),s.pipe(function one(n){return eo((e,t)=>n<=t)}(1),MA(0))),s.pipe(Be(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Ot(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(dh(r),Be(({matches:o})=>({query:t,matches:o})),Ss(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(r){return new(r||n)(B(ane),B(Ge))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function zU(n,e,t){const r=$U(n,e);t=t.trim();const i=r.filter(s=>s!==t);i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}function $U(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}class qU{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S,this._typeaheadSubscription=vt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new S,this.change=new S,e instanceof gm&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(nF(t=>this._pressedLetters.push(t)),MA(e),eo(()=>this._pressedLetters.length>0),Be(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((i||Kg(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof gm?this._items.toArray():this._items}}class pne extends qU{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}const Ine=new ie("liveAnnouncerElement",{providedIn:"root",factory:function Tne(){return null}}),Dne=new ie("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Cne=0,Sne=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,o;return 1===r.length&&"number"==typeof r[0]?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==o&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+Cne++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const s=r[i],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(r){return new(r||n)(B(Ine,8),B(Ge),B(_n),B(Dne,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(fu||{});const WU="cdk-high-contrast-black-on-white",KU="cdk-high-contrast-white-on-black",NA="cdk-high-contrast-active";let xne=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=ke(une).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return fu.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return fu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return fu.BLACK_ON_WHITE}return fu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(NA,WU,KU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===fu.BLACK_ON_WHITE?t.add(NA,WU):r===fu.WHITE_ON_BLACK&&t.add(NA,KU)}}static#e=this.\u0275fac=function(r){return new(r||n)(B(va),B(_n))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Rne=["text"];function Mne(n,e){if(1&n&&Pt(0,"mat-pseudo-checkbox",6),2&n){const t=cn();Dt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function Pne(n,e){1&n&&Pt(0,"mat-pseudo-checkbox",7),2&n&&Dt("disabled",cn().disabled)}function Nne(n,e){if(1&n&&(oe(0,"span",8),ut(1),le()),2&n){const t=cn();at(),Jd("(",t.group.label,")")}}const kne=[[["mat-icon"]],"*"],One=["mat-icon","*"],Lne=new ie("mat-sanity-checks",{providedIn:"root",factory:function Fne(){return!0}});let Fl=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!wA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(B(xne),B(Lne,8),B(_n))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({imports:[$g,$g]})}return n})();class XU{constructor(e,t,r,i,s){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,t)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}}let zne=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var As=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(As||{});class $ne{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=As.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const ZU=Fb({passive:!0,capture:!0});class qne{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=bA(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,ZU)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,ZU)))}}const JU={enterDuration:225,exitDuration:150},ej=Fb({passive:!0,capture:!0}),tj=["mousedown","touchstart"],nj=["mouseup","mouseleave","touchend","touchcancel"];class Ub{static#e=this._eventManager=new qne;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=IA(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...JU,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function Wne(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,u=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-o+"px",h.style.top=l-o+"px",h.style.height=2*o+"px",h.style.width=2*o+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);const m=window.getComputedStyle(h),y=m.transitionDuration,b="none"===m.transitionProperty||"0s"===y||"0s, 0s"===y||0===i.width&&0===i.height,w=new $ne(this,h,r,b);h.style.transform="scale3d(1, 1, 1)",w.state=As.FADING_IN,r.persistent||(this._mostRecentTransientRipple=w);let I=null;return!b&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const x=()=>this._finishRippleTransition(w),A=()=>this._destroyRipple(w);h.addEventListener("transitionend",x),h.addEventListener("transitioncancel",A),I={onTransitionEnd:x,onTransitionCancel:A}}),this._activeRipples.set(w,I),(b||!u)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(e.state===As.FADING_OUT||e.state===As.HIDDEN)return;const t=e.element,r={...JU,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=As.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=IA(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,tj.forEach(r=>{Ub._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{nj.forEach(t=>{this._triggerElement.addEventListener(t,this,ej)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===As.FADING_IN?this._startFadeOutTransition(e):e.state===As.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=As.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=As.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function bne(n){return 0===n.buttons||0===n.detail}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function wne(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===As.VISIBLE||e.config.terminateOnPointerUp&&e.state===As.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(tj.forEach(t=>Ub._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&nj.forEach(t=>e.removeEventListener(t,this,ej)))}}const Kne=new ie("mat-ripple-global-options");let Yne=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ub(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn),q(Ge),q(va),q(Kne,8),q(wd,8))};static#t=this.\u0275dir=Re({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&Fi("mat-ripple-unbounded",i.unbounded)},inputs:{color:[ge.None,"matRippleColor","color"],unbounded:[ge.None,"matRippleUnbounded","unbounded"],centered:[ge.None,"matRippleCentered","centered"],radius:[ge.None,"matRippleRadius","radius"],animation:[ge.None,"matRippleAnimation","animation"],disabled:[ge.None,"matRippleDisabled","disabled"],trigger:[ge.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),Qne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({imports:[Fl,Fl]})}return n})(),Xne=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(r){return new(r||n)(q(wd,8))};static#t=this.\u0275cmp=xr({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){2&r&&Fi("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[eh],decls:0,vars:0,template:function(r,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Zne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({imports:[Fl]})}return n})();const rj=new ie("MAT_OPTION_PARENT_COMPONENT"),ij=new ie("MatOptgroup");let Jne=0;class ere{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let sj=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,r,i,s){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Jne++,this.onSelectionChange=new Mt,this._stateChanges=new S}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Kg(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ere(this,t))}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn),q(Pd),q(rj,8),q(ij,8))};static#t=this.\u0275cmp=xr({type:n,selectors:[["mat-option"]],viewQuery:function(r,i){if(1&r&&bs(Rne,7),2&r){let s;Rn(s=Mn())&&(i._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){1&r&&Qt("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&r&&(wv("id",i.id),hi("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),Fi("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[ge.HasDecoratorInputTransform,"disabled","disabled",Gr]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[sv,eh],ngContentSelectors:One,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled"],["class","cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(r,i){1&r&&(mm(kne),Vt(0,Mne,1,2,"mat-pseudo-checkbox",0),pi(1),oe(2,"span",1,2),pi(4,1),le(),Vt(5,Pne,1,1,"mat-pseudo-checkbox",3)(6,Nne,2,1,"span",4),Pt(7,"div",5)),2&r&&(dr(0,i.multiple?0:-1),at(5),dr(5,i.multiple||!i.selected||i.hideSingleSelectionIndicator?-1:5),at(),dr(6,i.group&&i.group._inert?6:-1),at(),Dt("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Xne,Yne],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),oj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({imports:[Qne,Fl,Zne]})}return n})();const rre=["notch"],ire=["matFormFieldNotchedOutline",""],sre=["*"],ore=["textField"],are=["iconPrefixContainer"],lre=["textPrefixContainer"];function cre(n,e){1&n&&Pt(0,"span",16)}function ure(n,e){if(1&n&&(oe(0,"label",14),pi(1,1),Vt(2,cre,1,0,"span",15),le()),2&n){const t=cn(2);Dt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),hi("for",t._control.id),at(2),dr(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function dre(n,e){1&n&&Vt(0,ure,3,5,"label",14),2&n&&dr(0,cn()._hasFloatingLabel()?0:-1)}function hre(n,e){1&n&&Pt(0,"div",17)}function fre(n,e){}function pre(n,e){1&n&&Vt(0,fre,0,0,"ng-template",9),2&n&&(cn(2),Dt("ngTemplateOutlet",xv(1)))}function mre(n,e){if(1&n&&(oe(0,"div",5),Vt(1,pre,1,1,null,9),le()),2&n){const t=cn();Dt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),at(),dr(1,t._forceDisplayInfixLabel()?-1:1)}}function gre(n,e){1&n&&(oe(0,"div",18,19),pi(2,2),le())}function _re(n,e){1&n&&(oe(0,"div",20,21),pi(2,3),le())}function yre(n,e){}function vre(n,e){1&n&&Vt(0,yre,0,0,"ng-template",9),2&n&&(cn(),Dt("ngTemplateOutlet",xv(1)))}function Ere(n,e){1&n&&(oe(0,"div",22),pi(1,4),le())}function bre(n,e){1&n&&(oe(0,"div",23),pi(1,5),le())}function wre(n,e){1&n&&Pt(0,"div",12)}function Ire(n,e){1&n&&(oe(0,"div",24),pi(1,6),le()),2&n&&Dt("@transitionMessages",cn()._subscriptAnimationState)}function Tre(n,e){if(1&n&&(oe(0,"mat-hint",26),ut(1),le()),2&n){const t=cn(2);Dt("id",t._hintLabelId),at(),_m(t.hintLabel)}}function Dre(n,e){if(1&n&&(oe(0,"div",25),Vt(1,Tre,2,2,"mat-hint",26),pi(2,7),Pt(3,"div",27),pi(4,8),le()),2&n){const t=cn();Dt("@transitionMessages",t._subscriptAnimationState),at(),dr(1,t.hintLabel?1:-1)}}const Cre=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Sre=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let kA=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Re({type:n,selectors:[["mat-label"]],standalone:!0})}return n})();const Are=new ie("MatError");let xre=0,aj=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+xre++}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Re({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(wv("id",i.id),hi("align",null),Fi("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const Rre=new ie("MatPrefix"),Mre=new ie("MatSuffix"),lj=new ie("FloatingLabelParent");let cj=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=ke(Dte),this._ngZone=ke(Ge),this._parent=ke(lj),this._resizeSubscription=new vt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Pre(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn))};static#t=this.\u0275dir=Re({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&Fi("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const uj="mdc-line-ripple--active",jb="mdc-line-ripple--deactivating";let dj=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const s=this._elementRef.nativeElement.classList,o=s.contains(jb);"opacity"===i.propertyName&&o&&s.remove(uj,jb)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(jb),t.add(uj)}deactivate(){this._elementRef.nativeElement.classList.add(jb)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn),q(Ge))};static#t=this.\u0275dir=Re({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),hj=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn),q(Ge))};static#t=this.\u0275cmp=xr({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&bs(rre,5),2&r){let s;Rn(s=Mn())&&(i._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&Fi("mdc-notched-outline--notched",i.open)},inputs:{open:[ge.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[eh],attrs:ire,ngContentSelectors:sre,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(mm(),Pt(0,"div",0),oe(1,"div",1,2),pi(3),le(),Pt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const Nre={transitionMessages:TA("transitionMessages",[PU("enter",du({opacity:1,transform:"translateY(0%)"})),Bb("void => enter",[du({opacity:0,transform:"translateY(-5px)"}),DA("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Re({type:n})}return n})();const pj=new ie("MatFormField"),kre=new ie("MAT_FORM_FIELD_DEFAULT_OPTIONS");let mj=0,Lre=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=function Cte(n){return null!=n&&"false"!=`${n}`}(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,s,o,a,l,u){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+mj++,this._hintLabelId="mat-mdc-hint-"+mj++,this._subscriptAnimationState="",this._destroyed=new S,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ss(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ch(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ss(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ss(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,o=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn),q(Pd),q(Ge),q(Ob),q(va),q(kre,8),q(wd,8),q(_n))};static#t=this.\u0275cmp=xr({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,s){if(1&r&&(Xs(s,kA,5),Xs(s,kA,7),Xs(s,fj,5),Xs(s,Rre,5),Xs(s,Mre,5),Xs(s,Are,5),Xs(s,aj,5)),2&r){let o;Rn(o=Mn())&&(i._labelChildNonStatic=o.first),Rn(o=Mn())&&(i._labelChildStatic=o.first),Rn(o=Mn())&&(i._formFieldControl=o.first),Rn(o=Mn())&&(i._prefixChildren=o),Rn(o=Mn())&&(i._suffixChildren=o),Rn(o=Mn())&&(i._errorChildren=o),Rn(o=Mn())&&(i._hintChildren=o)}},viewQuery:function(r,i){if(1&r&&(bs(ore,5),bs(are,5),bs(lre,5),bs(cj,5),bs(hj,5),bs(dj,5)),2&r){let s;Rn(s=Mn())&&(i._textField=s.first),Rn(s=Mn())&&(i._iconPrefixContainer=s.first),Rn(s=Mn())&&(i._textPrefixContainer=s.first),Rn(s=Mn())&&(i._floatingLabel=s.first),Rn(s=Mn())&&(i._notchedOutline=s.first),Rn(s=Mn())&&(i._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&Fi("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[tn([{provide:pj,useExisting:n},{provide:lj,useExisting:n}]),eh],ngContentSelectors:Sre,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r&&(mm(Cre),Vt(0,dre,1,1,"ng-template",null,0,aO),oe(2,"div",1,2),Qt("click",function(o){return i._control.onContainerClick(o)}),Vt(4,hre,1,0,"div",3),oe(5,"div",4),Vt(6,mre,2,2,"div",5)(7,gre,3,0,"div",6)(8,_re,3,0,"div",7),oe(9,"div",8),Vt(10,vre,1,1,null,9),pi(11),le(),Vt(12,Ere,2,0,"div",10)(13,bre,2,0,"div",11),le(),Vt(14,wre,1,0,"div",12),le(),oe(15,"div",13),Vt(16,Ire,2,1)(17,Dre,5,2),le()),2&r){let s;at(2),Fi("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),at(2),dr(4,i._hasOutline()||i._control.disabled?-1:4),at(2),dr(6,i._hasOutline()?6:-1),at(),dr(7,i._hasIconPrefix?7:-1),at(),dr(8,i._hasTextPrefix?8:-1),at(2),dr(10,!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),at(2),dr(12,i._hasTextSuffix?12:-1),at(),dr(13,i._hasIconSuffix?13:-1),at(),dr(14,i._hasOutline()?-1:14),at(),Fi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),at(),dr(16,"error"===(s=i._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[cj,hj,k1,dj,aj],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Nre.transitionMessages]},changeDetection:0})}return n})(),yj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({imports:[Fl,HD,Fte,Fl]})}return n})();const Vre=["addListener","removeListener"],Bre=["addEventListener","removeEventListener"],Ure=["on","off"];function OA(n,e,t,r){if(xe(t)&&(r=t,t=void 0),r)return OA(n,e,t).pipe(PA(r));const[i,s]=function zre(n){return xe(n.addEventListener)&&xe(n.removeEventListener)}(n)?Bre.map(o=>a=>n[o](e,a,t)):function jre(n){return xe(n.addListener)&&xe(n.removeListener)}(n)?Vre.map(vj(n,e)):function Hre(n){return xe(n.on)&&xe(n.off)}(n)?Ure.map(vj(n,e)):[];if(!i&&o0(n))return a0(o=>OA(o,e,t))(Vi(n));if(!i)throw new TypeError("Invalid event target");return new Ot(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function vj(n,e){return t=>r=>n[t](e,r)}const Qg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Qg;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new vt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Qg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Qg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class qre extends lE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class $re extends aE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Qg.cancelAnimationFrame(t),e._scheduled=void 0)}});let FA,Wre=1;const Hb={};function Ej(n){return n in Hb&&(delete Hb[n],!0)}const Kre={setImmediate(n){const e=Wre++;return Hb[e]=!0,FA||(FA=Promise.resolve()),FA.then(()=>Ej(e)&&n()),e},clearImmediate(n){Ej(n)}},{setImmediate:Yre,clearImmediate:Qre}=Kre,zb={setImmediate(...n){const{delegate:e}=zb;return(e?.setImmediate||Yre)(...n)},clearImmediate(n){const{delegate:e}=zb;return(e?.clearImmediate||Qre)(n)},delegate:void 0};new class Zre extends lE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Xre extends aE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=zb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(zb.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function bj(n,e=xm){return function eie(n){return Ee((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const u=i;i=null,t.next(u)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Te(t,u=>{r=!0,i=u,s||Vi(n(u)).subscribe(s=Te(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function nie(n=0,e,t=GK){let r=-1;return null!=e&&(aF(e)?t=e:r=e),new Ot(i=>{let s=function tie(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let iie=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ot(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(bj(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):To()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(eo(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=IA(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>OA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(B(Ge),B(va),B(_n,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LA=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new S,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bj(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(B(va),B(Ge),B(_n,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VA=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({})}return n})(),wj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({imports:[$g,VA,$g,VA]})}return n})();class BA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class aie extends BA{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class Ij extends BA{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class lie extends BA{constructor(e){super(),this.element=e instanceof xn?e.nativeElement:e}}class cie{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof aie?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Ij?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof lie?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class uie extends cie{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||ki.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let die=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({})}return n})();const Tj=wte();class hie{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=tr(-this._previousScrollPosition.left),e.style.top=tr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Tj&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Tj&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class fie{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(eo(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Dj{enable(){}disable(){}attach(){}}function UA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Cj(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class pie{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();UA(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let mie=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Dj,this.close=o=>new fie(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new hie(this._viewportRuler,this._document),this.reposition=o=>new pie(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(r){return new(r||n)(B(iie),B(LA),B(Ge),B(_n))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Sj{constructor(e){if(this.scrollStrategy=new Dj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class gie{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Aj=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_ie=(()=>{class n extends Aj{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n),B(Ge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yie=(()=>{class n extends Aj{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=bA(s)},this._clickListener=s=>{const o=bA(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){const h=l[u];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(o)||h.overlayElement.contains(a))break;const m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n),B(va),B(Ge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xj=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||wA()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),wA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n),B(va))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class vie{constructor(e,t,r,i,s,o,a,l,u,h=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=vt.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new S,this._outsidePointerEvents=new S,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(uh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=tr(this._config.width),e.height=tr(this._config.height),e.minWidth=tr(this._config.minWidth),e.minHeight=tr(this._config.minHeight),e.maxWidth=tr(this._config.maxWidth),e.maxHeight=tr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Vb(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ss(ch(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Rj="cdk-overlay-connected-position-bounding-box",Eie=/([A-Za-z%]+)$/;class bie{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=vt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Rj),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(u,t,r,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,u,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:u,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const u of s){const h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>l&&(l=h,a=u)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=Pj(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),u=this._getOffset(i,"y");l&&(o+=l),u&&(a+=u);let g=0-a,y=a+s.height-r.height,b=this._subtractOverflows(s.width,0-o,o+s.width-r.width),w=this._subtractOverflows(s.height,g,y),I=b*w;return{visibleArea:I,isCompletelyWithinViewport:s.width*s.height===I,fitsInViewportVertically:w===s.height,fitsInViewportHorizontally:b==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=Mj(this._overlayRef.getConfig().minHeight),a=Mj(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=Pj(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),u=Math.max(s.left-r.left-e.x,0);let h=0,m=0;return h=i.width<=s.width?u||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,m=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:h,y:m},{x:e.x+h,y:e.y+m}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new gie(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,h,m,g;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const y=Math.min(r.bottom-e.y+r.top,e.y),b=this._lastBoundingBoxSize.height;s=2*y,o=e.y-y,s>b&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-b/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)g=r.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)m=e.x,h=r.right-e.x;else{const y=Math.min(r.right-e.x+r.left,e.x),b=this._lastBoundingBoxSize.width;h=2*y,m=e.x-y,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(m=e.x-b/2)}return{top:o,left:m,bottom:a,right:g,width:h,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=tr(r.height),i.top=tr(r.top),i.bottom=tr(r.bottom),i.width=tr(r.width),i.left=tr(r.left),i.right=tr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=tr(s)),o&&(i.maxWidth=tr(o))}this._lastBoundingBoxSize=r,pu(this._boundingBox.style,i)}_resetBoundingBoxStyles(){pu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const h=this._viewportRuler.getViewportScrollPosition();pu(r,this._getExactOverlayY(t,e,h)),pu(r,this._getExactOverlayX(t,e,h))}else r.position="static";let a="",l=this._getOffset(t,"x"),u=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=tr(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=tr(o.maxWidth):s&&(r.maxWidth="")),pu(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=tr(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=tr(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Cj(e,r),isOriginOutsideView:UA(e,r),isOverlayClipped:Cj(t,r),isOverlayOutsideView:UA(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Vb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof xn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function pu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Mj(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Eie);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Pj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Nj="cdk-global-overlay-wrapper";class wie{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Nj),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,m=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",b="",w="";l?w="flex-start":"center"===h?(w="center",g?b=m:y=m):g?"left"===h||"end"===h?(w="flex-end",y=m):("right"===h||"start"===h)&&(w="flex-start",b=m):"left"===h||"start"===h?(w="flex-start",y=m):("right"===h||"end"===h)&&(w="flex-end",b=m),e.position=this._cssPosition,e.marginLeft=l?"0":y,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":b,t.justifyContent=w,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Nj),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Iie=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new wie}flexibleConnectedTo(t){return new bie(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(B(LA),B(_n),B(va),B(xj))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tie=0,rf=(()=>{class n{constructor(t,r,i,s,o,a,l,u,h,m,g,y){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=u,this._directionality=h,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new Sj(t);return o.direction=o.direction||this._directionality.value,new vie(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Tie++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Oc)),new uie(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(B(mie),B(xj),B(qp),B(Iie),B(_ie),B(ki),B(Ge),B(_n),B(Ob),B(y1),B(yie),B(wd,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Die=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],kj=new ie("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=ke(rf);return()=>n.scrollStrategies.reposition()}});let jA=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(r){return new(r||n)(q(xn))};static#t=this.\u0275dir=Re({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),Oj=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,r,i,s,o){this._overlay=t,this._dir=o,this._backdropSubscription=vt.EMPTY,this._attachSubscription=vt.EMPTY,this._detachSubscription=vt.EMPTY,this._positionSubscription=vt.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Mt,this.positionChange=new Mt,this.attach=new Mt,this.detach=new Mt,this.overlayKeydown=new Mt,this.overlayOutsideClick=new Mt,this._templatePortal=new Ij(r,i),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Die);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Kg(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Sj({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof jA?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function oie(n,e=!1){return Ee((t,r)=>{let i=0;t.subscribe(Te(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(q(rf),q(bo),q(Ks),q(kj),q(Ob,8))};static#t=this.\u0275dir=Re({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[ge.None,"cdkConnectedOverlayOrigin","origin"],positions:[ge.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[ge.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[ge.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[ge.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[ge.None,"cdkConnectedOverlayWidth","width"],height:[ge.None,"cdkConnectedOverlayHeight","height"],minWidth:[ge.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[ge.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[ge.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[ge.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[ge.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[ge.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[ge.None,"cdkConnectedOverlayOpen","open"],disableClose:[ge.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[ge.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Gr],lockPosition:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",Gr],flexibleDimensions:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Gr],growAfterOpen:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Gr],push:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",Gr],disposeOnNavigation:[ge.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Gr]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[sv,ci]})}return n})();const Sie={provide:kj,deps:[rf],useFactory:function Cie(n){return()=>n.scrollStrategies.reposition()}};let Aie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({providers:[rf,Sie],imports:[$g,die,wj,wj]})}return n})();class Mie{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!r.has(this._getConcreteValue(s,r))).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}return e}}let Fj=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(q(Cc),q(xn))};static#t=this.\u0275dir=Re({type:n})}return n})(),mu=(()=>{class n extends Fj{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yr(n)))(i||n)}})();static#t=this.\u0275dir=Re({type:n,features:[Ht]})}return n})();const Oo=new ie(""),Nie={provide:Oo,useExisting:qt(()=>HA),multi:!0};let HA=(()=>{class n extends mu{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yr(n)))(i||n)}})();static#t=this.\u0275dir=Re({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Qt("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[tn([Nie]),Ht]})}return n})();const kie={provide:Oo,useExisting:qt(()=>Xg),multi:!0},Fie=new ie("");let Xg=(()=>{class n extends Fj{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oie(){const n=hl()?hl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(q(Cc),q(xn),q(Fie,8))};static#t=this.\u0275dir=Re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Qt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[tn([kie]),Ht]})}return n})();function Vl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Lj(n){return null!=n&&"number"==typeof n.length}const Jr=new ie(""),Bl=new ie(""),Lie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wi{static min(e){return function Vj(n){return e=>{if(Vl(e.value)||Vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Bj(n){return e=>{if(Vl(e.value)||Vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Uj(n){return Vl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function jj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Hj(n){return Vl(n.value)||Lie.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function zj(n){return e=>Vl(e.value)||!Lj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function $j(n){return e=>Lj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function qj(n){if(!n)return $b;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Vl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Xj(e)}static composeAsync(e){return Zj(e)}}function $b(n){return null}function Gj(n){return null!=n}function Wj(n){return Sv(n)?Wr(n):n}function Kj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Yj(n,e){return e.map(t=>t(n))}function Qj(n){return n.map(e=>function Vie(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xj(n){if(!n)return null;const e=n.filter(Gj);return 0==e.length?null:function(t){return Kj(Yj(t,e))}}function zA(n){return null!=n?Xj(Qj(n)):null}function Zj(n){if(!n)return null;const e=n.filter(Gj);return 0==e.length?null:function(t){return function Pie(...n){const e=lF(n),{args:t,keys:r}=LU(n),i=new Ot(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let h=0;h<o;h++){let m=!1;Vi(t[h]).subscribe(Te(s,g=>{m||(m=!0,u--),a[h]=g},()=>l--,void 0,()=>{(!l||!m)&&(u||s.next(r?VU(r,a):a),s.complete())}))}});return e?i.pipe(PA(e)):i}(Yj(t,e).map(Wj)).pipe(Be(Kj))}}function $A(n){return null!=n?Zj(Qj(n)):null}function Jj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eH(n){return n._rawValidators}function tH(n){return n._rawAsyncValidators}function qA(n){return n?Array.isArray(n)?n:[n]:[]}function qb(n,e){return Array.isArray(n)?n.includes(e):n===e}function nH(n,e){const t=qA(e);return qA(n).forEach(i=>{qb(t,i)||t.push(i)}),t}function rH(n,e){return qA(e).filter(t=>!qb(n,t))}class iH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ii extends iH{get formDirective(){return null}get path(){return null}}class ba extends iH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GA=(()=>{class n extends sH{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(q(ba,2))};static#t=this.\u0275dir=Re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Fi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ht]})}return n})(),WA=(()=>{class n extends sH{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(q(Ii,10))};static#t=this.\u0275dir=Re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Fi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ht]})}return n})();const Zg="VALID",Wb="INVALID",sf="PENDING",Jg="DISABLED";function QA(n){return(Kb(n)?n.validators:n)||null}function XA(n,e){return(Kb(e)?e.asyncValidators:n)||null}function Kb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function aH(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function lH(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new U(1002,"")})}class Yb{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zg}get invalid(){return this.status===Wb}get pending(){return this.status==sf}get disabled(){return this.status===Jg}get enabled(){return this.status!==Jg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rH(e,this._rawAsyncValidators))}hasValidator(e){return qb(this._rawValidators,e)}hasAsyncValidator(e){return qb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zg||this.status===sf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jg:Zg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sf,this._hasOwnPendingAsyncValidator=!0;const t=Wj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?Jg:this.errors?Wb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sf)?sf:this._anyControlsHaveStatus(Wb)?Wb:Zg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Hie(n){return Array.isArray(n)?zA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zie(n){return Array.isArray(n)?$A(n):n||null}(this._rawAsyncValidators)}}class e_ extends Yb{constructor(e,t,r){super(QA(t),XA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){lH(this,0,e),Object.keys(e).forEach(r=>{aH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class cH extends e_{}const af=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>Qb}),Qb="always";function t_(n,e,t=Qb){ZA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function qie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&uH(n,e)})}(n,e),function Wie(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Gie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&uH(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $ie(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Zb(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ew(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZA(n,e){const t=eH(n);null!==e.validator?n.setValidators(Jj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=tH(n);null!==e.asyncValidator?n.setAsyncValidators(Jj(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Jb(e._rawValidators,i),Jb(e._rawAsyncValidators,i)}function ew(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=eH(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=tH(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Jb(e._rawValidators,r),Jb(e._rawAsyncValidators,r),t}function uH(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dH(n,e){ZA(n,e)}function hH(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Zie={provide:Ii,useExisting:qt(()=>tw)},n_=Promise.resolve();let tw=(()=>{class n extends Ii{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Mt,this.form=new e_({},zA(t),$A(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){n_.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),t_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){n_.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){n_.then(()=>{const r=this._findContainer(t.path),i=new e_({});dH(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){n_.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){n_.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,hH(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(q(Jr,10),q(Bl,10),q(af,8))};static#t=this.\u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Qt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[ge.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tn([Zie]),Ht]})}return n})();function fH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function pH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const r_=class extends Yb{constructor(e=null,t,r){super(QA(t),XA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pH(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};Promise.resolve();let nx=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const nse={provide:Oo,useExisting:qt(()=>nw),multi:!0};let nw=(()=>{class n extends mu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yr(n)))(i||n)}})();static#t=this.\u0275dir=Re({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Qt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[tn([nse]),Ht]})}return n})();const rx=new ie(""),ase={provide:Ii,useExisting:qt(()=>lf)};let lf=(()=>{class n extends Ii{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ew(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return t_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Zb(t.control||null,t,!1),function Xie(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,hH(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Zb(r||null,t),(n=>n instanceof r_)(i)&&(t_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);dH(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Kie(n,e){return ew(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZA(this.form,this),this._oldForm&&ew(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(q(Jr,10),q(Bl,10),q(af,8))};static#t=this.\u0275dir=Re({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Qt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[ge.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tn([ase]),Ht,ci]})}return n})();const use={provide:ba,useExisting:qt(()=>rw)};let rw=(()=>{class n extends ba{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Mt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Xg?t=s:function Qie(n){return Object.getPrototypeOf(n.constructor)===mu}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function ex(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Xb(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(q(Ii,13),q(Jr,10),q(Bl,10),q(Oo,10),q(rx,8))};static#n=this.\u0275dir=Re({type:n,selectors:[["","formControlName",""]],inputs:{name:[ge.None,"formControlName","name"],isDisabled:[ge.None,"disabled","isDisabled"],model:[ge.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[tn([use]),Ht,ci]})}return n})(),Dse=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({})}return n})();class kH extends Yb{constructor(e,t,r){super(QA(t),XA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){lH(this,0,e),e.forEach((r,i)=>{aH(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function OH(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let FH=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return OH(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new e_(i,s)}record(t,r=null){const i=this._reduceControls(t);return new cH(i,r)}control(t,r,i){let s={};return this.useNonNullable?(OH(r)?s=r:(s.validators=r,s.asyncValidators=i),new r_(t,{...s,nonNullable:!0})):new r_(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new kH(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof r_||t instanceof Yb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cse=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:af,useValue:t.callSetDisabledState??Qb}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({imports:[Dse]})}return n})();const Ase=["trigger"],xse=["panel"];function Rse(n,e){if(1&n&&(oe(0,"span",9),ut(1),le()),2&n){const t=cn();at(),_m(t.placeholder)}}function Mse(n,e){1&n&&pi(0)}function Pse(n,e){if(1&n&&(oe(0,"span",11),ut(1),le()),2&n){const t=cn(2);at(),_m(t.triggerValue)}}function Nse(n,e){if(1&n&&(oe(0,"span",10),Vt(1,Mse,1,0)(2,Pse,2,1),le()),2&n){const t=cn();at(),dr(1,t.customTrigger?1:2)}}function kse(n,e){if(1&n){const t=cm();qa(),function ip(){!function sp(){Le.lFrame.currentNamespace=null}()}(),oe(0,"div",12,13),Qt("@transformPanel.done",function(i){return gs(t),fo(cn()._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){return gs(t),fo(cn()._handleKeydown(i))}),pi(2,1),le()}if(2&n){const t=cn();xN("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),Dt("ngClass",t.panelClass)("@transformPanel","showing"),hi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Ose=[[["mat-select-trigger"]],"*"],Fse=["mat-select-trigger","*"],Lse={transformPanelWrap:TA("transformPanelWrap",[Bb("* => void",Rte("@transformPanel",[xte()],{optional:!0}))]),transformPanel:TA("transformPanel",[PU("void",du({opacity:0,transform:"scale(1, 0.8)"})),Bb("void => showing",DA("120ms cubic-bezier(0, 0, 0.2, 1)",du({opacity:1,transform:"scale(1, 1)"}))),Bb("* => void",DA("100ms linear",du({opacity:0})))])};let LH=0;const VH=new ie("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=ke(rf);return()=>n.scrollStrategies.reposition()}}),Bse=new ie("MAT_SELECT_CONFIG"),Use={provide:VH,deps:[rf],useFactory:function Vse(n){return()=>n.scrollStrategies.reposition()}},jse=new ie("MatSelectTrigger");class Hse{constructor(e,t){this.source=e,this.value=t}}let zse=(()=>{class n{_scrollOptionIntoView(t){const r=this.options.toArray()[t];if(r){const i=this.panel.nativeElement,s=function tre(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),s=0;for(let o=0;o<n+1;o++)r[o].group&&r[o].group===i[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),o=r._getHostElement();i.scrollTop=0===t&&1===s?0:function nre(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}(o.offsetTop,o.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new Hse(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(wi.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,i,s,o,a,l,u,h,m,g,y,b,w){this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._elementRef=o,this._dir=a,this._parentFormField=h,this.ngControl=m,this._liveAnnouncer=b,this._defaultOptions=w,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(I,x)=>I===x,this._uid="mat-select-"+LH++,this._triggerAriaLabelledBy=null,this._destroy=new S,this.stateChanges=new S,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+LH++,this._panelDoneAnimatingStream=new S,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this.optionSelectionChanges=function Sse(n){return new Ot(e=>{Vi(n()).subscribe(e)})}(()=>{const I=this.options;return I?I.changes.pipe(dh(I),Ts(()=>ch(...I.map(x=>x.onSelectionChange)))):this._ngZone.onStable.pipe(uh(1),Ts(()=>this.optionSelectionChanges))}),this.openedChange=new Mt,this._openedStream=this.openedChange.pipe(eo(I=>I),Be(()=>{})),this._closedStream=this.openedChange.pipe(eo(I=>!I),Be(()=>{})),this.selectionChange=new Mt,this.valueChange=new Mt,this._trackedModal=null,this._skipPredicate=I=>!this.panelOpen&&I.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=w?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=w.typeaheadDebounceInterval),this._errorStateTracker=new XU(s,m,u,l,this.stateChanges),this._scrollStrategyFactory=y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Mie(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(RF(),Ss(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ss(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ss(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(dh(null),Ss(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const r=`${this.id}-panel`;this._trackedModal&&zU(this._trackedModal,"aria-owns",r),function dne(n,e,t){const r=$U(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(" ")))}(t,"aria-owns",r),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(zU(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,s=13===r||32===r,o=this._keyManager;if(!o.isTyping()&&s&&!Kg(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(t);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,s=40===i||38===i,o=r.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==i&&32!==i||!r.activeItem||Kg(t))if(!o&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=r.activeItemIndex;r.onKeydown(t),this._multiple&&s&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==a&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(uh(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof jA?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new pne(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=ch(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ss(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ch(...this.options.map(r=>r._stateChanges)).pipe(Ss(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){t=r;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(r){return new(r||n)(q(LA),q(Pd),q(Ge),q(zne),q(xn),q(Ob,8),q(tw,8),q(lf,8),q(pj,8),q(ba,10),function fd(n){return function oI(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Vu(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Lt(),n)}("tabindex"),q(VH),q(Sne),q(Bse,8))};static#t=this.\u0275cmp=xr({type:n,selectors:[["mat-select"]],contentQueries:function(r,i,s){if(1&r&&(Xs(s,jse,5),Xs(s,sj,5),Xs(s,ij,5)),2&r){let o;Rn(o=Mn())&&(i.customTrigger=o.first),Rn(o=Mn())&&(i.options=o),Rn(o=Mn())&&(i.optionGroups=o)}},viewQuery:function(r,i){if(1&r&&(bs(Ase,5),bs(xse,5),bs(Oj,5)),2&r){let s;Rn(s=Mn())&&(i.trigger=s.first),Rn(s=Mn())&&(i.panel=s.first),Rn(s=Mn())&&(i._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){1&r&&Qt("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&r&&(hi("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),Fi("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[ge.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[ge.HasDecoratorInputTransform,"disabled","disabled",Gr],disableRipple:[ge.HasDecoratorInputTransform,"disableRipple","disableRipple",Gr],tabIndex:[ge.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:f1(t)],hideSingleSelectionIndicator:[ge.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Gr],placeholder:"placeholder",required:[ge.HasDecoratorInputTransform,"required","required",Gr],multiple:[ge.HasDecoratorInputTransform,"multiple","multiple",Gr],disableOptionCentering:[ge.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",Gr],compareWith:"compareWith",value:"value",ariaLabel:[ge.None,"aria-label","ariaLabel"],ariaLabelledby:[ge.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[ge.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",f1],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[tn([{provide:fj,useExisting:n},{provide:rj,useExisting:n}]),sv,ci,eh],ngContentSelectors:Fse,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(r,i){if(1&r&&(mm(Ose),oe(0,"div",0,1),Qt("click",function(){return i.open()}),oe(3,"div",2),Vt(4,Rse,2,1,"span",3)(5,Nse,3,1),le(),oe(6,"div",4)(7,"div",5),qa(),oe(8,"svg",6),Pt(9,"path",7),le()()()(),Vt(10,kse,3,9,"ng-template",8),Qt("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&r){const s=xv(1);at(3),hi("id",i._valueId),at(),dr(4,i.empty?4:5),at(6),Dt("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[jA,Oj,x1],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Lse.transformPanel]},changeDetection:0})}return n})(),$se=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({providers:[Use],imports:[HD,Aie,oj,Fl,VA,yj,oj,Fl]})}return n})();const qse=n=>({"background-color":n});function Gse(n,e){if(1&n){const t=cm();oe(0,"td",4)(1,"span",5),Qt("click",function(){const s=gs(t).$implicit;return fo(cn(2).openModal(s))}),ut(2),le()()}if(2&n){const t=e.$implicit;Dt("ngStyle",Mv(2,qse,t.isBooked?"grey":"lightcoral")),at(2),Jd(" ",(null==t?null:t.floorNo)+"-"+(null==t?null:t.flatNo)," ")}}function Wse(n,e){if(1&n&&(Ev(0),oe(1,"tr"),Vt(2,Gse,3,4,"td",3),le(),bv()),2&n){const t=e.$implicit;at(2),Dt("ngForOf",t)}}let Kse=(()=>{class n{constructor(){this.myEventEmitter=new Mt,this.showDefaultMessage=!1,this.actualGrids=[],this.currentPage=0,this.data=[],this.squareData=[],this.rows=6,this.columns=6}ngOnInit(){}ngOnChanges(t){this.generateSquareData(this.apartment?.floors,this.apartment?.apartmentPerFloor)}generateSquareData(t,r){this.squareData=[];for(let i=0;i<=t;i++){this.squareData[i]=[];for(let s=0;s<=r;s++)this.apartment.flats?.forEach(o=>{o.floorNo===i&&o.flatNo===s&&(this.squareData[i-1][s-1]=o)})}}prevPage(){this.currentPage>0&&this.currentPage--}nextPage(){this.currentPage<this.actualGrids.length-1&&this.currentPage++}resetTable(){this.currentPage=0,this.actualGrids=[],this.floors=0,this.flats=0}openModal(t){t.isBooked?alert("already booked"):this.myEventEmitter.emit(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=xr({type:n,selectors:[["grid"]],inputs:{apartment:"apartment"},outputs:{myEventEmitter:"myEventEmitter"},features:[ci],decls:4,vars:1,consts:[[1,"scrollable-container"],[1,"scrollable-content"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"click"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"div",1)(2,"table"),Vt(3,Wse,3,1,"ng-container",2),le()()()),2&r&&(at(3),Dt("ngForOf",i.squareData))},dependencies:[LD,nE],styles:["table[_ngcontent-%COMP%]{border:none}td[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:100%;text-align:center;vertical-align:middle;margin:20px;border:10px solid aliceblue;font:14px}"]})}return n})();class Yse{constructor(){}}const Qse=n=>({display:n});function Xse(n,e){if(1&n){const t=cm();oe(0,"div",1)(1,"div",2)(2,"span",3),ut(3," Customer Details"),le(),oe(4,"form",4),Qt("ngSubmit",function(i){return gs(t),fo(cn().submitForm(i))}),oe(5,"div",5)(6,"label",6),ut(7,"Customer Name:"),le(),oe(8,"div",7),Pt(9,"input",8),le()(),oe(10,"div",5)(11,"label",9),ut(12,"Booking Date:"),le(),oe(13,"div",7),Pt(14,"input",10),le()(),oe(15,"div",5)(16,"label",11),ut(17,"Agreement Date:"),le(),oe(18,"div",7),Pt(19,"input",12),le()(),oe(20,"div",5)(21,"label",13),ut(22,"Email:"),le(),oe(23,"div",7),Pt(24,"input",14),le()(),oe(25,"div",5)(26,"label",15),ut(27,"Contact Number:"),le(),oe(28,"div",7),Pt(29,"input",16),le()(),oe(30,"div",5)(31,"div",17),ut(32,"Opted For Parking:"),le(),oe(33,"div",7)(34,"div",18),Pt(35,"input",19),oe(36,"label",20),ut(37,"Yes"),le()()()(),oe(38,"div",5)(39,"label",21),ut(40,"Sq. Ft. Rate:"),le(),oe(41,"div",7),Pt(42,"input",22),le()(),oe(43,"div",5)(44,"label",23),ut(45,"Development Fees:"),le(),oe(46,"div",7),Pt(47,"input",24),le()(),oe(48,"div",5)(49,"label",25),ut(50,"Parking Fees:"),le(),oe(51,"div",7),Pt(52,"input",26),le()(),oe(53,"div",5)(54,"label",27),ut(55,"Booking Amount :"),le(),oe(56,"div",7),Pt(57,"input",28),le()(),oe(58,"div",5),Pt(59,"div",29),oe(60,"div",30)(61,"button",31),Qt("click",function(){return gs(t),fo(cn().closeModal())}),ut(62,"Cancel"),le()(),oe(63,"div",32)(64,"button",33),ut(65," Book Now "),le()()()()()()}if(2&n){const t=cn();Dt("ngStyle",Mv(3,Qse,t.modalDisplayStyle)),at(4),Dt("formGroup",t.customerDataForm),at(60),Dt("disabled",t.customerDataForm.invalid)}}let Zse=(()=>{class n{constructor(t){this.fb=t,this.modalReset=new Mt}ngOnChanges(t){}ngOnInit(){this.customerDataForm=this.fb.group({customerName:["",wi.required],bookingDate:["",wi.required],agreementDate:["",wi.required],emailId:["",[wi.required,wi.email]],contactNumber:["",wi.required],optedForParking:[!1],squareFeetRate:["",wi.required],developmentFees:["",wi.required],parkingFees:["",wi.required],bookingAmount:["",wi.required]})}fetchApartmentDetails(){this.showModal=!0}submitForm(t){if(t.preventDefault(),this.customerDataForm.valid){const i=this.customerDataForm.value;var r=new Yse;r.customerName=i.customerName,r.agreementDate=i.agreementDate,r.bookingAmount=i.bookingAmount,r.bookingDate=i.bookingDate,r.parkingOpted=i.optedForParking,r.bookingAmount=i.bookingAmount,this.modalReset.emit(r)}this.showModal=!1}closeModal(){this.showModal=!1,this.modalReset.emit()}get modalDisplayStyle(){return this.showModal?"block":"none"}static#e=this.\u0275fac=function(r){return new(r||n)(q(FH))};static#t=this.\u0275cmp=xr({type:n,selectors:[["app-modal-user"]],inputs:{showModal:"showModal"},outputs:{modalReset:"modalReset"},features:[ci],decls:1,vars:1,consts:[["class","modal",3,"ngStyle",4,"ngIf"],[1,"modal",3,"ngStyle"],[1,"modal-content"],[2,"text-align","center","font-size","24px","padding-bottom","15px"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","customerName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","customerName","placeholder","Customer Name","formControlName","customerName",1,"form-control"],["for","bookingDate",1,"col-sm-4","col-form-label"],["type","date","id","bookingDate","placeholder","Booking Date","formControlName","bookingDate",1,"form-control"],["for","agreementDate",1,"col-sm-4","col-form-label"],["type","date","id","agreementDate","placeholder","Agreement Date","formControlName","agreementDate",1,"form-control"],["for","emailId",1,"col-sm-4","col-form-label"],["type","email","id","emailId","placeholder","Email","formControlName","emailId",1,"form-control"],["for","contactNumber",1,"col-sm-4","col-form-label"],["type","tel","id","contactNumber","placeholder","Contact Number","formControlName","contactNumber",1,"form-control"],[1,"col-sm-4"],[1,"form-check"],["type","checkbox","id","optedForParking","formControlName","optedForParking",1,"form-check-input"],["for","optedForParking",1,"form-check-label"],["for","squareFeetRate",1,"col-sm-4","col-form-label"],["type","number","id","squareFeetRate","placeholder","Sq. Ft. Rate","formControlName","squareFeetRate",1,"form-control"],["for","developmentFees",1,"col-sm-4","col-form-label"],["type","number","id","developmentFees","placeholder","Development Fees","formControlName","developmentFees",1,"form-control"],["for","parkingFees",1,"col-sm-4","col-form-label"],["type","number","id","parkingFees","placeholder","Parking Fees","formControlName","parkingFees",1,"form-control"],["for","bookingAmount",1,"col-sm-4","col-form-label"],["type","number","id","bookingAmount","placeholder","Booking Amout","formControlName","bookingAmount",1,"form-control"],[1,"col-7"],[1,"col-sm-2"],[1,"btn","btn-danger",3,"click"],[1,"col-sm-3"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,i){1&r&&Vt(0,Xse,66,5,"div",0),2&r&&Dt("ngIf",i.showModal)},dependencies:[tE,nE,nx,Xg,nw,HA,GA,WA,lf,rw],styles:[".modal[_ngcontent-%COMP%]{position:absolute;z-index:1;left:0;top:1;width:100%;overflow:none;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fffc;margin:5% auto;padding:20px;border:1px solid #888;border-radius:10px;width:100%;max-width:600px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}return n})();class Jse{constructor(){}}class eoe{constructor(e,t,r,i){this.flatNo=e,this.floorNo=t,this.isBooked=r,this.allocatedTo=i}}function toe(n,e){1&n&&(oe(0,"div"),ut(1," Apartment Name is required. "),le())}const noe=n=>({display:n});function roe(n,e){if(1&n){const t=cm();oe(0,"div",1)(1,"div",2)(2,"span",3),ut(3," Apartment Details"),le(),oe(4,"form",4),Qt("ngSubmit",function(i){return gs(t),fo(cn().submitForm(i))}),oe(5,"div",5)(6,"label",6),ut(7,"Apartment Name :"),le(),oe(8,"div",7),Pt(9,"input",8),le()(),oe(10,"div",5)(11,"label",9),ut(12,"No. of Floors :"),le(),oe(13,"div",7),Pt(14,"input",10),le()(),oe(15,"div",5)(16,"label",11),ut(17,"Flat per Floor :"),le(),oe(18,"div",7),Pt(19,"input",12),le()(),oe(20,"div",5)(21,"label",13),ut(22,"Parking Lots :"),le(),oe(23,"div",7),Pt(24,"input",14),le()(),oe(25,"div",15)(26,"div",16)(27,"button",17),Qt("click",function(){return gs(t),fo(cn().closeModal())}),ut(28,"Cancel"),le()(),oe(29,"div",18)(30,"button",19),ut(31," Add Now "),le()(),Vt(32,toe,2,0,"div",20),le()()()()}if(2&n){const t=cn();Dt("ngStyle",Mv(4,noe,t.modalDisplayStyle)),at(4),Dt("formGroup",t.apartmentDataForm),at(26),Dt("disabled",!t.apartmentDataForm.valid),at(2),Dt("ngIf",(null==t.apartmentDataForm.get("apartmentName").errors?null:t.apartmentDataForm.get("apartmentName").errors.required)&&t.apartmentDataForm.get("apartmentName").touched)}}let ioe=(()=>{class n{constructor(t){this.fb=t,this.aptModalReset=new Mt}ngOnInit(){this.apartmentDataForm=this.fb.group({apartmentName:["",wi.required],numberOfFloors:["",wi.required],flatsPerFloor:["",wi.required],numberOfParking:["",wi.required]})}closeModal(){this.showModal=!1,this.aptModalReset.emit()}submitForm(t){if(t.preventDefault(),this.apartmentDataForm.valid){const i=this.apartmentDataForm.value;var r=new Jse;r.apartmentName=i.apartmentName,r.apartmentPerFloor=i.flatsPerFloor,r.floors=i.numberOfFloors,r.parkingSpaces=i.numberOfParking,r.flats=this.generateFlatData(i.numberOfFloors,i.flatsPerFloor),this.aptModalReset.emit(r)}}generateFlatData(t,r){var i=[];for(let o=1;o<=t;o++)for(let a=1;a<=r;a++){var s=new eoe(a,o,!1,{});i.push(s)}return i}get modalDisplayStyle(){return this.showModal?"block":"none"}static#e=this.\u0275fac=function(r){return new(r||n)(q(FH))};static#t=this.\u0275cmp=xr({type:n,selectors:[["app-modal-apartment"]],inputs:{showModal:"showModal"},outputs:{aptModalReset:"aptModalReset"},decls:1,vars:1,consts:[["class","modal",3,"ngStyle",4,"ngIf"],[1,"modal",3,"ngStyle"],[1,"modal-content"],[2,"text-align","center","font-size","24px","padding-bottom","15px"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","apartmentName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","apartmentName","placeholder","Apartment Name","formControlName","apartmentName",1,"form-control"],["for","floors",1,"col-sm-4","col-form-label"],["type","number","id","floors","placeholder","No. of Floors","formControlName","numberOfFloors",1,"form-control"],["for","flats",1,"col-sm-4","col-form-label"],["type","number","id","flats","placeholder","Flat per Floor","formControlName","flatsPerFloor",1,"form-control"],["for","parkingLot",1,"col-sm-4","col-form-label"],["type","number","id","parkingLot","placeholder","No. of Parking Spaces","formControlName","numberOfParking",1,"form-control"],[1,"form-group","row",2,"display","flex","justify-content","flex-end"],[1,"col-sm-2"],[1,"btn","btn-danger",3,"click"],[1,"col-sm-3"],[1,"btn","btn-primary",3,"disabled"],[4,"ngIf"]],template:function(r,i){1&r&&Vt(0,roe,33,6,"div",0),2&r&&Dt("ngIf",i.showModal)},dependencies:[tE,nE,nx,Xg,nw,GA,WA,lf,rw],styles:[".modal[_ngcontent-%COMP%]{position:absolute;z-index:1;left:0;top:1;width:100%;overflow:none;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background-color:#fffc;margin:5% auto;padding:20px;border:1px solid #888;border-radius:10px;width:100%;max-width:600px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}return n})();function soe(n,e){if(1&n&&(oe(0,"mat-option",15),ut(1),le()),2&n){const t=e.$implicit;Dt("value",t),at(),Jd(" ",t.apartmentName," ")}}function ooe(n,e){1&n&&(oe(0,"h4",16),ut(1," Select an Apartment to check Layout "),le())}let aoe=(()=>{class n{constructor(t,r){this.userService=t,this.apartmentService=r,this.displayModal=!1,this.displayAptModal=!1,this.apartments=[],this.rows=0,this.columns=0,this.squareData=[],this.masterData=new BK(this.apartments),this.apartmentService.getapartmentDatas().subscribe(i=>{i.forEach(s=>{this.apartments.push(s)})})}ngOnInit(){}onSelectionChange(){}fetchSelectedFlat(t){this.selectedOption&&t&&(this.flatSelectedForBooking=t),this.displayModal=!this.displayModal}saveUserData(t){t&&(this.selectedOption.flats.forEach((r,i)=>{r.flatNo===this.flatSelectedForBooking.flatNo&&r.floorNo===this.flatSelectedForBooking.floorNo&&(r.isBooked=!0,t.flatNumber=r.flatNo,t.floor=r.floorNo,r.allocatedTo=t,t.parkingOpted&&(this.selectedOption.parkingLeft=this.selectedOption.parkingLeft-1))}),this.apartmentService.updateapartmentData(this.selectedOption.id,this.convertToPlainObject(this.selectedOption))),this.displayModal=!this.displayModal,this.resetApartmentList()}convertToPlainObject(t){if("object"!=typeof t||null===t)return t;const r=Array.isArray(t)?[]:{};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=this.convertToPlainObject(t[i]));return r}addNewApartment(){this.displayAptModal=!this.displayAptModal}saveApartmentData(t){this.displayAptModal=!this.displayAptModal,this.apartmentService.addapartmentData(this.convertToPlainObject(t))}resetApartmentList(){this.apartments=[],this.apartmentService.getapartmentDatas().subscribe(t=>{t.forEach(r=>{this.apartments.push(r)})})}static#e=this.\u0275fac=function(r){return new(r||n)(q(mte),q(gte))};static#t=this.\u0275cmp=xr({type:n,selectors:[["app-main-app"]],decls:21,vars:6,consts:[[2,"background-color","aliceblue","height","calc(100% - 130px)"],[1,"wrapper"],[1,"row"],[1,"col-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-10"],["appearance","fill"],[3,"value","valueChange","change"],[3,"value",4,"ngFor","ngForOf"],["style","padding-top: 15px; padding-left: 50px",4,"ngIf"],[1,"scrollable-container"],[1,"scrollable-content"],[3,"apartment","myEventEmitter"],[3,"showModal","modalReset"],[3,"showModal","aptModalReset"],[3,"value"],[2,"padding-top","15px","padding-left","50px"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Qt("click",function(){return i.addNewApartment()}),ut(5," ADD APARTMENT "),le()(),Pt(6,"div",5),le(),oe(7,"div",2)(8,"div",3)(9,"mat-form-field",6)(10,"mat-label"),ut(11,"Select Apartment"),le(),oe(12,"mat-select",7),Qt("valueChange",function(o){return i.selectedOption=o})("change",function(){return i.onSelectionChange()}),Vt(13,soe,2,2,"mat-option",8),le()()(),oe(14,"div",5),Vt(15,ooe,2,0,"h4",9),oe(16,"div",10)(17,"div",11)(18,"grid",12),Qt("myEventEmitter",function(o){return i.fetchSelectedFlat(o)}),le()()()()()()(),oe(19,"app-modal-user",13),Qt("modalReset",function(o){return i.saveUserData(o)}),le(),oe(20,"app-modal-apartment",14),Qt("aptModalReset",function(o){return i.saveApartmentData(o)}),le()),2&r&&(at(12),Dt("value",i.selectedOption),at(),Dt("ngForOf",null==i.masterData?null:i.masterData.apartments),at(2),Dt("ngIf",!i.selectedOption),at(3),Dt("apartment",i.selectedOption),at(),Dt("showModal",i.displayModal),at(),Dt("showModal",i.displayAptModal))},dependencies:[LD,tE,Lre,kA,zse,sj,Kse,Zse,ioe],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:5%;margin-right:5%;padding:50px 50px 0;background-color:#f0f8ff;border-radius:20px;min-height:calc(100% - 130px)}.scrollable-container[_ngcontent-%COMP%]{position:fixed;top:100px;min-height:calc(100% - 210px);max-height:calc(100% - 210px);min-width:70%;max-width:70%;overflow:auto}.scrollable-content[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:center;align-items:center}.scrollable-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.scrollable-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#aaa;border-radius:5px}.mat-select-trigger[_ngcontent-%COMP%]{background-color:#fff;color:#333;border:1px solid #ccc;border-radius:4px}.mat-select-trigger[_ngcontent-%COMP%]{height:40px;min-width:200px}.mat-select-panel[_ngcontent-%COMP%]{max-height:200px;width:100%}.row[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})(),loe=(()=>{class n{constructor(){this.title="flat-booking-app"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=xr({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Pt(0,"app-header")(1,"app-main-app")(2,"app-footer")},dependencies:[LK,VK,aoe]})}return n})();function BH(n){return new U(3e3,!1)}function Ul(n){switch(n.length){case 0:return new Wg;case 1:return n[0];default:return new NU(n)}}function UH(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),h=u==o,m=h&&a||new Map;l.forEach((g,y)=>{let b=y,w=g;if("offset"!==y)switch(b=n.normalizePropertyName(b,i),w){case"!":w=t.get(y);break;case Ea:w=r.get(y);break;default:w=n.normalizeStyleValue(y,b,w,i)}m.set(b,w)}),h||s.push(m),a=m,o=u}),i.length)throw function Moe(n){return new U(3502,!1)}();return s}function cx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ux(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ux(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ux(t,"destroy",n)))}}function ux(n,e,t){const s=dx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function dx(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ss(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function jH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const zoe=typeof document>"u"?null:document.documentElement;function hx(n){const e=n.parentNode||n.host||null;return e===zoe?null:e}let _u=null,HH=!1;function zH(n,e){for(;e;){if(e===n)return!0;e=hx(e)}return!1}function $H(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let fx=(()=>{class n{validateStyleProperty(t){return function qoe(n){_u||(_u=function Goe(){return typeof document<"u"?document.body:null}()||{},HH=!!_u.style&&"WebkitAppearance"in _u.style);let e=!0;return _u.style&&!function $oe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in _u.style,!e&&HH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _u.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return zH(t,r)}getParentElement(t){return hx(t)}query(t,r,i){return $H(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Wg(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class px{static#e=this.NOOP=new fx}class mx{}const Koe=1e3,gx="ng-enter",iw="ng-leave",sw="ng-trigger",ow=".ng-trigger",GH="ng-animating",_x=".ng-animating";function wa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yx(parseFloat(e[1]),e[2])}function yx(n,e){return"s"===e?n*Koe:n}function aw(n,e,t){return n.hasOwnProperty("duration")?n:function Qoe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(BH()),{duration:0,delay:0,easing:""};i=yx(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=yx(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function coe(){return new U(3100,!1)}()),a=!0),s<0&&(e.push(function uoe(){return new U(3101,!1)}()),a=!0),a&&e.splice(l,0,BH())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Fo(n,e,t){e.forEach((r,i)=>{const s=Ex(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function yu(n,e){e.forEach((t,r)=>{const i=Ex(r);n.style[i]=""})}function i_(n){return Array.isArray(n)?1==n.length?n[0]:function Ate(n,e=null){return{type:je.Sequence,steps:n,options:e}}(n):n}const vx=new RegExp("{{\\s*(.+?)\\s*}}","g");function KH(n){let e=[];if("string"==typeof n){let t;for(;t=vx.exec(n);)e.push(t[1]);vx.lastIndex=0}return e}function s_(n,e,t){const r=`${n}`,i=r.replace(vx,(s,o)=>{let a=e[o];return null==a&&(t.push(function hoe(n){return new U(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const Joe=/-+([a-z0-9])/g;function Ex(n){return n.replace(Joe,(...e)=>e[1].toUpperCase())}function os(n,e,t){switch(e.type){case je.Trigger:return n.visitTrigger(e,t);case je.State:return n.visitState(e,t);case je.Transition:return n.visitTransition(e,t);case je.Sequence:return n.visitSequence(e,t);case je.Group:return n.visitGroup(e,t);case je.Animate:return n.visitAnimate(e,t);case je.Keyframes:return n.visitKeyframes(e,t);case je.Style:return n.visitStyle(e,t);case je.Reference:return n.visitReference(e,t);case je.AnimateChild:return n.visitAnimateChild(e,t);case je.AnimateRef:return n.visitAnimateRef(e,t);case je.Query:return n.visitQuery(e,t);case je.Stagger:return n.visitStagger(e,t);default:throw function foe(n){return new U(3004,!1)}()}}function bx(n,e){return window.getComputedStyle(n)[e]}const nae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YH extends mx{normalizePropertyName(e,t){return Ex(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(nae.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function poe(n,e){return new U(3005,!1)}())}return o+s}}const lw="*";const cw=new Set(["true","1"]),uw=new Set(["false","0"]);function QH(n,e){const t=cw.has(n)||uw.has(n),r=cw.has(e)||uw.has(e);return(i,s)=>{let o=n==lw||n==i,a=e==lw||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?cw.has(n):uw.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?cw.has(e):uw.has(e)),o&&a}}const oae=new RegExp("s*:selfs*,?","g");function wx(n,e,t,r){return new aae(n).build(e,t,r)}class aae{constructor(e){this._driver=e}build(e,t,r){const i=new uae(t);return this._resetContextStyleTimingState(i),os(this,i_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function moe(){return new U(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==je.State){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,t))}),l.name=u}else if(a.type==je.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function goe(){return new U(3007,!1)}())}),{type:je.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{KH(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&t.errors.push(function _oe(n,e){return new U(3008,!1)}(0,s.values()))}return{type:je.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=os(this,i_(e.animation),t),i=function rae(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function iae(n,e,t){if(":"==n[0]){const l=function sae(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Soe(n){return new U(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Coe(n){return new U(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(QH(i,o)),"<"==s[0]&&(i!=lw||o!=lw)&&e.push(QH(o,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:je.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:vu(e.options)}}visitSequence(e,t){return{type:je.Sequence,steps:e.steps.map(r=>os(this,r,t)),options:vu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=os(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:je.Group,steps:s,options:vu(e.options)}}visitAnimate(e,t){const r=function hae(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ix(aw(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Ix(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=aw(t,e);return Ix(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:du({});if(s.type==je.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=du(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:je.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Ea?r.push(a):t.errors.push(new U(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:je.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(l);let m=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function voe(n,e,t,r,i){return new U(3010,!1)}()),m=!1),s=h.startTime),m&&u.set(l,{startTime:s,endTime:i}),t.options&&function Zoe(n,e,t){const r=e.params||{},i=KH(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function doe(n){return new U(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:je.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Eoe(){return new U(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const h=e.steps.map(x=>{const A=this._makeStyleAst(x,t);let P=null!=A.offset?A.offset:function dae(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(A.styles),H=0;return null!=P&&(s++,H=A.offset=P),l=l||H<0||H>1,a=a||H<u,u=H,o.push(H),A});l&&t.errors.push(function boe(){return new U(3012,!1)}()),a&&t.errors.push(function woe(){return new U(3200,!1)}());const m=e.steps.length;let g=0;s>0&&s<m?t.errors.push(function Ioe(){return new U(3202,!1)}()):0==s&&(g=1/(m-1));const y=m-1,b=t.currentTime,w=t.currentAnimateTimings,I=w.duration;return h.forEach((x,A)=>{const P=g>0?A==y?1:g*A:o[A],H=P*I;t.currentTime=b+w.delay+H,w.duration=H,this._validateStyleAst(x,t),x.offset=P,r.styles.push(x)}),r}visitReference(e,t){return{type:je.Reference,animation:os(this,i_(e.animation),t),options:vu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:je.AnimateChild,options:vu(e.options)}}visitAnimateRef(e,t){return{type:je.AnimateRef,animation:this.visitReference(e.animation,t),options:vu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function lae(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oae,"")),n=n.replace(/@\*/g,ow).replace(/@\w+/g,t=>ow+"-"+t.slice(1)).replace(/:animating/g,_x),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ss(t.collectedStyles,t.currentQuerySelector,new Map);const a=os(this,i_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:je.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:vu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Toe(){return new U(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:aw(e.timings,t.errors,!0);return{type:je.Stagger,animation:os(this,i_(e.animation),t),timings:r,options:null}}}class uae{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vu(n){return n?(n={...n}).params&&(n.params=function cae(n){return n?{...n}:null}(n.params)):n={},n}function Ix(n,e,t){return{duration:n,delay:e,easing:t}}function Tx(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class dw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const mae=new RegExp(":enter","g"),_ae=new RegExp(":leave","g");function Dx(n,e,t,r,i,s=new Map,o=new Map,a,l,u=[]){return(new yae).buildKeyframes(n,e,t,r,i,s,o,a,l,u)}class yae{buildKeyframes(e,t,r,i,s,o,a,l,u,h=[]){u=u||new dw;const m=new Cx(e,t,u,i,s,h,[]);m.options=l;const g=l.delay?wa(l.delay):0;m.currentTimeline.delayNextStep(g),m.currentTimeline.setStyles([o],null,m.errors,l),os(this,r,m);const y=m.timelines.filter(b=>b.containsAnimation());if(y.length&&a.size){let b;for(let w=y.length-1;w>=0;w--){const I=y[w];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,m.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[Tx(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:wa(s_(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?wa(r.duration):null,a=null!=r.delay?wa(r.delay):null;return 0!==o&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),os(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==je.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hw);const o=wa(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>os(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?wa(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),os(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return aw(t.params?s_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==je.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?wa(i.delay):0;s&&(t.previousNode.type===je.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hw);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{t.currentQueryIndex=h;const m=t.createSubContext(e.options,u);s&&m.delayNextStep(s),u===t.element&&(l=m.currentTimeline),os(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const m=h.currentTime;os(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const hw={};class Cx{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new fw(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=wa(r.duration)),null!=r.delay&&(i.delay=wa(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=s_(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Cx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=hw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new vae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(mae,"."+this._enterClassName)).replace(_ae,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function Doe(n){return new U(3014,!1)}()),a}}class fw{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ea),this._currentKeyframe.set(t,Ea);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Eae(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)t.set(s,Ea)}else for(let[s,o]of i)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const u=s_(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ea),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=new Map([...this._backFill,...a]);u.forEach((h,m)=>{"!"===h?e.add(m):h===Ea&&t.add(m)}),r||u.set("offset",l/this.duration),i.push(u)});const s=[...e.values()],o=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Tx(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class vae extends fw{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const u=new Map(e[0]);u.set("offset",JH(a)),s.push(u);const h=e.length-1;for(let m=1;m<=h;m++){let g=new Map(e[m]);const y=g.get("offset");g.set("offset",JH((t+y*r)/o)),s.push(g)}r=o,t=0,i="",e=s}return Tx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function JH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function ez(n,e,t,r,i,s,o,a,l,u,h,m,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:m,errors:g}}const Sx={};class tz{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function bae(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,u,h){const m=[],g=this.ast.options&&this.ast.options.params||Sx,b=this.buildStyles(r,a&&a.params||Sx,m),w=l&&l.params||Sx,I=this.buildStyles(i,w,m),x=new Set,A=new Map,P=new Map,H="void"===i,ne={params:nz(w,g),delay:this.ast.options?.delay},fe=h?[]:Dx(e,t,this.ast.animation,s,o,b,I,ne,u,m);let Qe=0;return fe.forEach(Ct=>{Qe=Math.max(Ct.duration+Ct.delay,Qe)}),m.length?ez(t,this._triggerName,r,i,H,b,I,[],[],A,P,Qe,m):(fe.forEach(Ct=>{const Ci=Ct.element,Da=ss(A,Ci,new Set);Ct.preStyleProps.forEach(bu=>Da.add(bu));const i$=ss(P,Ci,new Set);Ct.postStyleProps.forEach(bu=>i$.add(bu)),Ci!==t&&x.add(Ci)}),ez(t,this._triggerName,r,i,H,b,I,fe,[...x.values()],A,P,Qe))}}function nz(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class wae{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=nz(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=s_(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class Tae{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new wae(i.style,i.options&&i.options.params||{},r))}),rz(this.states,"true","1"),rz(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new tz(e,i,this.states))}),this.fallbackTransition=function Dae(n,e,t){return new tz(n,{type:je.Transition,animation:{type:je.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function rz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Cae=new dw;class Sae{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=wx(this._driver,t,r,[]);if(r.length)throw function Poe(n){return new U(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=UH(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Dx(this._driver,t,s,gx,iw,new Map,new Map,r,Cae,i),o.forEach(h=>{const m=ss(a,h.element,new Map);h.postStyleProps.forEach(g=>m.set(g,null))})):(i.push(function Noe(){return new U(3300,!1)}()),o=[]),i.length)throw function koe(n){return new U(3504,!1)}();a.forEach((h,m)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(m,y,Ea))})});const u=Ul(o.map(h=>{const m=a.get(h.element);return this._buildPlayer(h,new Map,m)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ooe(n){return new U(3301,!1)}();return t}listen(e,t,r,i){const s=dx(t,"","","");return cx(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const iz="ng-animate-queued",Ax="ng-animate-disabled",Pae=[],sz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class xx{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Lae(n){return n??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const o_="void",Rx=new xx(o_);class kae{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Foe(n,e){return new U(3302,!1)}();if(null==r||0==r.length)throw function Loe(n){return new U(3303,!1)}();if(!function Vae(n){return"start"==n||"done"==n}(r))throw function Voe(n,e){return new U(3400,!1)}();const s=ss(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=ss(this._engine.statesByElement,e,new Map);return a.has(t)||(xs(e,sw),xs(e,sw+"-"+t),a.set(t,Rx)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Boe(n){return new U(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new Mx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(xs(e,sw),xs(e,sw+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new xx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=Rx),u.value!==o_&&l.value===u.value){if(!function jae(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,u.params)){const w=[],I=s.matchStyles(l.value,l.params,w),x=s.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{yu(e,I),Fo(e,x)})}return}const g=ss(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let y=s.matchTransition(l.value,u.value,e,u.params),b=!1;if(!y){if(!i)return;y=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:u,player:o,isFallbackTransition:b}),b||(xs(e,iz),o.onStart(()=>{cf(e,iz)})),o.onDone(()=>{let w=this.players.indexOf(o);w>=0&&this.players.splice(w,1);const I=this._engine.playersByElement.get(e);if(I){let x=I.indexOf(o);x>=0&&I.splice(x,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ow,!0);r.forEach(i=>{if(i[io])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const h=this.trigger(e,u,o_,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ul(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||Rx,h=new xx(o_),m=new Mx(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[io];(!s||s===sz)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=dx(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,cx(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Oae{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(pw(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!pw(t))return;const s=t[io];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xs(e,Ax)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cf(e,Ax))}removeNode(e,t,r){if(pw(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[io]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return pw(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,ow,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_x,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ul(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[io];if(t&&t.setForRemoval){if(e[io]=sz,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ax)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)xs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ul(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Uoe(n){return new U(3402,!1)}()}_flushAnimations(e,t){const r=new dw,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(we=>{h.add(we);const Oe=this.driver.query(we,".ng-animate-queued",!0);for(let Ve=0;Ve<Oe.length;Ve++)h.add(Oe[Ve])});const m=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=lz(g,this.collectedEnterElements),b=new Map;let w=0;y.forEach((we,Oe)=>{const Ve=gx+w++;b.set(Oe,Ve),we.forEach(St=>xs(St,Ve))});const I=[],x=new Set,A=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const Oe=this.collectedLeaveElements[we],Ve=Oe[io];Ve&&Ve.setForRemoval&&(I.push(Oe),x.add(Oe),Ve.hasAnimation?this.driver.query(Oe,".ng-star-inserted",!0).forEach(St=>x.add(St)):A.add(Oe))}const P=new Map,H=lz(g,Array.from(x));H.forEach((we,Oe)=>{const Ve=iw+w++;P.set(Oe,Ve),we.forEach(St=>xs(St,Ve))}),e.push(()=>{y.forEach((we,Oe)=>{const Ve=b.get(Oe);we.forEach(St=>cf(St,Ve))}),H.forEach((we,Oe)=>{const Ve=P.get(Oe);we.forEach(St=>cf(St,Ve))}),I.forEach(we=>{this.processLeaveNode(we)})});const ne=[],fe=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(t).forEach(Ve=>{const St=Ve.player,Tr=Ve.element;if(ne.push(St),this.collectedEnterElements.length){const ti=Tr[io];if(ti&&ti.setForMove){if(ti.previousTriggersValues&&ti.previousTriggersValues.has(Ve.triggerName)){const wu=ti.previousTriggersValues.get(Ve.triggerName),Rs=this.statesByElement.get(Ve.element);if(Rs&&Rs.has(Ve.triggerName)){const Iw=Rs.get(Ve.triggerName);Iw.value=wu,Rs.set(Ve.triggerName,Iw)}}return void St.destroy()}}const Uo=!m||!this.driver.containsElement(m,Tr),ls=P.get(Tr),jl=b.get(Tr),Dn=this._buildInstruction(Ve,r,jl,ls,Uo);if(Dn.errors&&Dn.errors.length)return void fe.push(Dn);if(Uo)return St.onStart(()=>yu(Tr,Dn.fromStyles)),St.onDestroy(()=>Fo(Tr,Dn.toStyles)),void i.push(St);if(Ve.isFallbackTransition)return St.onStart(()=>yu(Tr,Dn.fromStyles)),St.onDestroy(()=>Fo(Tr,Dn.toStyles)),void i.push(St);const a$=[];Dn.timelines.forEach(ti=>{ti.stretchStartingKeyframe=!0,this.disabledNodes.has(ti.element)||a$.push(ti)}),Dn.timelines=a$,r.append(Tr,Dn.timelines),o.push({instruction:Dn,player:St,element:Tr}),Dn.queriedElements.forEach(ti=>ss(a,ti,[]).push(St)),Dn.preStyleProps.forEach((ti,wu)=>{if(ti.size){let Rs=l.get(wu);Rs||l.set(wu,Rs=new Set),ti.forEach((Iw,Wx)=>Rs.add(Wx))}}),Dn.postStyleProps.forEach((ti,wu)=>{let Rs=u.get(wu);Rs||u.set(wu,Rs=new Set),ti.forEach((Iw,Wx)=>Rs.add(Wx))})});if(fe.length){const we=[];fe.forEach(Oe=>{we.push(function joe(n,e){return new U(3505,!1)}())}),ne.forEach(Oe=>Oe.destroy()),this.reportError(we)}const Qe=new Map,Ct=new Map;o.forEach(we=>{const Oe=we.element;r.has(Oe)&&(Ct.set(Oe,Oe),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,Qe))}),i.forEach(we=>{const Oe=we.element;this._getPreviousPlayers(Oe,!1,we.namespaceId,we.triggerName,null).forEach(St=>{ss(Qe,Oe,[]).push(St),St.destroy()})});const Ci=I.filter(we=>uz(we,l,u)),Da=new Map;az(Da,this.driver,A,u,Ea).forEach(we=>{uz(we,l,u)&&Ci.push(we)});const bu=new Map;y.forEach((we,Oe)=>{az(bu,this.driver,new Set(we),l,"!")}),Ci.forEach(we=>{const Oe=Da.get(we),Ve=bu.get(we);Da.set(we,new Map([...Oe?.entries()??[],...Ve?.entries()??[]]))});const Gx=[],s$=[],o$={};o.forEach(we=>{const{element:Oe,player:Ve,instruction:St}=we;if(r.has(Oe)){if(h.has(Oe))return Ve.onDestroy(()=>Fo(Oe,St.toStyles)),Ve.disabled=!0,Ve.overrideTotalTime(St.totalTime),void i.push(Ve);let Tr=o$;if(Ct.size>1){let ls=Oe;const jl=[];for(;ls=ls.parentNode;){const Dn=Ct.get(ls);if(Dn){Tr=Dn;break}jl.push(ls)}jl.forEach(Dn=>Ct.set(Dn,Tr))}const Uo=this._buildAnimation(Ve.namespaceId,St,Qe,s,bu,Da);if(Ve.setRealPlayer(Uo),Tr===o$)Gx.push(Ve);else{const ls=this.playersByElement.get(Tr);ls&&ls.length&&(Ve.parentPlayer=Ul(ls)),i.push(Ve)}}else yu(Oe,St.fromStyles),Ve.onDestroy(()=>Fo(Oe,St.toStyles)),s$.push(Ve),h.has(Oe)&&i.push(Ve)}),s$.forEach(we=>{const Oe=s.get(we.element);if(Oe&&Oe.length){const Ve=Ul(Oe);we.setRealPlayer(Ve)}}),i.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<I.length;we++){const Oe=I[we],Ve=Oe[io];if(cf(Oe,iw),Ve&&Ve.hasAnimation)continue;let St=[];if(a.size){let Uo=a.get(Oe);Uo&&Uo.length&&St.push(...Uo);let ls=this.driver.query(Oe,_x,!0);for(let jl=0;jl<ls.length;jl++){let Dn=a.get(ls[jl]);Dn&&Dn.length&&St.push(...Dn)}}const Tr=St.filter(Uo=>!Uo.destroyed);Tr.length?Bae(this,Oe,Tr):this.processLeaveNode(Oe)}return I.length=0,Gx.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const Oe=this.players.indexOf(we);this.players.splice(Oe,1)}),we.play()}),Gx}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==o_;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,h=u!==s,m=ss(r,u,[]);this._getPreviousPlayers(u,h,o,a,t.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),m.push(y)})}yu(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],h=new Set,m=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const I=w[io];if(I&&I.removedBeforeQueried)return new Wg(b.duration,b.delay);const x=w!==l,A=function Uae(n){const e=[];return cz(n,e),e}((r.get(w)||Pae).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===w),P=s.get(w),H=o.get(w),ne=UH(this._normalizer,b.keyframes,P,H),fe=this._buildPlayer(b,ne,A);if(b.subTimeline&&i&&m.add(w),x){const Qe=new Mx(e,a,w);Qe.setRealPlayer(fe),u.push(Qe)}return fe});u.forEach(b=>{ss(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Fae(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>xs(b,GH));const y=Ul(g);return y.onDestroy(()=>{h.forEach(b=>cf(b,GH)),Fo(l,t.toStyles)}),m.forEach(b=>{ss(i,b,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Wg(e.duration,e.delay)}}class Mx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Wg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>cx(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ss(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pw(n){return n&&1===n.nodeType}function oz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function az(n,e,t,r,i){const s=[];t.forEach(l=>s.push(oz(l)));const o=[];r.forEach((l,u)=>{const h=new Map;l.forEach(m=>{const g=e.computeStyle(u,m,i);h.set(m,g),(!g||0==g.length)&&(u[io]=Nae,o.push(u))}),n.set(u,h)});let a=0;return t.forEach(l=>oz(l,s[a++])),o}function lz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function xs(n,e){n.classList?.add(e)}function cf(n,e){n.classList?.remove(e)}function Bae(n,e,t){Ul(t).onDone(()=>n.processLeaveNode(e))}function cz(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof NU?cz(r.players,e):e.push(r)}}function uz(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class a_{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new Oae(e.body,t,r,i),this._timelineEngine=new Sae(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],h=wx(this._driver,s,l,[]);if(l.length)throw function Roe(n,e){return new U(3404,!1)}();a=function Iae(n,e,t){return new Tae(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=jH(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=jH(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class l_{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=l_.initialStylesByElement.get(e);i||l_.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Fo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fo(this._element,this._initialStyles),this._endStyles&&(Fo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l_.initialStylesByElement.delete(this._element),this._startStyles&&(yu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),Fo(this._element,this._initialStyles),this._state=3)}}function Px(n){let e=null;return n.forEach((t,r)=>{(function zae(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class dz{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:bx(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class hz{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return zH(e,t)}getParentElement(e){return hx(e)}query(e,t,r){return $H(e,t,r)}computeStyle(e,t,r){return bx(e,t)}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,h=o.filter(y=>y instanceof dz);(function eae(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((b,w)=>u.set(w,b))});let m=function Xoe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(y=>new Map(y));m=function tae(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,bx(n,a)))}}return e}(e,m,u);const g=function Hae(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Px(e[0]),e.length>1&&(r=Px(e[e.length-1]))):e instanceof Map&&(t=Px(e)),t||r?new l_(n,t,r):null}(e,m);return new dz(e,m,l,g)}}const fz="@.disabled";class pz{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==fz?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class $ae extends pz{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fz?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function qae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Gae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class Wae{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const u=this._rendererCache;let h=u.get(i);return h||(h=new pz("",i,this.engine,()=>u.delete(i)),u.set(i,h)),h}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return t.data.animation.forEach(a),new $ae(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Kae=(()=>{class n extends a_{constructor(t,r,i){super(t,r,i,ke(qI,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n),B(px),B(mx))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const mz=[{provide:mx,useFactory:function Yae(){return new YH}},{provide:a_,useClass:Kae},{provide:rT,useFactory:function Qae(n,e,t){return new Wae(n,e,t)},deps:[QD,a_,Ge]}],Nx=[{provide:px,useFactory:()=>new hz},{provide:wd,useValue:"BrowserAnimations"},...mz],gz=[{provide:px,useClass:fx},{provide:wd,useValue:"NoopAnimations"},...mz];let Xae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?gz:Nx}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=Zt({providers:Nx,imports:[Z1]})}return n})();const _z="firebasestorage.googleapis.com",yz="storageBucket";class Tn extends ht.kx{constructor(e,t,r=0){super(kx(e),`Firebase Storage: ${t} (${kx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var En=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(En||{});function kx(n){return"storage/"+n}function Ox(){return new Tn(En.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vz(){return new Tn(En.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ez(){return new Tn(En.CANCELED,"User canceled the upload/download.")}function bz(){return new Tn(En.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uf(n){return new Tn(En.INVALID_ARGUMENT,n)}function wz(){return new Tn(En.APP_DELETED,"The Firebase app was deleted.")}function Iz(n){return new Tn(En.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function c_(n,e){return new Tn(En.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function u_(n){throw new Tn(En.INTERNAL_ERROR,"Internal error: "+n)}class ei{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ei.makeFromUrl(e,t)}catch{return new ei(e,"")}if(""===r.path)return r;throw function ale(n){return new Tn(En.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(H){H.path_=decodeURIComponent(H.path)}const m=t.replace(/[.]/g,"\\."),P=[{regex:a,indices:{bucket:1,path:3},postModify:function s(H){"/"===H.path.charAt(H.path.length-1)&&(H.path_=H.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${m}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${t===_z?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<P.length;H++){const ne=P[H],fe=ne.regex.exec(e);if(fe){let Ct=fe[ne.indices.path];Ct||(Ct=""),r=new ei(fe[ne.indices.bucket],Ct),ne.postModify(r);break}}if(null==r)throw function ole(n){return new Tn(En.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class hle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gw(n){return"string"==typeof n||n instanceof String}function Tz(n){return Fx()&&n instanceof Blob}function Fx(){return typeof Blob<"u"&&!(0,ht.yW)()}function Lx(n,e,t,r){if(r<e)throw uf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw uf(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ia(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Dz(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var df=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(df||{});function Cz(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class yle{constructor(e,t,r,i,s,o,a,l,u,h,m,g=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function mle(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=Ox();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?wz():Ez():vz())};this.canceled_?t(0,new _w(!1,null,!0)):this.backoffId_=function fle(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function h(...I){u||(u=!0,e.apply(null,I))}function m(I){i=setTimeout(()=>{i=null,n(y,l())},I)}function g(){s&&clearTimeout(s)}function y(I,...x){if(u)return void g();if(I)return g(),void h.call(null,I,...x);if(l()||o)return g(),void h.call(null,I,...x);let P;r<64&&(r*=2),1===a?(a=2,P=0):P=1e3*(r+Math.random()),m(P)}let b=!1;function w(I){b||(b=!0,g(),!u&&(null!==i?(I||(a=2),clearTimeout(i),m(0)):I||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,w(!0)},t),w}((r,i)=>{if(i)return void r(!1,new _w(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===df.NO_ERROR,l=s.getStatus();if(!a||Cz(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===df.ABORT;return void r(!1,new _w(!1,null,h))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new _w(u,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ple(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _w{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Dle(...n){const e=function Tle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Fx())return new Blob(n);throw new Tn(En.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const as={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vx{constructor(e,t){this.data=e,this.contentType=t||null}}function Bx(n,e){switch(n){case as.RAW:return new Vx(Sz(e));case as.BASE64:case as.BASE64URL:return new Vx(Az(n,e));case as.DATA_URL:return new Vx(function xle(n){const e=new xz(n);return e.base64?Az(as.BASE64,e.rest):function Ale(n){let e;try{e=decodeURIComponent(n)}catch{throw c_(as.DATA_URL,"Malformed data URL.")}return Sz(e)}(e.rest)}(e),function Rle(n){return new xz(n).contentType}(e))}throw Ox()}function Sz(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Az(n,e){switch(n){case as.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw c_(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case as.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw c_(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Sle(n){if(typeof atob>"u")throw function dle(n){return new Tn(En.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:c_(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class xz{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw c_(as.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Mle(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Lo{constructor(e,t){let r=0,i="";Tz(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Tz(this.data_)){const i=function Cle(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Lo(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Lo(r,!0)}}static getBlob(...e){if(Fx()){const t=e.map(r=>r instanceof Lo?r.data_:r);return new Lo(Dle.apply(null,t))}{const t=e.map(o=>gw(o)?Bx(as.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Lo(i,!0)}}uploadData(){return this.data_}}function Ux(n){let e;try{e=JSON.parse(n)}catch{return null}return function _le(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Rz(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function kle(n,e){return e}class Ti{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||kle}}let yw=null;function d_(){if(yw)return yw;const n=[];n.push(new Ti("bucket")),n.push(new Ti("generation")),n.push(new Ti("metageneration")),n.push(new Ti("name","fullPath",!0));const t=new Ti("name");t.xform=function e(s,o){return function Ole(n){return!gw(n)||n.length<2?n:Rz(n)}(o)},n.push(t);const i=new Ti("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new Ti("timeCreated")),n.push(new Ti("updated")),n.push(new Ti("md5Hash",null,!0)),n.push(new Ti("cacheControl",null,!0)),n.push(new Ti("contentDisposition",null,!0)),n.push(new Ti("contentEncoding",null,!0)),n.push(new Ti("contentLanguage",null,!0)),n.push(new Ti("contentType",null,!0)),n.push(new Ti("metadata","customMetadata",!0)),yw=n,yw}function Mz(n,e,t){const r=Ux(e);return null===r?null:function Lle(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function Fle(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ei(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function jx(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const Pz="prefixes",Nz="items";class Vo{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bo(n){if(!n)throw Ox()}function vw(n,e){return function t(r,i){const s=Mz(n,i,e);return Bo(null!==s),s}}function hf(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function ile(){return new Tn(En.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function rle(){return new Tn(En.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function nle(n){return new Tn(En.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function sle(n){return new Tn(En.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function h_(n){const e=hf(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function tle(n){return new Tn(En.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function kz(n,e,t){const i=Ia(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Vo(i,"GET",vw(n,t),o);return a.errorHandler=h_(e),a}function zle(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=Ia(e.bucketOnlyServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Vo(a,"GET",function jle(n,e){return function t(r,i){const s=function Ule(n,e,t){const r=Ux(t);return null===r?null:function Ble(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Pz])for(const i of t[Pz]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new ei(e,s));r.prefixes.push(o)}if(t[Nz])for(const i of t[Nz]){const s=n._makeStorageReference(new ei(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Bo(null!==s),s}}(n,e.bucket),u);return h.urlParams=s,h.errorHandler=hf(e),h}function Fz(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Wle(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Ew{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Hx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Bo(!1)}return Bo(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Xle={STATE_CHANGED:"state_changed"},Di={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zx(n){switch(n){case"running":case"pausing":case"canceling":return Di.RUNNING;case"paused":return Di.PAUSED;case"success":return Di.SUCCESS;case"canceled":return Di.CANCELED;default:return Di.ERROR}}class Zle{constructor(e,t,r){if(function gle(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function ff(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Bz=null;class Jle{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=df.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=df.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=df.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw u_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw u_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw u_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw u_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw u_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ece extends Jle{initXhr(){this.xhr_.responseType="text"}}function so(){return Bz?Bz():new ece}class Uz{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=d_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(En.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Cz(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=vz()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(En.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Kle(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=Fz(e,r,i),a={name:o.fullPath},l=Ia(s,n.host,n._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},m=jx(o,t),b=new Vo(l,"POST",function y(w){let I;Hx(w);try{I=w.getResponseHeader("X-Goog-Upload-URL")}catch{Bo(!1)}return Bo(gw(I)),I},n.maxUploadRetryTime);return b.urlParams=a,b.headers=h,b.body=m,b.errorHandler=hf(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,so,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Yle(n,e,t,r){const l=new Vo(t,"POST",function s(u){const h=Hx(u,["active","final"]);let m=null;try{m=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bo(!1)}m||Bo(!1);const g=Number(m);return Bo(!isNaN(g)),new Ew(g,r.size(),"final"===h)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=hf(e),l}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,so,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Ew(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function Qle(n,e,t,r,i,s,o,a){const l=new Ew(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function cle(){return new Tn(En.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const m=l.current;let y="";y=0===h?"finalize":u===h?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(m,m+h);if(null===w)throw bz();const P=new Vo(t,"POST",function I(H,ne){const fe=Hx(H,["active","final"]),Qe=l.current+h,Ct=r.size();let Ci;return Ci="final"===fe?vw(e,s)(H,ne):null,new Ew(Qe,Ct,"final"===fe,Ci)},e.maxUploadRetryTime);return P.headers=b,P.body=w.uploadData(),P.progressCallback=a||null,P.errorHandler=hf(n),P}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(o,so,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=kz(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,so,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Lz(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let P="";for(let H=0;H<2;H++)P+=Math.random().toString().slice(2);return P}();o["Content-Type"]="multipart/related; boundary="+l;const u=Fz(e,r,i),h=jx(u,t),y=Lo.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===y)throw bz();const b={name:u.fullPath},w=Ia(s,n.host,n._protocol),x=n.maxUploadRetryTime,A=new Vo(w,"POST",vw(n,t),x);return A.urlParams=b,A.headers=o,A.body=y.uploadData(),A.errorHandler=hf(e),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,so,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ez(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=zx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new Zle(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(zx(this._state)){case Di.SUCCESS:ff(this._resolve.bind(null,this.snapshot))();break;case Di.CANCELED:case Di.ERROR:ff(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zx(this._state)){case Di.RUNNING:case Di.PAUSED:e.next&&ff(e.next.bind(e,this.snapshot))();break;case Di.SUCCESS:e.complete&&ff(e.complete.bind(e))();break;default:e.error&&ff(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Eu{constructor(e,t){this._service=e,this._location=t instanceof ei?t:ei.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Eu(e,t)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rz(this._location.path)}get storage(){return this._service}get parent(){const e=function Ple(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ei(this._location.bucket,e);return new Eu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Iz(e)}}function Hz(n,e,t){return $x.apply(this,arguments)}function $x(){return $x=(0,E.c)(function*(n,e,t){const i=yield zz(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Hz(n,e,i.nextPageToken))}),$x.apply(this,arguments)}function zz(n,e){null!=e&&"number"==typeof e.maxResults&&Lx("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=zle(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,so)}function hce(n){n._throwIfRoot("getDownloadURL");const e=function $le(n,e,t){const i=Ia(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Vo(i,"GET",function Hle(n,e){return function t(r,i){const s=Mz(n,i,e);return Bo(null!==s),function Vle(n,e,t,r){const i=Ux(e);if(null===i||!gw(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const m=n.fullPath;return Ia("/b/"+o(n.bucket)+"/o/"+o(m),t,r)+Dz({alt:"media",token:u})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=h_(e),a}(n.storage,n._location,d_());return n.storage.makeRequestWithTokens(e,so).then(t=>{if(null===t)throw function ule(){return new Tn(En.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function $z(n,e){const t=function Nle(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ei(n._location.bucket,t);return new Eu(n.storage,r)}function qz(n,e){if(n instanceof qx){const t=n;if(null==t._bucket)throw function lle(){return new Tn(En.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yz+"' property when initializing the app?")}();const r=new Eu(t,t._bucket);return null!=e?qz(r,e):r}return void 0!==e?$z(n,e):n}function gce(n,e){if(e&&function pce(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof qx)return function mce(n,e){return new Eu(n,e)}(n,e);throw uf("To use ref(service, url), the first argument must be a Storage instance.")}return qz(n,e)}function Gz(n,e){const t=e?.[yz];return null==t?null:ei.makeFromBucketSpec(t,n)}class qx{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=_z,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ei.makeFromBucketSpec(i,this._host):Gz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ei.makeFromBucketSpec(this._url,e):Gz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,E.c)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,E.c)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new hle(wz());{const o=function Ile(n,e,t,r,i,s,o=!0){const a=Dz(n.urlParams),l=n.url+a,u=Object.assign({},n.headers);return function ble(n,e){e&&(n["X-Firebase-GMPID"]=e)}(u,e),function vle(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(u,t),function Ele(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function wle(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(u,r),new yle(l,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return(0,E.c)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const Wz="@firebase/storage";function Qz(n,e){return gce(n=(0,ht.Yj)(n),e)}function Cce(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new qx(t,r,i,e,Io.SDK_VERSION)}!function Sce(){(0,Io._registerComponent)(new uE.Yl("storage",Cce,"PUBLIC").setMultipleInstances(!0)),(0,Io.registerVersion)(Wz,"0.11.2",""),(0,Io.registerVersion)(Wz,"0.11.2","esm2017")}();class bw{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Zz{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bw(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new bw(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?o=>t(new bw(o,this,this._ref)):{next:t.next?o=>t.next(new bw(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class Jz{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ta(e,this._service))}get items(){return this._delegate.items.map(e=>new Ta(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ta{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Dce(n,e){return $z(n,e)}(this._delegate,e);return new Ta(t,this.storage)}get root(){return new Ta(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ta(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Zz(function yce(n,e,t){return function ace(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Uz(n,new Lo(e),t)}(n=(0,ht.Yj)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=as.RAW,r){this._throwIfRoot("putString");const i=Bx(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new Zz(new Uz(this._delegate,new Lo(i.data,!0),s),this)}listAll(){return function wce(n){return function cce(n){const e={prefixes:[],items:[]};return Hz(n,e).then(()=>e)}(n=(0,ht.Yj)(n))}(this._delegate).then(e=>new Jz(e,this.storage))}list(e){return function bce(n,e){return zz(n=(0,ht.Yj)(n),e)}(this._delegate,e||void 0).then(t=>new Jz(t,this.storage))}getMetadata(){return function vce(n){return function uce(n){n._throwIfRoot("getMetadata");const e=kz(n.storage,n._location,d_());return n.storage.makeRequestWithTokens(e,so)}(n=(0,ht.Yj)(n))}(this._delegate)}updateMetadata(e){return function Ece(n,e){return function dce(n,e){n._throwIfRoot("updateMetadata");const t=function qle(n,e,t,r){const s=Ia(e.fullServerUrl(),n.host,n._protocol),a=jx(t,r),u=n.maxOperationRetryTime,h=new Vo(s,"PATCH",vw(n,r),u);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=h_(e),h}(n.storage,n._location,e,d_());return n.storage.makeRequestWithTokens(t,so)}(n=(0,ht.Yj)(n),e)}(this._delegate,e)}getDownloadURL(){return function Ice(n){return hce(n=(0,ht.Yj)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Tce(n){return function fce(n){n._throwIfRoot("deleteObject");const e=function Gle(n,e){const r=Ia(e.fullServerUrl(),n.host,n._protocol),a=new Vo(r,"DELETE",function o(l,u){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=h_(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,so)}(n=(0,ht.Yj)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Iz(e)}}class e${constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(t$(e))throw uf("ref() expected a child path but got a URL, use refFromURL instead.");return new Ta(Qz(this._delegate,e),this)}refFromURL(e){if(!t$(e))throw uf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ei.makeFromUrl(e,this._delegate.host)}catch{throw uf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ta(Qz(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function Xz(n,e,t,r={}){!function _ce(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,ht.YD)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function t$(n){return/^[A-Za-z]+:\/\//.test(n)}function Mce(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new e$(t,r)}function n$(n){const e=function Nce(n){return new Ot(e=>{const t=o=>e.next(o);t(n.snapshot);const s=n.on("state_changed",t);return n.then(o=>{t(o),e.complete()},o=>{t(n.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(MA(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Be(t=>t.bytesTransferred/t.totalBytes*100))}}function ww(n){return{getDownloadURL:()=>To(void 0).pipe(iF,Ts(()=>n.getDownloadURL()),_i),getMetadata:()=>To(void 0).pipe(iF,Ts(()=>n.getMetadata()),_i),delete:()=>Wr(n.delete()),child:e=>ww(n.child(e)),updateMetadata:e=>Wr(n.updateMetadata(e)),put:(e,t)=>n$(n.put(e,t)),putString:(e,t,r)=>n$(n.putString(e,t,r)),list:e=>Wr(n.list(e)),listAll:()=>Wr(n.listAll())}}!function Pce(n){const e={TaskState:Di,TaskEvent:Xle,StringFormat:as,Storage:e$,Reference:Ta};n.INTERNAL.registerComponent(new uE.Yl("storage-compat",Mce,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(la.c);const kce=new ie("angularfire2.storageBucket"),Oce=new ie("angularfire2.storage.maxUploadRetryTime"),Fce=new ie("angularfire2.storage.maxOperationRetryTime"),Lce=new ie("angularfire2.storage.use-emulator");let Vce=(()=>{class n{storage;constructor(t,r,i,s,o,a,l,u,h,m){const g=cE(t,o,r);this.storage=r0(`${g.name}.storage.${i}`,"AngularFireStorage",g.name,()=>{const y=o.runOutsideAngular(()=>g.storage(i||void 0)),b=h;return b&&y.useEmulator(...b),l&&y.setMaxUploadRetryTime(l),u&&y.setMaxOperationRetryTime(u),y},[l,u])}ref(t){return ww(this.storage.ref(t))}refFromURL(t){return ww(this.storage.refFromURL(t))}upload(t,r,i){return ww(this.storage.ref(t)).put(r,i)}static \u0275fac=function(r){return new(r||n)(B(Rm),B(Mm,8),B(kce,8),B(Ws),B(Ge),B(n0),B(Oce,8),B(Fce,8),B(Lce,8),B(t0,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Bce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=on({type:n});static \u0275inj=Zt({})}return n})(),Uce=(()=>{class n{constructor(){la.c.registerVersion("angularfire",e0.full,"gcs-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=on({type:n});static \u0275inj=Zt({providers:[Vce],imports:[Bce]})}return n})();const r$_firebaseConfig={apiKey:"AIzaSyC3BAMIxMlIe-IQVP0RRftgIdmyxwyN4Xs",authDomain:"flatmap1308.firebaseapp.com",databaseURL:"https://flatmap1308-default-rtdb.firebaseio.com",projectId:"flatmap1308",storageBucket:"flatmap1308.appspot.com",messagingSenderId:"364754727927",appId:"1:364754727927:web:ffc5bc94f7ea14b91ab4f2"};let jce=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=on({type:n,bootstrap:[loe]});static#n=this.\u0275inj=Zt({imports:[Z1,Xae,yj,$se,oY.initializeApp(r$_firebaseConfig),Uce,Cse]})}return n})();PK().bootstrapModule(jce).catch(n=>console.error(n))},144:(Ms,nr,Ke)=>{Ke.d(nr,{A3:()=>V,AL:()=>Si,AV:()=>Fn,Cc:()=>bn,IN:()=>Ps,Su:()=>Ze,UR:()=>Y,Uv:()=>oo,WW:()=>X,Wg:()=>It,Ww:()=>ve,Y7:()=>Kn,YD:()=>Br,Yd:()=>Kt,Yj:()=>ql,aw:()=>si,ik:()=>Ca,kF:()=>zl,kx:()=>Z,my:()=>ks,o9:()=>Rt,qk:()=>us,sX:()=>xt,t7:()=>ri,uH:()=>mn,yW:()=>Q,yy:()=>F});const Fe=function(C){const T=[];let S=0;for(let G=0;G<C.length;G++){let N=C.charCodeAt(G);N<128?T[S++]=N:N<2048?(T[S++]=N>>6|192,T[S++]=63&N|128):55296==(64512&N)&&G+1<C.length&&56320==(64512&C.charCodeAt(G+1))?(N=65536+((1023&N)<<10)+(1023&C.charCodeAt(++G)),T[S++]=N>>18|240,T[S++]=N>>12&63|128,T[S++]=N>>6&63|128,T[S++]=63&N|128):(T[S++]=N>>12|224,T[S++]=N>>6&63|128,T[S++]=63&N|128)}return T},Bt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(C,T){if(!Array.isArray(C))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let N=0;N<C.length;N+=3){const he=C[N],Ee=N+1<C.length,Te=Ee?C[N+1]:0,jr=N+2<C.length,Be=jr?C[N+2]:0;let U=(15&Te)<<2|Be>>6,Hr=63&Be;jr||(Hr=64,Ee||(U=64)),G.push(S[he>>2],S[(3&he)<<4|Te>>4],S[U],S[Hr])}return G.join("")},encodeString(C,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(C):this.encodeByteArray(Fe(C),T)},decodeString(C,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(C):function(C){const T=[];let S=0,G=0;for(;S<C.length;){const N=C[S++];if(N<128)T[G++]=String.fromCharCode(N);else if(N>191&&N<224){const he=C[S++];T[G++]=String.fromCharCode((31&N)<<6|63&he)}else if(N>239&&N<365){const jr=((7&N)<<18|(63&C[S++])<<12|(63&C[S++])<<6|63&C[S++])-65536;T[G++]=String.fromCharCode(55296+(jr>>10)),T[G++]=String.fromCharCode(56320+(1023&jr))}else{const he=C[S++],Ee=C[S++];T[G++]=String.fromCharCode((15&N)<<12|(63&he)<<6|63&Ee)}}return T.join("")}(this.decodeStringToByteArray(C,T))},decodeStringToByteArray(C,T){this.init_();const S=T?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let N=0;N<C.length;){const he=S[C.charAt(N++)],Te=N<C.length?S[C.charAt(N)]:0;++N;const Be=N<C.length?S[C.charAt(N)]:64;++N;const rt=N<C.length?S[C.charAt(N)]:64;if(++N,null==he||null==Te||null==Be||null==rt)throw new Xe;G.push(he<<2|Te>>4),64!==Be&&(G.push(Te<<4&240|Be>>2),64!==rt&&G.push(Be<<6&192|rt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let C=0;C<this.ENCODED_VALS.length;C++)this.byteToCharMap_[C]=this.ENCODED_VALS.charAt(C),this.charToByteMap_[this.byteToCharMap_[C]]=C,this.byteToCharMapWebSafe_[C]=this.ENCODED_VALS_WEBSAFE.charAt(C),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[C]]=C,C>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(C)]=C,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(C)]=C)}}};class Xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const It=function(C){return function(C){const T=Fe(C);return Bt.encodeByteArray(T,!0)}(C).replace(/\./g,"")},X=function(C){try{return Bt.decodeString(C,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function ve(C,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===C&&(C={});break;case Array:C=[];break;default:return T}for(const S in T)!T.hasOwnProperty(S)||!lt(S)||(C[S]=ve(C[S],T[S]));return C}function lt(C){return"__proto__"!==C}const ct=()=>{try{return function yt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const C=process.env.__FIREBASE_DEFAULTS__;return C?JSON.parse(C):void 0})()||(()=>{if(typeof document>"u")return;let C;try{C=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=C&&X(C[1]);return T&&JSON.parse(T)})()}catch(C){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${C}`)}},Kt=()=>{var C;return null===(C=ct())||void 0===C?void 0:C.config},xt=C=>{var T;return null===(T=ct())||void 0===T?void 0:T[`_${C}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,S)=>{this.resolve=T,this.reject=S})}wrapCallback(T){return(S,G)=>{S?this.reject(S):this.resolve(G),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(S):T(S,G))}}}function Br(C,T){if(C.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=T||"demo-project",N=C.iat||0,he=C.sub||C.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:N,exp:N+3600,auth_time:N,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},C);return[It(JSON.stringify({alg:"none",type:"JWT"})),It(JSON.stringify(Ee)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Q(){var C;const T=null===(C=ct())||void 0===C?void 0:C.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function mn(){return"object"==typeof self&&self.self===self}function bn(){const C="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof C&&void 0!==C.id}function Si(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oo(){const C=Ze();return C.indexOf("MSIE ")>=0||C.indexOf("Trident/")>=0}function us(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F(){try{return"object"==typeof indexedDB}catch{return!1}}function V(){return new Promise((C,T)=>{try{let S=!0;const G="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(G);N.onsuccess=()=>{N.result.close(),S||self.indexedDB.deleteDatabase(G),C(!0)},N.onupgradeneeded=()=>{S=!1},N.onerror=()=>{var he;T((null===(he=N.error)||void 0===he?void 0:he.message)||"")}}catch(S){T(S)}})}class Z extends Error{constructor(T,S,G){super(S),this.code=T,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,Z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y.prototype.create)}}class Y{constructor(T,S,G){this.service=T,this.serviceName=S,this.errors=G}create(T,...S){const G=S[0]||{},N=`${this.service}/${T}`,he=this.errors[T],Ee=he?function Me(C,T){return C.replace(ft,(S,G)=>{const N=T[G];return null!=N?String(N):`<${G}?>`})}(he,G):"Error";return new Z(N,`${this.serviceName}: ${Ee} (${N}).`,G)}}const ft=/\{\$([^}]+)}/g;function Kn(C,T){return Object.prototype.hasOwnProperty.call(C,T)}function ri(C){for(const T in C)if(Object.prototype.hasOwnProperty.call(C,T))return!1;return!0}function Ps(C,T){if(C===T)return!0;const S=Object.keys(C),G=Object.keys(T);for(const N of S){if(!G.includes(N))return!1;const he=C[N],Ee=T[N];if(ii(he)&&ii(Ee)){if(!Ps(he,Ee))return!1}else if(he!==Ee)return!1}for(const N of G)if(!S.includes(N))return!1;return!0}function ii(C){return null!==C&&"object"==typeof C}function Ca(C){const T=[];for(const[S,G]of Object.entries(C))Array.isArray(G)?G.forEach(N=>{T.push(encodeURIComponent(S)+"="+encodeURIComponent(N))}):T.push(encodeURIComponent(S)+"="+encodeURIComponent(G));return T.length?"&"+T.join("&"):""}function si(C){const T={};return C.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[N,he]=G.split("=");T[decodeURIComponent(N)]=decodeURIComponent(he)}}),T}function zl(C){const T=C.indexOf("?");if(!T)return"";const S=C.indexOf("#",T);return C.substring(T,S>0?S:void 0)}function ks(C,T){const S=new ds(C,T);return S.subscribe.bind(S)}class ds{constructor(T,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{T(this)}).catch(G=>{this.error(G)})}next(T){this.forEachObserver(S=>{S.next(T)})}error(T){this.forEachObserver(S=>{S.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,S,G){let N;if(void 0===T&&void 0===S&&void 0===G)throw new Error("Missing Observer.");N=function hs(C,T){if("object"!=typeof C||null===C)return!1;for(const S of T)if(S in C&&"function"==typeof C[S])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:S,complete:G},void 0===N.next&&(N.next=ao),void 0===N.error&&(N.error=ao),void 0===N.complete&&(N.complete=ao);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),he}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,T)}sendOne(T,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{S(this.observers[T])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ao(){}function ql(C){return C&&C._delegate?C._delegate:C}},368:(Ms,nr,Ke)=>{Ke.d(nr,{c:()=>Gn});var E=Ke(144),He=Ke(920),O=Ke(360),Fe=Ke(976);class pn{constructor(et,ct){this._delegate=et,this.firebase=ct,(0,O._addComponent)(et,new He.Yl("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(et,ct=O._DEFAULT_ENTRY_NAME){var Wn;this._delegate.checkDestroyed();const rr=this._delegate.container.getProvider(et);return!rr.isInitialized()&&"EXPLICIT"===(null===(Wn=rr.getComponent())||void 0===Wn?void 0:Wn.instantiationMode)&&rr.initialize(),rr.getImmediate({identifier:ct})}_removeServiceInstance(et,ct=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(ct)}_addComponent(et){(0,O._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,O._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Xe=new E.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function It(){const At=function Dr(At){const et={},ct={__esModule:!0,initializeApp:function Kt(Ze,Fn={}){const Q=O.initializeApp(Ze,Fn);if((0,E.Y7)(et,Q.name))return et[Q.name];const mn=new At(Q,ct);return et[Q.name]=mn,mn},app:rr,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Rt(Ze){const Fn=Ze.name,Q=Fn.replace("-compat","");if(O._registerComponent(Ze)&&"PUBLIC"===Ze.type){const mn=(bn=rr())=>{if("function"!=typeof bn[Q])throw Xe.create("invalid-app-argument",{appName:Fn});return bn[Q]()};void 0!==Ze.serviceProps&&(0,E.Ww)(mn,Ze.serviceProps),ct[Q]=mn,At.prototype[Q]=function(...bn){return this._getService.bind(this,Fn).apply(this,Ze.multipleInstances?bn:[])}}return"PUBLIC"===Ze.type?ct[Q]:null},removeApp:function Wn(Ze){delete et[Ze]},useAsService:function Br(Ze,Fn){return"serverAuth"===Fn?null:Fn},modularAPIs:O}};function rr(Ze){if(!(0,E.Y7)(et,Ze=Ze||O._DEFAULT_ENTRY_NAME))throw Xe.create("no-app",{appName:Ze});return et[Ze]}return ct.default=ct,Object.defineProperty(ct,"apps",{get:function xt(){return Object.keys(et).map(Ze=>et[Ze])}}),rr.App=At,ct}(pn);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:It,extendNamespace:function et(ct){(0,E.Ww)(At,ct)},createSubscribe:E.my,ErrorFactory:E.UR,deepExtend:E.Ww}),At}(),re=new Fe.YJ("@firebase/app-compat");if((0,E.uH)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gn=X;!function yt(At){(0,O.registerVersion)("@firebase/app-compat","0.2.23",At)}()},360:(Ms,nr,Ke)=>{Ke.r(nr),Ke.d(nr,{FirebaseError:()=>Fe.kx,SDK_VERSION:()=>Ls,_DEFAULT_ENTRY_NAME:()=>si,_addComponent:()=>ds,_addOrOverwriteComponent:()=>Ur,_apps:()=>oi,_clearComponents:()=>Os,_components:()=>ks,_getProvider:()=>ao,_registerComponent:()=>hs,_removeServiceInstance:()=>lo,deleteApp:()=>Hi,getApp:()=>Sa,getApps:()=>Aa,initializeApp:()=>$l,onLog:()=>zo,registerVersion:()=>Ho,setLogLevel:()=>Ot});var E=Ke(528),He=Ke(920),O=Ke(976),Fe=Ke(144);const pn=(j,k)=>k.some(ee=>j instanceof ee);let Bt,Xe;const X=new WeakMap,re=new WeakMap,ve=new WeakMap,lt=new WeakMap,yt=new WeakMap;let et={get(j,k,ee){if(j instanceof IDBTransaction){if("done"===k)return re.get(j);if("objectStoreNames"===k)return j.objectStoreNames||ve.get(j);if("store"===k)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Kt(j[k])},set:(j,k,ee)=>(j[k]=ee,!0),has:(j,k)=>j instanceof IDBTransaction&&("done"===k||"store"===k)||k in j};function rr(j){return"function"==typeof j?function Wn(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function It(){return Xe||(Xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...k){return j.apply(xt(this),k),Kt(X.get(this))}:function(...k){return Kt(j.apply(xt(this),k))}:function(k,...ee){const Se=j.call(xt(this),k,...ee);return ve.set(Se,k.sort?k.sort():[k]),Kt(Se)}}(j):(j instanceof IDBTransaction&&function At(j){if(re.has(j))return;const k=new Promise((ee,Se)=>{const ze=()=>{j.removeEventListener("complete",dt),j.removeEventListener("error",be),j.removeEventListener("abort",be)},dt=()=>{ee(),ze()},be=()=>{Se(j.error||new DOMException("AbortError","AbortError")),ze()};j.addEventListener("complete",dt),j.addEventListener("error",be),j.addEventListener("abort",be)});re.set(j,k)}(j),pn(j,function Dr(){return Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,et):j)}function Kt(j){if(j instanceof IDBRequest)return function Gn(j){const k=new Promise((ee,Se)=>{const ze=()=>{j.removeEventListener("success",dt),j.removeEventListener("error",be)},dt=()=>{ee(Kt(j.result)),ze()},be=()=>{Se(j.error),ze()};j.addEventListener("success",dt),j.addEventListener("error",be)});return k.then(ee=>{ee instanceof IDBCursor&&X.set(ee,j)}).catch(()=>{}),yt.set(k,j),k}(j);if(lt.has(j))return lt.get(j);const k=rr(j);return k!==j&&(lt.set(j,k),yt.set(k,j)),k}const xt=j=>yt.get(j),Ze=["get","getKey","getAll","getAllKeys","count"],Fn=["put","add","delete","clear"],Q=new Map;function mn(j,k){if(!(j instanceof IDBDatabase)||k in j||"string"!=typeof k)return;if(Q.get(k))return Q.get(k);const ee=k.replace(/FromIndex$/,""),Se=k!==ee,ze=Fn.includes(ee);if(!(ee in(Se?IDBIndex:IDBObjectStore).prototype)||!ze&&!Ze.includes(ee))return;const dt=function(){var be=(0,E.c)(function*(or,...it){const fs=this.transaction(or,ze?"readwrite":"readonly");let Gl=fs.store;return Se&&(Gl=Gl.index(it.shift())),(yield Promise.all([Gl[ee](...it),ze&&fs.done]))[0]});return function(it){return be.apply(this,arguments)}}();return Q.set(k,dt),dt}!function ct(j){et=j(et)}(j=>({...j,get:(k,ee,Se)=>mn(k,ee)||j.get(k,ee,Se),has:(k,ee)=>!!mn(k,ee)||j.has(k,ee)}));class bn{constructor(k){this.container=k}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function Si(j){const k=j.getComponent();return"VERSION"===k?.type}(ee)){const Se=ee.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(ee=>ee).join(" ")}}const cs="@firebase/app",ni=new O.YJ("@firebase/app"),si="[DEFAULT]",zl={[cs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oi=new Map,ks=new Map;function ds(j,k){try{j.container.addComponent(k)}catch(ee){ni.debug(`Component ${k.name} failed to register with FirebaseApp ${j.name}`,ee)}}function Ur(j,k){j.container.addOrOverwriteComponent(k)}function hs(j){const k=j.name;if(ks.has(k))return ni.debug(`There were multiple attempts to register component ${k}.`),!1;ks.set(k,j);for(const ee of oi.values())ds(ee,j);return!0}function ao(j,k){const ee=j.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),j.container.getProvider(k)}function lo(j,k,ee=si){ao(j,k).clearInstance(ee)}function Os(){ks.clear()}const Ai=new Fe.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mr{constructor(k,ee,Se){this._isDeleted=!1,this._options=Object.assign({},k),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new He.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this.checkDestroyed(),this._automaticDataCollectionEnabled=k}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(k){this._isDeleted=k}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const Ls="10.6.0";function $l(j,k={}){let ee=j;"object"!=typeof k&&(k={name:k});const Se=Object.assign({name:si,automaticDataCollectionEnabled:!1},k),ze=Se.name;if("string"!=typeof ze||!ze)throw Ai.create("bad-app-name",{appName:String(ze)});if(ee||(ee=(0,Fe.Yd)()),!ee)throw Ai.create("no-options");const dt=oi.get(ze);if(dt){if((0,Fe.IN)(ee,dt.options)&&(0,Fe.IN)(Se,dt.config))return dt;throw Ai.create("duplicate-app",{appName:ze})}const be=new He.op(ze);for(const it of ks.values())be.addComponent(it);const or=new mr(ee,Se,be);return oi.set(ze,or),or}function Sa(j=si){const k=oi.get(j);if(!k&&j===si&&(0,Fe.Yd)())return $l();if(!k)throw Ai.create("no-app",{appName:j});return k}function Aa(){return Array.from(oi.values())}function Hi(j){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,E.c)(function*(j){const k=j.name;oi.has(k)&&(oi.delete(k),yield Promise.all(j.container.getProviders().map(ee=>ee.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Ho(j,k,ee){var Se;let ze=null!==(Se=zl[j])&&void 0!==Se?Se:j;ee&&(ze+=`-${ee}`);const dt=ze.match(/\s|\//),be=k.match(/\s|\//);if(dt||be){const or=[`Unable to register library "${ze}" with version "${k}":`];return dt&&or.push(`library name "${ze}" contains illegal characters (whitespace or "/")`),dt&&be&&or.push("and"),be&&or.push(`version name "${k}" contains illegal characters (whitespace or "/")`),void ni.warn(or.join(" "))}hs(new He.Yl(`${ze}-version`,()=>({library:ze,version:k}),"VERSION"))}function zo(j,k){if(null!==j&&"function"!=typeof j)throw Ai.create("invalid-log-argument");(0,O.S2)(j,k)}function Ot(j){(0,O.QN)(j)}const xa="firebase-heartbeat-database",ql=1,C="firebase-heartbeat-store";let T=null;function S(){return T||(T=function Rt(j,k,{blocked:ee,upgrade:Se,blocking:ze,terminated:dt}={}){const be=indexedDB.open(j,k),or=Kt(be);return Se&&be.addEventListener("upgradeneeded",it=>{Se(Kt(be.result),it.oldVersion,it.newVersion,Kt(be.transaction),it)}),ee&&be.addEventListener("blocked",it=>ee(it.oldVersion,it.newVersion,it)),or.then(it=>{dt&&it.addEventListener("close",()=>dt()),ze&&it.addEventListener("versionchange",fs=>ze(fs.oldVersion,fs.newVersion,fs))}).catch(()=>{}),or}(xa,ql,{upgrade:(j,k)=>{0===k&&j.createObjectStore(C)}}).catch(j=>{throw Ai.create("idb-open",{originalErrorMessage:j.message})})),T}function N(){return(N=(0,E.c)(function*(j){try{return yield(yield S()).transaction(C).objectStore(C).get(Te(j))}catch(k){if(k instanceof Fe.kx)ni.warn(k.message);else{const ee=Ai.create("idb-get",{originalErrorMessage:k?.message});ni.warn(ee.message)}}})).apply(this,arguments)}function he(j,k){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,E.c)(function*(j,k){try{const Se=(yield S()).transaction(C,"readwrite");yield Se.objectStore(C).put(k,Te(j)),yield Se.done}catch(ee){if(ee instanceof Fe.kx)ni.warn(ee.message);else{const Se=Ai.create("idb-set",{originalErrorMessage:ee?.message});ni.warn(Se.message)}}})).apply(this,arguments)}function Te(j){return`${j.name}!${j.options.appId}`}class sr{constructor(k){this.container=k,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new Hr(ee),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var k=this;return(0,E.c)(function*(){var ee;const ze=k.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=rt();if(null==(null===(ee=k._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)&&(k._heartbeatsCache=yield k._heartbeatsCachePromise),k._heartbeatsCache.lastSentHeartbeatDate!==dt&&!k._heartbeatsCache.heartbeats.some(be=>be.date===dt))return k._heartbeatsCache.heartbeats.push({date:dt,agent:ze}),k._heartbeatsCache.heartbeats=k._heartbeatsCache.heartbeats.filter(be=>{const or=new Date(be.date).valueOf();return Date.now()-or<=2592e6}),k._storage.overwrite(k._heartbeatsCache)})()}getHeartbeatsHeader(){var k=this;return(0,E.c)(function*(){var ee;if(null===k._heartbeatsCache&&(yield k._heartbeatsCachePromise),null==(null===(ee=k._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)||0===k._heartbeatsCache.heartbeats.length)return"";const Se=rt(),{heartbeatsToSend:ze,unsentEntries:dt}=function U(j,k=1024){const ee=[];let Se=j.slice();for(const ze of j){const dt=ee.find(be=>be.agent===ze.agent);if(dt){if(dt.dates.push(ze.date),Vs(ee)>k){dt.dates.pop();break}}else if(ee.push({agent:ze.agent,dates:[ze.date]}),Vs(ee)>k){ee.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Se}}(k._heartbeatsCache.heartbeats),be=(0,Fe.Wg)(JSON.stringify({version:2,heartbeats:ze}));return k._heartbeatsCache.lastSentHeartbeatDate=Se,dt.length>0?(k._heartbeatsCache.heartbeats=dt,yield k._storage.overwrite(k._heartbeatsCache)):(k._heartbeatsCache.heartbeats=[],k._storage.overwrite(k._heartbeatsCache)),be})()}}function rt(){return(new Date).toISOString().substring(0,10)}class Hr{constructor(k){this.app=k,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.c)(function*(){return!!(0,Fe.yy)()&&(0,Fe.A3)().then(()=>!0).catch(()=>!1)})()}read(){var k=this;return(0,E.c)(function*(){return(yield k._canUseIndexedDBPromise)&&(yield function G(j){return N.apply(this,arguments)}(k.app))||{heartbeats:[]}})()}overwrite(k){var ee=this;return(0,E.c)(function*(){var Se;if(yield ee._canUseIndexedDBPromise){const dt=yield ee.read();return he(ee.app,{lastSentHeartbeatDate:null!==(Se=k.lastSentHeartbeatDate)&&void 0!==Se?Se:dt.lastSentHeartbeatDate,heartbeats:k.heartbeats})}})()}add(k){var ee=this;return(0,E.c)(function*(){var Se;if(yield ee._canUseIndexedDBPromise){const dt=yield ee.read();return he(ee.app,{lastSentHeartbeatDate:null!==(Se=k.lastSentHeartbeatDate)&&void 0!==Se?Se:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...k.heartbeats]})}})()}}function Vs(j){return(0,Fe.Wg)(JSON.stringify({version:2,heartbeats:j})).length}!function Iu(j){hs(new He.Yl("platform-logger",k=>new bn(k),"PRIVATE")),hs(new He.Yl("heartbeat",k=>new sr(k),"PRIVATE")),Ho(cs,"0.9.23",j),Ho(cs,"0.9.23","esm2017"),Ho("fire-js","")}("")},920:(Ms,nr,Ke)=>{Ke.d(nr,{Yl:()=>O,op:()=>Dr});var E=Ke(528),He=Ke(144);class O{constructor(X,re,ve){this.name=X,this.instanceFactory=re,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Fe="[DEFAULT]";class pn{constructor(X,re){this.name=X,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const re=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(re)){const ve=new He.o9;if(this.instancesDeferred.set(re,ve),this.isInitialized(re)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:re});lt&&ve.resolve(lt)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(X){var re;const ve=this.normalizeInstanceIdentifier(X?.identifier),lt=null!==(re=X?.optional)&&void 0!==re&&re;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(yt){if(lt)return null;throw yt}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Xe(It){return"EAGER"===It.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Fe})}catch{}for(const[re,ve]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(re);try{const yt=this.getOrInitializeService({instanceIdentifier:lt});ve.resolve(yt)}catch{}}}}clearInstance(X=Fe){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,E.c)(function*(){const re=Array.from(X.instances.values());yield Promise.all([...re.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...re.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Fe){return this.instances.has(X)}getOptions(X=Fe){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:re={}}=X,ve=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:ve,options:re});for(const[yt,Gn]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(yt)&&Gn.resolve(lt);return lt}onInit(X,re){var ve;const lt=this.normalizeInstanceIdentifier(re),yt=null!==(ve=this.onInitCallbacks.get(lt))&&void 0!==ve?ve:new Set;yt.add(X),this.onInitCallbacks.set(lt,yt);const Gn=this.instances.get(lt);return Gn&&X(Gn,lt),()=>{yt.delete(X)}}invokeOnInitCallbacks(X,re){const ve=this.onInitCallbacks.get(re);if(ve)for(const lt of ve)try{lt(X,re)}catch{}}getOrInitializeService({instanceIdentifier:X,options:re={}}){let ve=this.instances.get(X);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(It=X,It===Fe?void 0:It),options:re}),this.instances.set(X,ve),this.instancesOptions.set(X,re),this.invokeOnInitCallbacks(ve,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,ve)}catch{}var It;return ve||null}normalizeInstanceIdentifier(X=Fe){return this.component?this.component.multipleInstances?X:Fe:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dr{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const re=this.getProvider(X.name);if(re.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);re.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const re=new pn(X,this);return this.providers.set(X,re),re}getProviders(){return Array.from(this.providers.values())}}},976:(Ms,nr,Ke)=>{Ke.d(nr,{Ge:()=>He,QN:()=>Dr,S2:()=>It,YJ:()=>Xe});const E=[];var He=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(He||{});const O={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Fe=He.INFO,pn={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Bt=(X,re,...ve)=>{if(re<X.logLevel)return;const lt=(new Date).toISOString(),yt=pn[re];if(!yt)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[yt](`[${lt}]  ${X.name}:`,...ve)};class Xe{constructor(re){this.name=re,this._logLevel=Fe,this._logHandler=Bt,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in He))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?O[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...re),this._logHandler(this,He.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...re),this._logHandler(this,He.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,He.INFO,...re),this._logHandler(this,He.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,He.WARN,...re),this._logHandler(this,He.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...re),this._logHandler(this,He.ERROR,...re)}}function Dr(X){E.forEach(re=>{re.setLogLevel(X)})}function It(X,re){for(const ve of E){let lt=null;re&&re.level&&(lt=O[re.level]),ve.userLogHandler=null===X?null:(yt,Gn,...At)=>{const et=At.map(ct=>{if(null==ct)return null;if("string"==typeof ct)return ct;if("number"==typeof ct||"boolean"==typeof ct)return ct.toString();if(ct instanceof Error)return ct.message;try{return JSON.stringify(ct)}catch{return null}}).filter(ct=>ct).join(" ");Gn>=(lt??yt.logLevel)&&X({level:He[Gn].toLowerCase(),message:et,args:At,type:yt.name})}}}},344:(Ms,nr,Ke)=>{Ke.r(nr);var E=Ke(528),He=Ke(368),O=Ke(144),Fe=Ke(360),pn=Ke(976),Bt=Ke(316),Xe=Ke(920);const It={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Gn=function lt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},At=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new O.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wn=new pn.YJ("@firebase/auth");function Kt(f,...c){Wn.logLevel<=pn.Ge.ERROR&&Wn.error(`Auth (${Fe.SDK_VERSION}): ${f}`,...c)}function xt(f,...c){throw Fn(f,...c)}function Rt(f,...c){return Fn(f,...c)}function Br(f,c,d){const p=Object.assign(Object.assign({},At()),{[c]:d});return new O.UR("auth","Firebase",p).create(c,{appName:f.name})}function Ze(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&xt(f,"argument-error"),Br(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fn(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return et.create(f,...c)}function Q(f,c,...d){if(!f)throw Fn(c,...d)}function mn(f){const c="INTERNAL ASSERTION FAILED: "+f;throw Kt(c),new Error(c)}function bn(f,c){f||mn(c)}function Si(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function cs(){return"http:"===oo()||"https:"===oo()}function oo(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class us{constructor(c,d){this.shortDelay=c,this.longDelay=d,bn(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,O.AV)()||(0,O.AL)()}get(){return function ni(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cs()||(0,O.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function F(f,c){bn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class V{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},W=new us(3e4,6e4);function Z(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function Y(f,c,d,p){return Me.apply(this,arguments)}function Me(){return(Me=(0,E.c)(function*(f,c,d,p,_={}){return ft(f,_,(0,E.c)(function*(){let v={},D={};p&&("GET"===c?D=p:v={body:JSON.stringify(p)});const R=(0,O.ik)(Object.assign({key:f.config.apiKey},D)).slice(1),$=yield f._getAdditionalHeaders();return $["Content-Type"]="application/json",f.languageCode&&($["X-Firebase-Locale"]=f.languageCode),V.fetch()(wn(f,f.config.apiHost,d,R),Object.assign({method:c,headers:$,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function ft(f,c,d){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,E.c)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},K),c);try{const _=new ir(f),v=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const D=yield v.json();if("needConfirmation"in D)throw Ln(f,"account-exists-with-different-credential",D);if(v.ok&&!("errorMessage"in D))return D;{const R=v.ok?D.errorMessage:D.error.message,[$,ae]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$)throw Ln(f,"credential-already-in-use",D);if("EMAIL_EXISTS"===$)throw Ln(f,"email-already-in-use",D);if("USER_DISABLED"===$)throw Ln(f,"user-disabled",D);const me=p[$]||$.toLowerCase().replace(/[_\s]+/g,"-");if(ae)throw Br(f,me,ae);xt(f,me)}}catch(_){if(_ instanceof O.kx)throw _;xt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ce(f,c,d,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,E.c)(function*(f,c,d,p,_={}){const v=yield Y(f,c,d,p,_);return"mfaPendingCredential"in v&&xt(f,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function wn(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?F(f.config,_):`${f.config.apiScheme}://${_}`}function xe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ir{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Rt(this.auth,"network-request-failed")),W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Rt(f,c,p);return _.customData._tokenResponse=d,_}function Kn(f){return void 0!==f&&void 0!==f.getResponse}function vt(f){return void 0!==f&&void 0!==f.enterprise}class ri{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return xe(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Ps(){return(Ps=(0,E.c)(function*(f){return(yield Y(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ii(f,c){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,E.c)(function*(f,c){return Y(f,"GET","/v2/recaptchaConfig",Z(f,c))})).apply(this,arguments)}function si(){return(si=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function oi(){return(oi=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ds(){return(ds=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Ur(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function lo(){return(lo=(0,E.c)(function*(f,c=!1){const d=(0,O.Yj)(f),p=yield d.getIdToken(c),_=Fs(p);Q(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,D=v?.sign_in_provider;return{claims:_,token:p,authTime:Ur(Os(_.auth_time)),issuedAtTime:Ur(Os(_.iat)),expirationTime:Ur(Os(_.exp)),signInProvider:D||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function Os(f){return 1e3*Number(f)}function Fs(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return Kt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,O.WW)(d);return _?JSON.parse(_):(Kt("Failed to decode base64 JWT payload"),null)}catch(_){return Kt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function mr(f,c){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,E.c)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof O.kx&&function $l({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Sa{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,E.c)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,E.c)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class Aa{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ur(this.lastLoginAt),this.creationTime=Ur(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hi(f){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,E.c)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield mr(f,function ks(f,c){return ds.apply(this,arguments)}(d,{idToken:p}));Q(_?.users.length,d,"internal-error");const v=_.users[0];f._notifyReloadListener(v);const D=null!==(c=v.providerUserInfo)&&void 0!==c&&c.length?function xa(f){return f.map(c=>{var{providerId:d}=c,p=(0,Bt.sX)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(v.providerUserInfo):[],R=function Ot(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,D),me=!!f.isAnonymous&&!(f.email&&v.passwordHash||R?.length),ye={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:R,metadata:new Aa(v.createdAt,v.lastLoginAt),isAnonymous:me};Object.assign(f,ye)}),Cr.apply(this,arguments)}function zo(){return(zo=(0,E.c)(function*(f){const c=(0,O.Yj)(f);yield Hi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function C(){return(C=(0,E.c)(function*(f,c){const d=yield ft(f,{},(0,E.c)(function*(){const p=(0,O.ik)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:v}=f.config,D=wn(f,_,"/v1/token",`key=${v}`),R=yield f._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",V.fetch()(D,{method:"POST",headers:R,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function S(){return(S=(0,E.c)(function*(f,c){return Y(f,"POST","/v2/accounts:revokeToken",Z(f,c))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Q(c.idToken,"internal-error"),Q(typeof c.idToken<"u","internal-error"),Q(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Ai(f){const c=Fs(f);return Q(c,"internal-error"),Q(typeof c.exp<"u","internal-error"),Q(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,E.c)(function*(){return Q(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,E.c)(function*(){const{accessToken:_,refreshToken:v,expiresIn:D}=yield function ql(f,c){return C.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,v,Number(D))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:v}=d,D=new G;return p&&(Q("string"==typeof p,"internal-error",{appName:c}),D.refreshToken=p),_&&(Q("string"==typeof _,"internal-error",{appName:c}),D.accessToken=_),v&&(Q("number"==typeof v,"internal-error",{appName:c}),D.expirationTime=v),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return mn("not implemented")}}function N(f,c){Q("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class he{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,v=(0,Bt.sX)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new Aa(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,E.c)(function*(){const p=yield mr(d,d.stsTokenManager.getToken(d.auth,c));return Q(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function ao(f){return lo.apply(this,arguments)}(this,c)}reload(){return function Ho(f){return zo.apply(this,arguments)}(this)}_assign(c){this!==c&&(Q(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new he(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,E.c)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield Hi(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,E.c)(function*(){const d=yield c.getIdToken();return yield mr(c,function Ca(f,c){return si.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,v,D,R,$,ae,me;const ye=null!==(p=d.displayName)&&void 0!==p?p:void 0,ln=null!==(_=d.email)&&void 0!==_?_:void 0,Ni=null!==(v=d.phoneNumber)&&void 0!==v?v:void 0,Gs=null!==(D=d.photoURL)&&void 0!==D?D:void 0,by=null!==(R=d.tenantId)&&void 0!==R?R:void 0,xp=null!==($=d._redirectEventId)&&void 0!==$?$:void 0,wy=null!==(ae=d.createdAt)&&void 0!==ae?ae:void 0,Ed=null!==(me=d.lastLoginAt)&&void 0!==me?me:void 0,{uid:Iy,emailVerified:bd,isAnonymous:Rp,providerData:Mp,stsTokenManager:Ty}=d;Q(Iy&&Ty,c,"internal-error");const Dy=G.fromJSON(this.name,Ty);Q("string"==typeof Iy,c,"internal-error"),N(ye,c.name),N(ln,c.name),Q("boolean"==typeof bd,c,"internal-error"),Q("boolean"==typeof Rp,c,"internal-error"),N(Ni,c.name),N(Gs,c.name),N(by,c.name),N(xp,c.name),N(wy,c.name),N(Ed,c.name);const Pp=new he({uid:Iy,auth:c,email:ln,emailVerified:bd,displayName:ye,isAnonymous:Rp,photoURL:Gs,phoneNumber:Ni,tenantId:by,stsTokenManager:Dy,createdAt:wy,lastLoginAt:Ed});return Mp&&Array.isArray(Mp)&&(Pp.providerData=Mp.map(Cy=>Object.assign({},Cy))),xp&&(Pp._redirectEventId=xp),Pp}static _fromIdTokenResponse(c,d,p=!1){return(0,E.c)(function*(){const _=new G;_.updateFromServerResponse(d);const v=new he({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Hi(v),v})()}}const Ee=new Map;function Te(f){bn(f instanceof Function,"Expected a class definition");let c=Ee.get(f);return c?(bn(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,Ee.set(f,c),c)}const Be=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.c)(function*(){return!0})()}_set(d,p){var _=this;return(0,E.c)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,E.c)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,E.c)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function sr(f,c,d){return`firebase:${f}:${c}:${d}`}class rt{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:v}=this.auth;this.fullUserKey=sr(this.userKey,_.apiKey,v),this.fullPersistenceKey=sr("persistence",_.apiKey,v),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,E.c)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?he._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,E.c)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,E.c)(function*(){if(!d.length)return new rt(Te(Be),c,p);const _=(yield Promise.all(d.map(function(){var ae=(0,E.c)(function*(me){if(yield me._isAvailable())return me});return function(me){return ae.apply(this,arguments)}}()))).filter(ae=>ae);let v=_[0]||Te(Be);const D=sr(p,c.config.apiKey,c.name);let R=null;for(const ae of d)try{const me=yield ae._get(D);if(me){const ye=he._fromJSON(c,me);ae!==v&&(R=ye),v=ae;break}}catch{}const $=_.filter(ae=>ae._shouldAllowMigration);return v._shouldAllowMigration&&$.length?(v=$[0],R&&(yield v._set(D,R.toJSON())),yield Promise.all(d.map(function(){var ae=(0,E.c)(function*(me){if(me!==v)try{yield me._remove(D)}catch{}});return function(me){return ae.apply(this,arguments)}}())),new rt(v,c,p)):new rt(v,c,p)})()}}function U(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(j(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Hr(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ee(c))return"Blackberry";if(Se(c))return"Webos";if(Vs(c))return"Safari";if((c.includes("chrome/")||Iu(c))&&!c.includes("edge/"))return"Chrome";if(k(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Hr(f=(0,O.Su)()){return/firefox\//i.test(f)}function Vs(f=(0,O.Su)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Iu(f=(0,O.Su)()){return/crios\//i.test(f)}function j(f=(0,O.Su)()){return/iemobile/i.test(f)}function k(f=(0,O.Su)()){return/android/i.test(f)}function ee(f=(0,O.Su)()){return/blackberry/i.test(f)}function Se(f=(0,O.Su)()){return/webos/i.test(f)}function ze(f=(0,O.Su)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function it(f=(0,O.Su)()){return ze(f)||k(f)||Se(f)||ee(f)||/windows phone/i.test(f)||j(f)}function Gl(f,c=[]){let d;switch(f){case"Browser":d=U((0,O.Su)());break;case"Worker":d=`${U((0,O.Su)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${Fe.SDK_VERSION}/${p}`}class Tw{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=v=>new Promise((D,R)=>{try{D(c(v))}catch($){R($)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,E.c)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const v of p)try{v()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Pe(){return(Pe=(0,E.c)(function*(f,c={}){return Y(f,"GET","/v2/passwordPolicy",Z(f,c))})).apply(this,arguments)}class pf{constructor(c){var d,p,_,v;const D=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=D.minPasswordLength)&&void 0!==d?d:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=c.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,v,D,R;const $={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,$),this.validatePasswordCharacterOptions(c,$),$.isValid&&($.isValid=null===(d=$.meetsMinPasswordLength)||void 0===d||d),$.isValid&&($.isValid=null===(p=$.meetsMaxPasswordLength)||void 0===p||p),$.isValid&&($.isValid=null===(_=$.containsLowercaseLetter)||void 0===_||_),$.isValid&&($.isValid=null===(v=$.containsUppercaseLetter)||void 0===v||v),$.isValid&&($.isValid=null===(D=$.containsNumericCharacter)||void 0===D||D),$.isValid&&($.isValid=null===(R=$.containsNonAlphanumericCharacter)||void 0===R||R),$}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,v){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=v))}}class Wl{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Du(this),this.idTokenSubscription=new Du(this),this.beforeStateQueue=new Tw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=Te(d)),this._initializationPromise=this.queue((0,E.c)(function*(){var _,v;if(!p._deleted&&(p.persistenceManager=yield rt.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(v=p.currentUser)||void 0===v?void 0:v.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,E.c)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,E.c)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let v=_,D=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const R=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,$=v?._redirectEventId,ae=yield d.tryRedirectSignIn(c);(!R||R===$)&&ae?.user&&(v=ae.user,D=!0)}if(!v)return d.directlySetCurrentUser(null);if(!v._redirectEventId){if(D)try{yield d.beforeStateQueue.runMiddleware(v)}catch(R){v=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(R))}return v?d.reloadAndSetCurrentUserOrClear(v):d.directlySetCurrentUser(null)}return Q(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===v._redirectEventId?d.directlySetCurrentUser(v):d.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(c){var d=this;return(0,E.c)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,E.c)(function*(){try{yield Hi(c)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function jo(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,E.c)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,E.c)(function*(){const p=c?(0,O.Yj)(c):null;return p&&Q(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,E.c)(function*(){if(!p._deleted)return c&&Q(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,E.c)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,E.c)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,E.c)(function*(){yield d.assertedPersistence.setPersistence(Te(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,E.c)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,E.c)(function*(){const d=yield function qt(f){return Pe.apply(this,arguments)}(c),p=new pf(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new O.UR("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,E.c)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function T(f,c){return S.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,E.c)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,E.c)(function*(){if(!d.redirectPersistenceManager){const p=c&&Te(c)||d._popupRedirectResolver;Q(p,d,"argument-error"),d.redirectPersistenceManager=yield rt.create(d,[Te(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,E.c)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,E.c)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,E.c)(function*(){if(c===d.currentUser)return d.queue((0,E.c)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const v="function"==typeof d?d:d.next.bind(d);let D=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(R,this,"internal-error"),R.then(()=>{D||v(this.currentUser)}),"function"==typeof d){const $=c.addObserver(d,p,_);return()=>{D=!0,$()}}{const $=c.addObserver(d);return()=>{D=!0,$()}}}directlySetCurrentUser(c){var d=this;return(0,E.c)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Gl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,E.c)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const v=yield c._getAppCheckToken();return v&&(p["X-Firebase-AppCheck"]=v),p})()}_getAppCheckToken(){var c=this;return(0,E.c)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function rr(f,...c){Wn.logLevel<=pn.Ge.WARN&&Wn.warn(`Auth (${Fe.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function Ut(f){return(0,O.Yj)(f)}class Du{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,O.my)(d=>this.observer=d)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zi(f){return new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const v=Rt("internal-error");v.customData=_,d(v)},p.type="text/javascript",p.charset="UTF-8",function f_(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)})}function Ra(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Dw{constructor(c){this.type="recaptcha-enterprise",this.auth=Ut(c)}verify(c="verify",d=!1){var p=this;return(0,E.c)(function*(){function v(){return v=(0,E.c)(function*(R){if(!d){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var $=(0,E.c)(function*(ae,me){ii(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ye=>{if(void 0!==ye.recaptchaKey){const ln=new ri(ye);return null==R.tenantId?R._agentRecaptchaConfig=ln:R._tenantRecaptchaConfigs[R.tenantId]=ln,ae(ln.siteKey)}me(new Error("recaptcha Enterprise site key undefined"))}).catch(ye=>{me(ye)})});return function(ae,me){return $.apply(this,arguments)}}())}),v.apply(this,arguments)}function D(R,$,ae){const me=window.grecaptcha;vt(me)?me.enterprise.ready(()=>{me.enterprise.execute(R,{action:c}).then(ye=>{$(ye)}).catch(()=>{$("NO_RECAPTCHA")})}):ae(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,$)=>{(function _(R){return v.apply(this,arguments)})(p.auth).then(ae=>{if(!d&&vt(window.grecaptcha))D(ae,R,$);else{if(typeof window>"u")return void $(new Error("RecaptchaVerifier is only supported in browser"));zi("https://www.google.com/recaptcha/enterprise.js?render="+ae).then(()=>{D(ae,R,$)}).catch(me=>{$(me)})}}).catch(ae=>{$(ae)})})})()}}function m_(f,c,d){return mf.apply(this,arguments)}function mf(){return(mf=(0,E.c)(function*(f,c,d,p=!1){const _=new Dw(f);let v;try{v=yield _.verify(d)}catch{v=yield _.verify(d,!0)}const D=Object.assign({},c);return Object.assign(D,p?{captchaResp:v}:{captchaResponse:v}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function Cu(f,c,d,p){return gf.apply(this,arguments)}function gf(){return gf=(0,E.c)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield m_(f,c,d,"getOobCode"===d);return p(f,v)}return p(f,c).catch(function(){var v=(0,E.c)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield m_(f,c,d,"getOobCode"===d);return p(f,R)}return Promise.reject(D)});return function(D){return v.apply(this,arguments)}}())}),gf.apply(this,arguments)}function Bs(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Aw(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Kl{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return mn("not implemented")}_getIdTokenResponse(c){return mn("not implemented")}_linkToIdToken(c,d){return mn("not implemented")}_getReauthenticationResolver(c){return mn("not implemented")}}function g_(f,c){return __.apply(this,arguments)}function __(){return(__=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:resetPassword",Z(f,c))})).apply(this,arguments)}function y_(){return(y_=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ai(f,c){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function v_(){return(v_=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",Z(f,c))})).apply(this,arguments)}function Zx(f,c){return E_.apply(this,arguments)}function E_(){return(E_=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signInWithPassword",Z(f,c))})).apply(this,arguments)}function pe(f,c){return b_.apply(this,arguments)}function b_(){return(b_=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:sendOobCode",Z(f,c))})).apply(this,arguments)}function Ma(){return(Ma=(0,E.c)(function*(f,c){return pe(f,c)})).apply(this,arguments)}function Jx(f,c){return Su.apply(this,arguments)}function Su(){return(Su=(0,E.c)(function*(f,c){return pe(f,c)})).apply(this,arguments)}function Rw(f,c){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,E.c)(function*(f,c){return pe(f,c)})).apply(this,arguments)}function Yl(){return(Yl=(0,E.c)(function*(f,c){return pe(f,c)})).apply(this,arguments)}function yf(){return(yf=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signInWithEmailLink",Z(f,c))})).apply(this,arguments)}function Ql(){return(Ql=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signInWithEmailLink",Z(f,c))})).apply(this,arguments)}class Na extends Kl{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Na(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Na(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,E.c)(function*(){switch(d.signInMethod){case"password":return Cu(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zx);case"emailLink":return function w_(f,c){return yf.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:xt(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,E.c)(function*(){switch(p.signInMethod){case"password":return Cu(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ai);case"emailLink":return function pt(f,c){return Ql.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:xt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function gn(f,c){return xu.apply(this,arguments)}function xu(){return(xu=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signInWithIdp",Z(f,c))})).apply(this,arguments)}class st extends Kl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new st(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):xt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,v=(0,Bt.sX)(d,["providerId","signInMethod"]);if(!p||!_)return null;const D=new st(p,_);return D.idToken=v.idToken||void 0,D.accessToken=v.accessToken||void 0,D.secret=v.secret,D.nonce=v.nonce,D.pendingToken=v.pendingToken||null,D}_getIdTokenResponse(c){return gn(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,gn(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,gn(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,O.ik)(d)}return c}}function I_(){return(I_=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:sendVerificationCode",Z(f,c))})).apply(this,arguments)}function Xl(){return(Xl=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",Z(f,c))})).apply(this,arguments)}function Ru(){return(Ru=(0,E.c)(function*(f,c){const d=yield Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",Z(f,c));if(d.temporaryProof)throw Ln(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Ef={USER_NOT_FOUND:"user-not-found"};function Zl(){return(Zl=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signInWithPhoneNumber",Z(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Ef)})).apply(this,arguments)}class ka extends Kl{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new ka({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new ka({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function ie(f,c){return Xl.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function vf(f,c){return Ru.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Mw(f,c){return Zl.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}=c;return p||d||_||v?new ka({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}):null}}class Mu{constructor(c){var d,p,_,v,D,R;const $=(0,O.aw)((0,O.kF)(c)),ae=null!==(d=$.apiKey)&&void 0!==d?d:null,me=null!==(p=$.oobCode)&&void 0!==p?p:null,ye=function nR(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=$.mode)&&void 0!==_?_:null);Q(ae&&me&&ye,"argument-error"),this.apiKey=ae,this.operation=ye,this.code=me,this.continueUrl=null!==(v=$.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(D=$.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(R=$.tenantId)&&void 0!==R?R:null}static parseLink(c){const d=function rR(f){const c=(0,O.aw)((0,O.kF)(f)).link,d=c?(0,O.aw)((0,O.kF)(c)).deep_link_id:null,p=(0,O.aw)((0,O.kF)(f)).deep_link_id;return(p?(0,O.aw)((0,O.kF)(p)).link:null)||p||d||c||f}(c);try{return new Mu(d)}catch{return null}}}let $o=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Na._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Mu.parseLink(p);return Q(_,"argument-error"),Na._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class $i{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Us extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Oa extends Us{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return Q("providerId"in d&&"signInMethod"in d,"argument-error"),st._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Q(c.idToken||c.accessToken,"argument-error"),st._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Oa.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Oa.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:v,nonce:D,providerId:R}=c;if(!p&&!_&&!d&&!v||!R)return null;try{return new Oa(R)._credential({idToken:d,accessToken:p,nonce:D,pendingToken:v})}catch{return null}}}let T_=(()=>{class f extends Us{constructor(){super("facebook.com")}static credential(d){return st._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),D_=(()=>{class f extends Us{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return st._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),bf=(()=>{class f extends Us{constructor(){super("github.com")}static credential(d){return st._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class La extends Kl{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return gn(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,gn(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,gn(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:v}=d;return p&&_&&v&&p===_?new La(p,v):null}static _create(c,d){return new La(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pu extends $i{constructor(c){Q(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Pu.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Pu.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=La.fromJSON(c);return Q(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return La._create(p,d)}catch{return null}}}let B=(()=>{class f extends Us{constructor(){super("twitter.com")}static credential(d,p){return st._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function wf(f,c){return ke.apply(this,arguments)}function ke(){return(ke=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signUp",Z(f,c))})).apply(this,arguments)}class Ar{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,E.c)(function*(){const v=yield he._fromIdTokenResponse(c,p,_),D=Nu(p);return new Ar({user:v,providerId:D,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,E.c)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=Nu(p);return new Ar({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function Nu(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function If(){return(If=(0,E.c)(function*(f){var c;const d=Ut(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Ar({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield wf(d,{returnSecureToken:!0}),_=yield Ar._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ku extends O.kx{constructor(c,d,p,_){var v;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:c.name,tenantId:null!==(v=c.tenantId)&&void 0!==v?v:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new ku(c,d,p,_)}}function C_(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?ku._fromErrorAndOperation(f,v,c,p):v})}function ps(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function li(){return li=(0,E.c)(function*(f,c){const d=(0,O.Yj)(f);yield ge(!0,d,c);const{providerUserInfo:p}=yield function zl(f,c){return oi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=ps(p||[]);return d.providerData=d.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),li.apply(this,arguments)}function xi(f,c){return gt.apply(this,arguments)}function gt(){return(gt=(0,E.c)(function*(f,c,d=!1){const p=yield mr(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return Ar._forOperation(f,"link",p)})).apply(this,arguments)}function ge(f,c,d){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,E.c)(function*(f,c,d){yield Hi(c);const _=!1===f?"provider-already-linked":"no-such-provider";Q(ps(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function Lu(f,c){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,E.c)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const v=yield mr(f,C_(p,_,c,f),d);Q(v.idToken,p,"internal-error");const D=Fs(v.idToken);Q(D,p,"internal-error");const{sub:R}=D;return Q(f.uid===R,p,"user-mismatch"),Ar._forOperation(f,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&xt(p,"user-mismatch"),v}})).apply(this,arguments)}function Tf(f,c){return qo.apply(this,arguments)}function qo(){return(qo=(0,E.c)(function*(f,c,d=!1){const p="signIn",_=yield C_(f,p,c),v=yield Ar._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(v.user)),v})).apply(this,arguments)}function ec(f,c){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,E.c)(function*(f,c){return Tf(Ut(f),c)})).apply(this,arguments)}function S_(f,c){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,E.c)(function*(f,c){const d=(0,O.Yj)(f);return yield ge(!1,d,c.providerId),xi(d,c)})).apply(this,arguments)}function A_(f,c){return Df.apply(this,arguments)}function Df(){return(Df=(0,E.c)(function*(f,c){return Lu((0,O.Yj)(f),c)})).apply(this,arguments)}function Cf(){return(Cf=(0,E.c)(function*(f,c){return Ce(f,"POST","/v1/accounts:signInWithCustomToken",Z(f,c))})).apply(this,arguments)}function Sf(){return Sf=(0,E.c)(function*(f,c){const d=Ut(f),p=yield function qi(f,c){return Cf.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield Ar._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),Sf.apply(this,arguments)}class tc{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Af._fromServerResponse(c,d):"totpInfo"in d?xf._fromServerResponse(c,d):xt(c,"internal-error")}}class Af extends tc{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Af(d)}}class xf extends tc{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new xf(d)}}function nc(f,c,d){var p;Q((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),Q(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Q(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(Q(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function Rf(f){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,E.c)(function*(f){const c=Ut(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function xr(){return(xr=(0,E.c)(function*(f,c,d){const p=Ut(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&nc(p,_,d),yield Cu(p,_,"getOobCode",Jx)})).apply(this,arguments)}function Pf(){return Pf=(0,E.c)(function*(f,c,d){yield g_((0,O.Yj)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,E.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rf(f),_});return function(_){return p.apply(this,arguments)}}())}),Pf.apply(this,arguments)}function ju(){return ju=(0,E.c)(function*(f,c){yield function Xx(f,c){return v_.apply(this,arguments)}((0,O.Yj)(f),{oobCode:c})}),ju.apply(this,arguments)}function Re(f,c){return gr.apply(this,arguments)}function gr(){return(gr=(0,E.c)(function*(f,c){const d=(0,O.Yj)(f),p=yield g_(d,{oobCode:c}),_=p.requestType;switch(Q(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(p.mfaInfo,d,"internal-error");default:Q(p.email,d,"internal-error")}let v=null;return p.mfaInfo&&(v=tc._fromServerResponse(Ut(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function In(){return(In=(0,E.c)(function*(f,c){const{data:d}=yield Re((0,O.Yj)(f),c);return d.email})).apply(this,arguments)}function js(){return(js=(0,E.c)(function*(f,c,d){const p=Ut(f),D=yield Cu(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wf).catch($=>{throw"auth/password-does-not-meet-requirements"===$.code&&Rf(f),$}),R=yield Ar._fromIdTokenResponse(p,"signIn",D);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}function Hu(){return(Hu=(0,E.c)(function*(f,c,d){const p=Ut(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function v(D,R){Q(R.handleCodeInApp,p,"argument-error"),R&&nc(p,D,R)})(_,d),yield Cu(p,_,"getOobCode",Rw)})).apply(this,arguments)}function Nf(){return(Nf=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f),_=$o.credentialWithLink(c,d||Si());return Q(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),ec(p,_)})).apply(this,arguments)}function se(){return(se=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:createAuthUri",Z(f,c))})).apply(this,arguments)}function an(){return an=(0,E.c)(function*(f,c){const p={identifier:c,continueUri:cs()?Si():"http://localhost"},{signinMethods:_}=yield function Jt(f,c){return se.apply(this,arguments)}((0,O.Yj)(f),p);return _||[]}),an.apply(this,arguments)}function Yn(){return Yn=(0,E.c)(function*(f,c){const d=(0,O.Yj)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&nc(d.auth,_,c);const{email:v}=yield function Zt(f,c){return Ma.apply(this,arguments)}(d.auth,_);v!==f.email&&(yield f.reload())}),Yn.apply(this,arguments)}function uo(){return uo=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&nc(p.auth,v,d);const{email:D}=yield function Au(f,c){return Yl.apply(this,arguments)}(p.auth,v);D!==f.email&&(yield f.reload())}),uo.apply(this,arguments)}function lr(){return(lr=(0,E.c)(function*(f,c){return Y(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ue(){return Ue=(0,E.c)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,O.Yj)(f),v={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},D=yield mr(p,function Gt(f,c){return lr.apply(this,arguments)}(p.auth,v));p.displayName=D.displayName||null,p.photoURL=D.photoUrl||null;const R=p.providerData.find(({providerId:$})=>"password"===$);R&&(R.displayName=p.displayName,R.photoURL=p.photoURL),yield p._updateTokensIfNecessary(D)}),Ue.apply(this,arguments)}function Go(f,c,d){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,E.c)(function*(f,c,d){const{auth:p}=f,v={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(v.email=c),d&&(v.password=d);const D=yield mr(f,function xw(f,c){return y_.apply(this,arguments)}(p,v));yield f._updateTokensIfNecessary(D,!0)}),Yt.apply(this,arguments)}class Ki{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class Yi extends Ki{constructor(c,d,p,_){super(c,d,p),this.username=_}}class sc extends Ki{constructor(c,d){super(c,"facebook.com",d)}}class P_ extends Yi{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class ho extends Ki{constructor(c,d){super(c,"google.com",d)}}class $u extends Yi{constructor(c,d,p){super(c,"twitter.com",d,p)}}function Wo(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function ic(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},v=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const D=null===(d=null===(c=Fs(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(D)return new Ki(v,"anonymous"!==D&&"custom"!==D?D:null)}if(!p)return null;switch(p){case"facebook.com":return new sc(v,_);case"github.com":return new P_(v,_);case"google.com":return new ho(v,_);case"twitter.com":return new $u(v,_,f.screenName||null);case"custom":case"anonymous":return new Ki(v,null);default:return new Ki(v,p,_)}}(d)}class cr{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new cr("enroll",c,d)}static _fromMfaPendingCredential(c){return new cr("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return cr._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return cr._fromIdtoken(c.multiFactorSession.idToken)}return null}}class oc{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=Ut(c),_=d.customData._serverResponse,v=(_.mfaInfo||[]).map(R=>tc._fromServerResponse(p,R));Q(_.mfaPendingCredential,p,"internal-error");const D=cr._fromMfaPendingCredential(_.mfaPendingCredential);return new oc(D,v,function(){var R=(0,E.c)(function*($){const ae=yield $._process(p,D);delete _.mfaInfo,delete _.mfaPendingCredential;const me=Object.assign(Object.assign({},_),{idToken:ae.idToken,refreshToken:ae.refreshToken});switch(d.operationType){case"signIn":const ye=yield Ar._fromIdTokenResponse(p,d.operationType,me);return yield p._updateCurrentUser(ye.user),ye;case"reauthenticate":return Q(d.user,p,"internal-error"),Ar._forOperation(d.user,d.operationType,me);default:xt(p,"internal-error")}});return function($){return R.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,E.c)(function*(){return d.signInResolver(c)})()}}class F_{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>tc._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new F_(c)}getSession(){var c=this;return(0,E.c)(function*(){return cr._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,E.c)(function*(){const _=c,v=yield p.getSession(),D=yield mr(p.user,_._process(p.user.auth,v,d));return yield p.user._updateTokensIfNecessary(D),p.user.reload()})()}unenroll(c){var d=this;return(0,E.c)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const v=yield mr(d.user,function Of(f,c){return Y(f,"POST","/v2/accounts/mfaEnrollment:withdraw",Z(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:D})=>D!==p),yield d.user._updateTokensIfNecessary(v),yield d.user.reload()}catch(v){throw v}})()}}const L_=new WeakMap,Ff="__sak";class Bw{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lf=(()=>{class f extends Bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sR(){const f=(0,O.Su)();return Vs(f)||ze(f)}()&&function fs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=it(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),v=this.localCache[p];_!==v&&d(p,v,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((R,$,ae)=>{this.notifyListeners(R,ae)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(d.newValue!==R)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const v=()=>{const R=this.storage.getItem(_);!p&&this.localCache[_]===R||this.notifyListeners(_,R)},D=this.storage.getItem(_);!function or(){return(0,O.Uv)()&&10===document.documentMode}()||D===d.newValue||d.newValue===d.oldValue?v():setTimeout(v,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,v=this;return(0,E.c)(function*(){yield _().call(v,d,p),v.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,E.c)(function*(){const v=yield p().call(_,d);return _.localCache[d]=JSON.stringify(v),v})()}_remove(d){var p=()=>super._remove,_=this;return(0,E.c)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Ko=(()=>{class f extends Bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let B_=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(v=>v.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,E.c)(function*(){const _=d,{eventId:v,eventType:D,data:R}=_.data,$=p.handlersMap[D];if(!$?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:D});const ae=Array.from($).map(function(){var ye=(0,E.c)(function*(ln){return ln(_.origin,R)});return function(ln){return ye.apply(this,arguments)}}()),me=yield function V_(f){return Promise.all(f.map(function(){var c=(0,E.c)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(ae);_.ports[0].postMessage({status:"done",eventId:v,eventType:D,response:me})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Wu(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class lR{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,E.c)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let D,R;return new Promise(($,ae)=>{const me=Wu("",20);v.port1.start();const ye=setTimeout(()=>{ae(new Error("unsupported_event"))},p);R={messageChannel:v,onMessage(ln){const Ni=ln;if(Ni.data.eventId===me)switch(Ni.data.status){case"ack":clearTimeout(ye),D=setTimeout(()=>{ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),$(Ni.data.response);break;default:clearTimeout(ye),clearTimeout(D),ae(new Error("invalid_response"))}}},_.handlers.add(R),v.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:c,eventId:me,data:d},[v.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function Vn(){return window}function zs(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function Ku(){return(Ku=(0,E.c)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const j_="firebaseLocalStorageDb",ac="firebaseLocalStorage",Vf="fbase_key";class lc{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ja(f,c){return f.transaction([ac],c?"readwrite":"readonly").objectStore(ac)}function Mi(){const f=indexedDB.open(j_,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(ac,{keyPath:Vf})}catch(_){d(_)}}),f.addEventListener("success",(0,E.c)(function*(){const p=f.result;p.objectStoreNames.contains(ac)?c(p):(p.close(),yield function Hw(){const f=indexedDB.deleteDatabase(j_);return new lc(f).toPromise()}(),c(yield Mi()))}))})}function Bf(f,c,d){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,E.c)(function*(f,c,d){const p=ja(f,!0).put({[Vf]:c,value:d});return new lc(p).toPromise()})).apply(this,arguments)}function Uf(){return(Uf=(0,E.c)(function*(f,c){const d=ja(f,!1).get(c),p=yield new lc(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function zw(f,c){const d=ja(f,!0).delete(c);return new lc(d).toPromise()}const An=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.c)(function*(){return d.db||(d.db=yield Mi()),d.db})()}_withRetries(d){var p=this;return(0,E.c)(function*(){let _=0;for(;;)try{const v=yield p._openDb();return yield d(v)}catch(v){if(_++>3)throw v;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.c)(function*(){return zs()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.c)(function*(){d.receiver=B_._getInstance(function U_(){return zs()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,E.c)(function*(_,v){return{keyProcessed:(yield d._poll()).includes(v.key)}});return function(_,v){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,E.c)(function*(_,v){return["keyChanged"]});return function(_,v){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.c)(function*(){var p,_;if(d.activeServiceWorker=yield function Uw(){return Ku.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new lR(d.activeServiceWorker);const v=yield d.sender._send("ping",{},800);v&&null!==(p=v[0])&&void 0!==p&&p.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,E.c)(function*(){if(p.sender&&p.activeServiceWorker&&function ci(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.c)(function*(){try{if(!indexedDB)return!1;const d=yield Mi();return yield Bf(d,Ff,"1"),yield zw(d,Ff),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,E.c)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,E.c)(function*(){return _._withPendingWrite((0,E.c)(function*(){return yield _._withRetries(v=>Bf(v,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,E.c)(function*(){const _=yield p._withRetries(v=>function H_(f,c){return Uf.apply(this,arguments)}(v,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,E.c)(function*(){return p._withPendingWrite((0,E.c)(function*(){return yield p._withRetries(_=>zw(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.c)(function*(){const p=yield d._withRetries(D=>{const R=ja(D,!1).getAll();return new lc(R).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],v=new Set;for(const{fbase_key:D,value:R}of p)v.add(D),JSON.stringify(d.localCache[D])!==JSON.stringify(R)&&(d.notifyListeners(D,R),_.push(D));for(const D of Object.keys(d.localCache))d.localCache[D]&&!v.has(D)&&(d.notifyListeners(D,null),_.push(D));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.c)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),za=1e12;class Gw{constructor(c){this.auth=c,this.counter=za,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new ms(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||za;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||za))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,E.c)(function*(){var p;return null===(p=d._widgets.get(c||za))||void 0===p||p.execute(),""})()}}class ms{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;Q(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function z_(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hf=Ra("rcb"),$_=new us(3e4,6e4);class $f{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Vn().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return Q(function uc(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&Kn(Vn().grecaptcha)?Promise.resolve(Vn().grecaptcha):new Promise((p,_)=>{const v=Vn().setTimeout(()=>{_(Rt(c,"network-request-failed"))},$_.get());Vn()[Hf]=()=>{Vn().clearTimeout(v),delete Vn()[Hf];const R=Vn().grecaptcha;if(!R||!Kn(R))return void _(Rt(c,"internal-error"));const $=R.render;R.render=(ae,me)=>{const ye=$(ae,me);return this.counter++,ye},this.hostLanguage=d,p(R)},zi(`https://www.google.com/recaptcha/api.js??${(0,O.ik)({onload:Hf,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(v),_(Rt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=Vn().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xu{load(c){return(0,E.c)(function*(){return new Gw(c)})()}clearedOneInstance(){}}const Zu="recaptcha",Yo={theme:"light",type:"image"};class Le{constructor(c,d,p=Object.assign({},Yo)){this.parameters=p,this.type=Zu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(c),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;Q(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xu:new $f,this.validateStartingState()}verify(){var c=this;return(0,E.c)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(v=>{const D=R=>{R&&(c.tokenChangeListeners.delete(D),v(R))};c.tokenChangeListeners.add(D),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=Vn()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,E.c)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,E.c)(function*(){Q(cs()&&!zs(),c.auth,"internal-error"),yield function q_(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Hl(f){return Ps.apply(this,arguments)}(c.auth);Q(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class G_{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=ka._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function qf(){return(qf=(0,E.c)(function*(f,c,d){const p=Ut(f),_=yield ed(p,c,(0,O.Yj)(d));return new G_(_,v=>ec(p,v))})).apply(this,arguments)}function Ju(){return(Ju=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f);yield ge(!1,p,"phone");const _=yield ed(p.auth,c,(0,O.Yj)(d));return new G_(_,v=>S_(p,v))})).apply(this,arguments)}function Gf(){return(Gf=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f),_=yield ed(p.auth,c,(0,O.Yj)(d));return new G_(_,v=>A_(p,v))})).apply(this,arguments)}function ed(f,c,d){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,E.c)(function*(f,c,d){var p;const _=yield d.verify();try{let v;if(Q("string"==typeof _,f,"argument-error"),Q(d.type===Zu,f,"argument-error"),v="string"==typeof c?{phoneNumber:c}:c,"session"in v){const D=v.session;if("phoneNumber"in v)return Q("enroll"===D.type,f,"internal-error"),(yield function Fw(f,c){return Y(f,"POST","/v2/accounts/mfaEnrollment:start",Z(f,c))}(f,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{Q("signin"===D.type,f,"internal-error");const R=(null===(p=v.multiFactorHint)||void 0===p?void 0:p.uid)||v.multiFactorUid;return Q(R,f,"missing-multi-factor-info"),(yield function $w(f,c){return Y(f,"POST","/v2/accounts/mfaSignIn:start",Z(f,c))}(f,{mfaPendingCredential:D.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function tR(f,c){return I_.apply(this,arguments)}(f,{phoneNumber:v.phoneNumber,recaptchaToken:_});return D}}finally{d._reset()}}),Wf.apply(this,arguments)}function Kf(){return(Kf=(0,E.c)(function*(f,c){yield xi((0,O.Yj)(f),c)})).apply(this,arguments)}let z=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=Ut(d)}verifyPhoneNumber(d,p){return ed(this.auth,d,(0,O.Yj)(p))}static credential(d,p){return ka._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?ka._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function tt(f,c){return c?Te(c):(Q(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class gs extends Kl{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return gn(c,this._buildIdpRequest())}_linkToIdToken(c,d){return gn(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return gn(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function fo(f){return Tf(f.auth,new gs(f),f.bypassAuthState)}function Lt(f){const{auth:c,user:d}=f;return Q(d,c,"internal-error"),Lu(d,new gs(f),f.bypassAuthState)}function W_(f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,E.c)(function*(f){const{auth:c,user:d}=f;return Q(d,c,"internal-error"),xi(d,new gs(f),f.bypassAuthState)})).apply(this,arguments)}class Qi{constructor(c,d,p,_,v=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,E.c)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(v){c.reject(v)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,E.c)(function*(){const{urlResponse:p,sessionId:_,postBody:v,tenantId:D,error:R,type:$}=c;if(R)return void d.reject(R);const ae={auth:d.auth,requestUri:p,sessionId:_,tenantId:D||void 0,postBody:v||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask($)(ae))}catch(me){d.reject(me)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return fo;case"linkViaPopup":case"linkViaRedirect":return W_;case"reauthViaPopup":case"reauthViaRedirect":return Lt;default:xt(this.auth,"internal-error")}}resolve(c){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yf=new us(2e3,1e4);function Xf(){return(Xf=(0,E.c)(function*(f,c,d){const p=Ut(f);Ze(f,c,$i);const _=tt(p,d);return new nd(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function td(){return(td=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f);Ze(p.auth,c,$i);const _=tt(p.auth,d);return new nd(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function Xi(){return(Xi=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f);Ze(p.auth,c,$i);const _=tt(p.auth,d);return new nd(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let nd=(()=>{class f extends Qi{constructor(d,p,_,v,D){super(d,p,v,D),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.c)(function*(){const p=yield d.execute();return Q(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,E.c)(function*(){bn(1===d.filter.length,"Popup operations only handle one event");const p=Wu();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Rt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Yf.get())};d()}}return f.currentPopupAction=null,f})();const _s="pendingRedirect",di=new Map;class Qw extends Qi{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,E.c)(function*(){let p=di.get(d.auth._key());if(!p){try{const v=(yield function K_(f,c){return Zf.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(v)}catch(_){p=()=>Promise.reject(_)}di.set(d.auth._key(),p)}return d.bypassAuthState||di.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,E.c)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,E.c)(function*(){})()}cleanUp(){}}function Zf(){return(Zf=(0,E.c)(function*(f,c){const d=Y_(c),p=id(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Jf(f,c){return dc.apply(this,arguments)}function dc(){return(dc=(0,E.c)(function*(f,c){return id(f)._set(Y_(c),"true")})).apply(this,arguments)}function rd(f,c){di.set(f._key(),c)}function id(f){return Te(f._redirectPersistence)}function Y_(f){return sr(_s,f.config.apiKey,f.name)}function Q_(f,c,d){return function tp(f,c,d){return sd.apply(this,arguments)}(f,c,d)}function sd(){return(sd=(0,E.c)(function*(f,c,d){const p=Ut(f);Ze(f,c,$i),yield p._initializationPromise;const _=tt(p,d);return yield Jf(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function X_(f,c,d){return function Z_(f,c,d){return od.apply(this,arguments)}(f,c,d)}function od(){return(od=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f);Ze(p.auth,c,$i),yield p.auth._initializationPromise;const _=tt(p.auth,d);yield Jf(_,p.auth);const v=yield ip(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",v)})).apply(this,arguments)}function np(f,c,d){return function Xw(f,c,d){return Qn.apply(this,arguments)}(f,c,d)}function Qn(){return(Qn=(0,E.c)(function*(f,c,d){const p=(0,O.Yj)(f);Ze(p.auth,c,$i),yield p.auth._initializationPromise;const _=tt(p.auth,d);yield ge(!1,p,c.providerId),yield Jf(_,p.auth);const v=yield ip(p);return _._openRedirect(p.auth,c,"linkViaRedirect",v)})).apply(this,arguments)}function jt(){return(jt=(0,E.c)(function*(f,c){return yield Ut(f)._initializationPromise,qa(f,c,!1)})).apply(this,arguments)}function qa(f,c){return rp.apply(this,arguments)}function rp(){return(rp=(0,E.c)(function*(f,c,d=!1){const p=Ut(f),_=tt(p,c),D=yield new Qw(p,_,d).execute();return D&&!d&&(delete D.user._redirectEventId,yield p._persistUserIfCurrent(D.user),yield p._setRedirectUser(null,c)),D})).apply(this,arguments)}function ip(f){return sp.apply(this,arguments)}function sp(){return(sp=(0,E.c)(function*(f){const c=Wu(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class op{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Zw(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $s(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!$s(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Rt(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hc(c))}saveEventToCache(c){this.cachedEventUids.add(hc(c)),this.lastProcessedEventTime=Date.now()}}function hc(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function $s({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===c?.code}function fc(f){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,E.c)(function*(f,c={}){return Y(f,"GET","/v1/projects",c)})).apply(this,arguments)}const ad=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ap=/^https?/;function ld(){return(ld=(0,E.c)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield fc(f);for(const d of c)try{if(Jw(d))return}catch{}xt(f,"unauthorized-domain")})).apply(this,arguments)}function Jw(f){const c=Si(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const D=new URL(f);return""===D.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&D.hostname===p}if(!ap.test(d))return!1;if(ad.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const Wa=new us(3e4,6e4);function Ka(){const f=Vn().___jsl;if(f?.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Ya=null;const nI=new us(5e3,15e3),rI="__/auth/iframe",dR="emulator/auth/iframe",hR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pc(f){const c=f.config;Q(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?F(c,dR):`https://${f.config.authDomain}/${rI}`,p={apiKey:c.apiKey,appName:f.name,v:Fe.SDK_VERSION},_=lp.get(f.config.apiHost);_&&(p.eid=_);const v=f._getFrameworks();return v.length&&(p.fw=v.join(",")),`${d}?${(0,O.ik)(p).slice(1)}`}function Zo(){return Zo=(0,E.c)(function*(f){const c=yield function tI(f){return Ya=Ya||function eI(f){return new Promise((c,d)=>{var p,_,v;function D(){Ka(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Ka(),d(Rt(f,"network-request-failed"))},timeout:Wa.get()})}if(null!==(_=null===(p=Vn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(v=Vn().gapi)||void 0===v||!v.load){const R=Ra("iframefcb");return Vn()[R]=()=>{gapi.load?D():d(Rt(f,"network-request-failed"))},zi(`https://apis.google.com/js/api.js?onload=${R}`).catch($=>d($))}D()}}).catch(c=>{throw Ya=null,c})}(f),Ya}(f),d=Vn().gapi;return Q(d,f,"internal-error"),c.open({where:document.body,url:pc(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hR,dontclear:!0},p=>new Promise(function(){var _=(0,E.c)(function*(v,D){yield p.restyle({setHideOnLeave:!1});const R=Rt(f,"network-request-failed"),$=Vn().setTimeout(()=>{D(R)},nI.get());function ae(){Vn().clearTimeout($),v(p)}p.ping(ae).then(ae,()=>{D(R)})});return function(v,D){return _.apply(this,arguments)}}()))}),Zo.apply(this,arguments)}const cp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ry{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ud="__/auth/handler",up="emulator/auth/handler",iy=encodeURIComponent("fac");function Qa(f,c,d,p,_,v){return mc.apply(this,arguments)}function mc(){return(mc=(0,E.c)(function*(f,c,d,p,_,v){Q(f.config.authDomain,f,"auth-domain-config-required"),Q(f.config.apiKey,f,"invalid-api-key");const D={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:Fe.SDK_VERSION,eventId:_};if(c instanceof $i){c.setDefaultLanguage(f.languageCode),D.providerId=c.providerId||"",(0,O.t7)(c.getCustomParameters())||(D.customParameters=JSON.stringify(c.getCustomParameters()));for(const[me,ye]of Object.entries(v||{}))D[me]=ye}if(c instanceof Us){const me=c.getScopes().filter(ye=>""!==ye);me.length>0&&(D.scopes=me.join(","))}f.tenantId&&(D.tid=f.tenantId);const R=D;for(const me of Object.keys(R))void 0===R[me]&&delete R[me];const $=yield f._getAppCheckToken(),ae=$?`#${iy}=${encodeURIComponent($)}`:"";return`${function oI({config:f}){return f.emulator?F(f,up):`https://${f.authDomain}/${ud}`}(f)}?${(0,O.ik)(R).slice(1)}${ae}`})).apply(this,arguments)}const dd="webStorageSupport",dp=class sy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ko,this._completeRedirectFn=qa,this._overrideRedirectResult=rd}_openPopup(c,d,p,_){var v=this;return(0,E.c)(function*(){var D;bn(null===(D=v.eventManagers[c._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const R=yield Qa(c,d,p,Si(),_);return function ys(f,c,d,p=500,_=600){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),D=Math.max((window.screen.availWidth-p)/2,0).toString();let R="";const $=Object.assign(Object.assign({},cp),{width:p.toString(),height:_.toString(),top:v,left:D}),ae=(0,O.Su)().toLowerCase();d&&(R=Iu(ae)?"_blank":d),Hr(ae)&&(c=c||"http://localhost",$.scrollbars="yes");const me=Object.entries($).reduce((ln,[Ni,Gs])=>`${ln}${Ni}=${Gs},`,"");if(function be(f=(0,O.Su)()){var c;return ze(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(ae)&&"_self"!==R)return function sI(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",R),new ry(null);const ye=window.open(c||"",R,me);Q(ye,f,"popup-blocked");try{ye.focus()}catch{}return new ry(ye)}(c,R,Wu())})()}_openRedirect(c,d,p,_){var v=this;return(0,E.c)(function*(){return yield v._originValidation(c),function cR(f){Vn().location.href=f}(yield Qa(c,d,p,Si(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:v}=this.eventManagers[d];return _?Promise.resolve(_):(bn(v,"If manager is not set, promise should be"),v)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,E.c)(function*(){const p=yield function iI(f){return Zo.apply(this,arguments)}(c),_=new op(c);return p.register("authEvent",v=>(Q(v?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(dd,{type:dd},_=>{var v;const D=null===(v=_?.[0])||void 0===v?void 0:v[dd];void 0!==D&&d(!!D),xt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function ey(f){return ld.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return it()||Vs()||ze()}};class hp{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return mn("unexpected MultiFactorSessionType")}}}class fp extends hp{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new fp(c)}_finalizeEnroll(c,d,p){return function kf(f,c){return Y(f,"POST","/v2/accounts/mfaEnrollment:finalize",Z(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function cc(f,c){return Y(f,"POST","/v2/accounts/mfaSignIn:finalize",Z(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hd=(()=>{class f{constructor(){}static assertion(d){return fp._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Jo="@firebase/auth";class Bn{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,E.c)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pi(){return window}(0,O.sX)("authIdTokenMaxAge"),function yr(f){(0,Fe._registerComponent)(new Xe.Yl("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),v=c.getProvider("app-check-internal"),{apiKey:D,authDomain:R}=p.options;Q(D&&!D.includes(":"),"invalid-api-key",{appName:p.name});const $={apiKey:D,authDomain:R,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gl(f)},ae=new Wl(p,_,v,$);return function Cw(f,c){const d=c?.persistence||[],p=(Array.isArray(d)?d:[d]).map(Te);c?.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,c?.popupRedirectResolver)}(ae,d),ae},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,Fe._registerComponent)(new Xe.Yl("auth-internal",c=>{const d=Ut(c.getProvider("auth").getImmediate());return new Bn(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)(Jo,"1.4.0",function aI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Fe.registerVersion)(Jo,"1.4.0","esm2017")}("Browser");function yc(){return yc=(0,E.c)(function*(f,c,d){var p;const{BuildInfo:_}=Pi();bn(c.sessionId,"AuthEvent did not contain a session ID");const v=yield function gR(f){return cy.apply(this,arguments)}(c.sessionId),D={};return ze()?D.ibi=_.packageName:k()?D.apn=_.packageName:xt(f,"operation-not-supported-in-this-environment"),_.displayName&&(D.appDisplayName=_.displayName),D.sessionId=v,Qa(f,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,D)}),yc.apply(this,arguments)}function ay(){return(ay=(0,E.c)(function*(f){const{BuildInfo:c}=Pi(),d={};ze()?d.iosBundleId=c.packageName:k()?d.androidPackageName=c.packageName:xt(f,"operation-not-supported-in-this-environment"),yield fc(f,d)})).apply(this,arguments)}function ly(){return(ly=(0,E.c)(function*(f,c,d){const{cordova:p}=Pi();let _=()=>{};try{yield new Promise((v,D)=>{let R=null;function $(){var ye;v();const ln=null===(ye=p.plugins.browsertab)||void 0===ye?void 0:ye.close;"function"==typeof ln&&ln(),"function"==typeof d?.close&&d.close()}function ae(){R||(R=window.setTimeout(()=>{D(Rt(f,"redirect-cancelled-by-user"))},2e3))}function me(){"visible"===document?.visibilityState&&ae()}c.addPassiveListener($),document.addEventListener("resume",ae,!1),k()&&document.addEventListener("visibilitychange",me,!1),_=()=>{c.removePassiveListener($),document.removeEventListener("resume",ae,!1),document.removeEventListener("visibilitychange",me,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function cy(){return(cy=(0,E.c)(function*(f){const c=function _R(f){if(bn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),d=new Uint8Array(c);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class uI extends op{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,E.c)(function*(){yield c.initPromise})()}}function uy(f){return ta.apply(this,arguments)}function ta(){return(ta=(0,E.c)(function*(f){const c=yield po()._get(pd(f));return c&&(yield po()._remove(pd(f))),c})).apply(this,arguments)}function zr(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function po(){return Te(Lf)}function pd(f){return sr("authEvent",f.config.apiKey,f.name)}function tl(f){if(!f?.includes("?"))return{};const[c,...d]=f.split("?");return(0,O.aw)(d.join("?"))}const vR=class dy{constructor(){this._redirectPersistence=Ko,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qa,this._overrideRedirectResult=rd}_initialize(c){var d=this;return(0,E.c)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new uI(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){xt(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var v=this;return(0,E.c)(function*(){!function mR(f){var c,d,p,_,v,D,R,$,ae,me;const ye=Pi();Q("function"==typeof(null===(c=ye?.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(d=ye?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(v=null===(_=null===(p=ye?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===($=null===(R=null===(D=ye?.cordova)||void 0===D?void 0:D.plugins)||void 0===R?void 0:R.browsertab)||void 0===$?void 0:$.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(me=null===(ae=ye?.cordova)||void 0===ae?void 0:ae.InAppBrowser)||void 0===me?void 0:me.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const D=yield v._initialize(c);yield D.initialized(),D.resetRedirect(),function ep(){di.clear()}(),yield v._originValidation(c);const R=function dI(f,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:zr(),postBody:null,tenantId:f.tenantId,error:Rt(f,"no-auth-event")}}(c,p,_);yield function Un(f,c){return po()._set(pd(f),c)}(c,R);const $=yield function oy(f,c,d){return yc.apply(this,arguments)}(c,R,d),ae=yield function cI(f){const{cordova:c}=Pi();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function dt(f=(0,O.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}($);return function pR(f,c,d){return ly.apply(this,arguments)}(c,D,ae)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ja(f){return ay.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:v}=Pi(),D=setTimeout((0,E.c)(function*(){yield uy(c),d.onEvent($r())}),500),R=function(){var me=(0,E.c)(function*(ye){clearTimeout(D);const ln=yield uy(c);let Ni=null;ln&&ye?.url&&(Ni=function hI(f,c){var d,p;const _=function gd(f){const c=tl(f),d=c.link?decodeURIComponent(c.link):void 0,p=tl(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return tl(_).link||_||p||d||f}(c);if(_.includes("/__/auth/callback")){const v=tl(_),D=v.firebaseError?function md(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,R=null===(p=null===(d=D?.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],$=R?Rt(R):null;return $?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:$,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(ln,ye.url)),d.onEvent(Ni||$r())});return function(ln){return me.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,R);const $=_,ae=`${v.packageName.toLowerCase()}://`;Pi().handleOpenURL=function(){var me=(0,E.c)(function*(ye){if(ye.toLowerCase().startsWith(ae)&&R({url:ye}),"function"==typeof $)try{$(ye)}catch(ln){console.error(ln)}});return function(ye){return me.apply(this,arguments)}}()}};function $r(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rt("no-auth-event")}}function vc(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function fy(f=(0,O.Su)()){return!("file:"!==vc()&&"ionic:"!==vc()&&"capacitor:"!==vc()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ec(){try{const f=self.localStorage,c=Wu();if(f)return f.setItem(c,"1"),f.removeItem(c),!function vp(f=(0,O.Su)()){return function mI(){return(0,O.Uv)()&&11===document?.documentMode}()||function gI(f=(0,O.Su)()){return/Edge\/\d+/.test(f)}(f)}()||(0,O.yy)()}catch{return Ep()&&(0,O.yy)()}return!1}function Ep(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rl(){return(function fI(){return"http:"===vc()||"https:"===vc()}()||(0,O.Cc)()||fy())&&!function pI(){return(0,O.AL)()||(0,O.yW)()}()&&Ec()&&!Ep()}function py(){return fy()&&typeof document<"u"}function wp(){return(wp=(0,E.c)(function*(){return!!py()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const Nr={LOCAL:"local",NONE:"none",SESSION:"session"},mo=Q,Ip="persistence";function Tp(f){return go.apply(this,arguments)}function go(){return(go=(0,E.c)(function*(f){yield f._initializationPromise;const c=gy(),d=sr(Ip,f.config.apiKey,f.name);c&&c.setItem(d,f._getPersistence())})).apply(this,arguments)}function gy(){var f;try{return(null===(f=function my(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const bR=Q;class qs{constructor(){this.browserResolver=Te(dp),this.cordovaResolver=Te(vR),this.underlyingResolver=null,this._redirectPersistence=Ko,this._completeRedirectFn=qa,this._overrideRedirectResult=rd}_initialize(c){var d=this;return(0,E.c)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var v=this;return(0,E.c)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var v=this;return(0,E.c)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return py()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bR(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,E.c)(function*(){if(c.underlyingResolver)return;const d=yield function bp(){return wp.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function _y(f){return f.unwrap()}function yI(f){return yy(f)}function yy(f){const{_tokenResponse:c}=f instanceof O.kx?f.customData:f;if(!c)return null;if(!(f instanceof O.kx)&&"temporaryProof"in c&&"phoneNumber"in c)return z.credentialFromResult(f);const d=c.providerId;if(!d||d===It.PASSWORD)return null;let p;switch(d){case It.GOOGLE:p=D_;break;case It.FACEBOOK:p=T_;break;case It.GITHUB:p=bf;break;case It.TWITTER:p=B;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:R,nonce:$}=c;return v||D||_||R?R?d.startsWith("saml.")?La._create(d,R):st._fromParams({providerId:d,signInMethod:d,pendingToken:R,idToken:_,accessToken:v}):new Oa(d).credential({idToken:_,accessToken:v,rawNonce:$}):null}return f instanceof O.kx?p.credentialFromError(f):p.credentialFromResult(f)}function jn(f,c){return c.catch(d=>{throw d instanceof O.kx&&function vI(f,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new yd(f,function Ow(f,c){var d;const p=(0,O.Yj)(f),_=c;return Q(c.customData.operationType,p,"argument-error"),Q(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),oc._fromError(p,_)}(f,c));else if(p){const _=yy(c),v=c;_&&(v.credential=_,v.tenantId=p.tenantId||void 0,v.email=p.email||void 0,v.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:yI(d),additionalUserInfo:Wo(d),user:Zi.getOrCreate(_)}})}function _d(f,c){return wc.apply(this,arguments)}function wc(){return(wc=(0,E.c)(function*(f,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>jn(f,d.confirm(p))}})).apply(this,arguments)}class yd{constructor(c,d){this.resolver=d,this.auth=function wR(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return jn(_y(this.auth),this.resolver.resolveSignIn(c))}}class Zi{constructor(c){this._delegate=c,this.multiFactor=function iR(f){const c=(0,O.Yj)(f);return L_.has(c)||L_.set(c,F_._fromUser(c)),L_.get(c)}(c)}static getOrCreate(c){return Zi.USER_MAP.has(c)||Zi.USER_MAP.set(c,new Zi(c)),Zi.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,E.c)(function*(){return jn(d.auth,S_(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,E.c)(function*(){return _d(p.auth,function Kw(f,c,d){return Ju.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,E.c)(function*(){return jn(d.auth,function Pr(f,c,d){return Xi.apply(this,arguments)}(d._delegate,c,qs))})()}linkWithRedirect(c){var d=this;return(0,E.c)(function*(){return yield Tp(Ut(d.auth)),np(d._delegate,c,qs)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,E.c)(function*(){return jn(d.auth,A_(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return _d(this.auth,function $a(f,c,d){return Gf.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return jn(this.auth,function uR(f,c,d){return td.apply(this,arguments)}(this._delegate,c,qs))}reauthenticateWithRedirect(c){var d=this;return(0,E.c)(function*(){return yield Tp(Ut(d.auth)),X_(d._delegate,c,qs)})()}sendEmailVerification(c){return function Gi(f,c){return Yn.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,E.c)(function*(){return yield function Ou(f,c){return li.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function rc(f,c){return Go((0,O.Yj)(f),c,null)}(this._delegate,c)}updatePassword(c){return function M_(f,c){return Go((0,O.Yj)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Yw(f,c){return Kf.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Hs(f,c){return Ue.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function Wi(f,c,d){return uo.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zi.USER_MAP=new WeakMap;const Ic=Q;let Dp=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;Ic(_,"invalid-api-key",{appName:d.name}),Ic(_,"invalid-api-key",{appName:d.name});const v=typeof window<"u"?qs:void 0;this._delegate=p.initialize({options:{persistence:vd(_,d.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(Gn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function Sw(f,c,d){const p=Ut(f);Q(p._canInitEmulator,p,"emulator-config-failed"),Q(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,v=Bs(c),{host:D,port:R}=function Yx(f){const c=Bs(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const v=_[1];return{host:v,port:Aw(p.substr(v.length+1))}}{const[v,D]=p.split(":");return{host:v,port:Aw(D)}}}(c);p.config.emulator={url:`${v}//${D}${null===R?"":`:${R}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:D,port:R,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Qx(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function on(f,c){return ju.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Re(this._delegate,d)}confirmPasswordReset(d,p){return function Nw(f,c,d){return Pf.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,E.c)(function*(){return jn(_._delegate,function ar(f,c,d){return js.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Ae(f,c){return an.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function zu(f,c){const d=Mu.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,E.c)(function*(){Ic(rl(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function Xo(f,c){return jt.apply(this,arguments)}(d._delegate,qs);return p?jn(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function yp(f,c){Ut(f)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:v,error:D,complete:R}=Cp(d,p,_);return this._delegate.onAuthStateChanged(v,D,R)}onIdTokenChanged(d,p,_){const{next:v,error:D,complete:R}=Cp(d,p,_);return this._delegate.onIdTokenChanged(v,D,R)}sendSignInLinkToEmail(d,p){return function R_(f,c,d){return Hu.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function Pw(f,c,d){return xr.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,E.c)(function*(){let _;switch(function _I(f,c){mo(Object.values(Nr).includes(c),f,"invalid-persistence-type"),(0,O.AL)()?mo(c!==Nr.SESSION,f,"unsupported-persistence-type"):(0,O.yW)()?mo(c===Nr.NONE,f,"unsupported-persistence-type"):Ep()?mo(c===Nr.NONE||c===Nr.LOCAL&&(0,O.yy)(),f,"unsupported-persistence-type"):mo(c===Nr.NONE||Ec(),f,"unsupported-persistence-type")}(p._delegate,d),d){case Nr.SESSION:_=Ko;break;case Nr.LOCAL:_=(yield Te(An)._isAvailable())?An:Lf;break;case Nr.NONE:_=Be;break;default:return xt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return jn(this._delegate,function Jl(f){return If.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return jn(this._delegate,ec(this._delegate,d))}signInWithCustomToken(d){return jn(this._delegate,function x_(f,c){return Sf.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return jn(this._delegate,function _r(f,c,d){return ec((0,O.Yj)(f),$o.credential(c,d)).catch(function(){var p=(0,E.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rf(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return jn(this._delegate,function kw(f,c,d){return Nf.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return _d(this._delegate,function Ww(f,c,d){return qf.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,E.c)(function*(){return Ic(rl(),p._delegate,"operation-not-supported-in-this-environment"),jn(p._delegate,function Qf(f,c,d){return Xf.apply(this,arguments)}(p._delegate,d,qs))})()}signInWithRedirect(d){var p=this;return(0,E.c)(function*(){return Ic(rl(),p._delegate,"operation-not-supported-in-this-environment"),yield Tp(p._delegate),Q_(p._delegate,d,qs)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function ot(f,c){return In.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Nr,f})();function Cp(f,c,d){let p=f;"function"!=typeof f&&({next:p,error:c,complete:d}=f);const _=p;return{next:D=>_(D&&Zi.getOrCreate(D)),error:c,complete:d}}function vd(f,c){const d=function bc(f,c){const d=gy();if(!d)return[];const p=sr(Ip,f,c);switch(d.getItem(p)){case Nr.NONE:return[Be];case Nr.LOCAL:return[An,Ko];case Nr.SESSION:return[Ko];default:return[]}}(f,c);if(typeof self<"u"&&!d.includes(An)&&d.push(An),typeof window<"u")for(const p of[Lf,Ko])d.includes(p)||d.push(p);return d.includes(Be)||d.push(Be),d}class vy{constructor(){this.providerId="phone",this._delegate=new z(_y(He.c.auth()))}static credential(c,d){return z.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}vy.PHONE_SIGN_IN_METHOD=z.PHONE_SIGN_IN_METHOD,vy.PROVIDER_ID=z.PROVIDER_ID;const Sp=Q;class EI{constructor(c,d,p=He.c.app()){var _;Sp(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new Le(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ey(f){f.INTERNAL.registerComponent(new Xe.Yl("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new Dp(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$o,FacebookAuthProvider:T_,GithubAuthProvider:bf,GoogleAuthProvider:D_,OAuthProvider:Oa,SAMLAuthProvider:Pu,PhoneAuthProvider:vy,PhoneMultiFactorGenerator:hd,RecaptchaVerifier:EI,TwitterAuthProvider:B,Auth:Dp,AuthCredential:Kl,Error:O.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(He.c)},528:(Ms,nr,Ke)=>{function E(O,Fe,pn,Bt,Xe,Dr,It){try{var X=O[Dr](It),re=X.value}catch(ve){return void pn(ve)}X.done?Fe(re):Promise.resolve(re).then(Bt,Xe)}function He(O){return function(){var Fe=this,pn=arguments;return new Promise(function(Bt,Xe){var Dr=O.apply(Fe,pn);function It(re){E(Dr,Bt,Xe,It,X,"next",re)}function X(re){E(Dr,Bt,Xe,It,X,"throw",re)}It(void 0)})}}Ke.d(nr,{c:()=>He})},316:(Ms,nr,Ke)=>{function Fe(F,V){var K={};for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&V.indexOf(W)<0&&(K[W]=F[W]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(W=Object.getOwnPropertySymbols(F);Z<W.length;Z++)V.indexOf(W[Z])<0&&Object.prototype.propertyIsEnumerable.call(F,W[Z])&&(K[W[Z]]=F[W[Z]])}return K}function ve(F,V,K,W){return new(K||(K=Promise))(function(Y,Me){function ft(Et){try{Ce(W.next(Et))}catch(wn){Me(wn)}}function Cn(Et){try{Ce(W.throw(Et))}catch(wn){Me(wn)}}function Ce(Et){Et.done?Y(Et.value):function Z(Y){return Y instanceof K?Y:new K(function(Me){Me(Y)})}(Et.value).then(ft,Cn)}Ce((W=W.apply(F,V||[])).next())})}function Kt(F){return this instanceof Kt?(this.v=F,this):new Kt(F)}function xt(F,V,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,W=K.apply(F,V||[]),Y=[];return Z={},Me("next"),Me("throw"),Me("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function Me(xe){W[xe]&&(Z[xe]=function(ir){return new Promise(function(Ln,Kn){Y.push([xe,ir,Ln,Kn])>1||ft(xe,ir)})})}function ft(xe,ir){try{!function Cn(xe){xe.value instanceof Kt?Promise.resolve(xe.value.v).then(Ce,Et):wn(Y[0][2],xe)}(W[xe](ir))}catch(Ln){wn(Y[0][3],Ln)}}function Ce(xe){ft("next",xe)}function Et(xe){ft("throw",xe)}function wn(xe,ir){xe(ir),Y.shift(),Y.length&&ft(Y[0][0],Y[0][1])}}function Br(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,V=F[Symbol.asyncIterator];return V?V.call(F):(F=function At(F){var V="function"==typeof Symbol&&Symbol.iterator,K=V&&F[V],W=0;if(K)return K.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&W>=F.length&&(F=void 0),{value:F&&F[W++],done:!F}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),K={},W("next"),W("throw"),W("return"),K[Symbol.asyncIterator]=function(){return this},K);function W(Y){K[Y]=F[Y]&&function(Me){return new Promise(function(ft,Cn){!function Z(Y,Me,ft,Cn){Promise.resolve(Cn).then(function(Ce){Y({value:Ce,done:ft})},Me)}(ft,Cn,(Me=F[Y](Me)).done,Me.value)})}}}Ke.d(nr,{U1:()=>Kt,kH:()=>ve,mA:()=>Br,o7:()=>xt,sX:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},Ms=>{Ms(Ms.s=532)}]);